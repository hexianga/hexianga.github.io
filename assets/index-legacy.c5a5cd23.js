!function(){function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var t=document.createElement("style");t.innerHTML='.scrollbar-optimise::-webkit-scrollbar{width:12px;height:12px}.scrollbar-optimise::-webkit-scrollbar-thumb{background-color:rgba(127,127,127,.6);background-clip:padding-box;border:2px solid transparent;border-radius:6px}.scrollbar-optimise::-webkit-scrollbar-track:horizontal:hover{background-color:rgba(127,127,127,.01);border-top:1px solid rgba(0,0,0,.1)}.scrollbar-optimise::-webkit-scrollbar-thumb:horizontal:hover{background-color:#7f7f7f}.scrollbar-optimise::-webkit-scrollbar-thumb:horizontal:active{background:rgba(95,91,91,1)}.scrollbar-optimise::-webkit-scrollbar-corner{background:red}.scroll-hover-visible::-webkit-scrollbar{display:none;width:12px;height:12px}.scroll-hover-visible:hover::-webkit-scrollbar{display:block}.scroll-hover-visible::-webkit-scrollbar-thumb{background-color:rgba(127,127,127,.6);background-clip:padding-box;border:2px solid transparent;border-radius:6px}.scrollbar-hidden{scrollbar-width:none}.scrollbar-hidden::-webkit-scrollbar{display:none}.textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;-moz-text-size-adjust:none;text-size-adjust:none;-webkit-transform-origin:left top;transform-origin:left top}.textLayer span,.textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;-webkit-transform-origin:0% 0%;transform-origin:0% 0%}.textLayer span.markedContent{top:0;height:0}.textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}.textLayer .highlight.appended{position:initial}.textLayer .highlight.begin{border-radius:4px 0 0 4px}.textLayer .highlight.end{border-radius:0 4px 4px 0}.textLayer .highlight.middle{border-radius:0}.textLayer .highlight.selected{background-color:#006400}.textLayer ::selection{background:rgba(0,0,255,1)}.textLayer br::selection{background:transparent}.textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;-ms-user-select:none;user-select:none}.textLayer .endOfContent.active{top:0}.hljs{display:block;overflow-x:auto;padding:.5em;color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-number,.hljs-literal,.hljs-variable,.hljs-template-variable,.hljs-tag .hljs-attr{color:teal}.hljs-string,.hljs-doctag{color:#d14}.hljs-title,.hljs-section,.hljs-selector-id{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-type,.hljs-class .hljs-title{color:#458;font-weight:700}.hljs-tag,.hljs-name,.hljs-attribute{color:navy;font-weight:400}.hljs-regexp,.hljs-link{color:#009926}.hljs-symbol,.hljs-bullet{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.markdown-body .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.markdown-body .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}.markdown-body .anchor:focus{outline:0}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1:hover .anchor .octicon-link:before,.markdown-body h2:hover .anchor .octicon-link:before,.markdown-body h3:hover .anchor .octicon-link:before,.markdown-body h4:hover .anchor .octicon-link:before,.markdown-body h5:hover .anchor .octicon-link:before,.markdown-body h6:hover .anchor .octicon-link:before{width:16px;height:16px;content:" ";display:inline-block;background-image:url("data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 16 16\' version=\'1.1\' width=\'16\' height=\'16\' aria-hidden=\'true\'%3E%3Cpath fill-rule=\'evenodd\' d=\'M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\'%3E%3C/path%3E%3C/svg%3E")}.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#24292e;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body details{display:block}.markdown-body summary{display:list-item}.markdown-body a{background-color:initial}.markdown-body a:active,.markdown-body a:hover{outline-width:0}.markdown-body strong{font-weight:inherit;font-weight:bolder}.markdown-body h1{font-size:2em;margin:.67em 0}.markdown-body img{border-style:none}.markdown-body code,.markdown-body kbd,.markdown-body pre{font-family:monospace,monospace;font-size:1em}.markdown-body hr{box-sizing:initial;height:0;overflow:visible}.markdown-body input{font:inherit;margin:0;overflow:visible}.markdown-body [type=checkbox]{box-sizing:border-box;padding:0}.markdown-body *{box-sizing:border-box}.markdown-body input{font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body a{color:#0366d6;text-decoration:none}.markdown-body a:hover{text-decoration:underline}.markdown-body strong{font-weight:600}.markdown-body hr{height:0;margin:15px 0;overflow:hidden;background:0 0;border:0;border-bottom:1px solid #dfe2e5}.markdown-body hr:after,.markdown-body hr:before{display:table;content:""}.markdown-body hr:after{clear:both}.markdown-body table{border-spacing:0;border-collapse:collapse}.markdown-body td,.markdown-body th{padding:0}.markdown-body details summary{cursor:pointer}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:0;margin-bottom:0}.markdown-body h1{font-size:32px}.markdown-body h1,.markdown-body h2{font-weight:600}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:20px}.markdown-body h3,.markdown-body h4{font-weight:600}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:14px}.markdown-body h5,.markdown-body h6{font-weight:600}.markdown-body h6{font-size:12px}.markdown-body p{margin-top:0;margin-bottom:10px}.markdown-body blockquote{margin:0}.markdown-body ol,.markdown-body ul{padding-left:0;margin-top:0;margin-bottom:0}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ol ol ol,.markdown-body ol ul ol,.markdown-body ul ol ol,.markdown-body ul ul ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body code,.markdown-body pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px}.markdown-body pre{margin-top:0;margin-bottom:0}.markdown-body input::-webkit-inner-spin-button,.markdown-body input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none;appearance:none}.markdown-body :checked+.radio-label{position:relative;z-index:1;border-color:#0366d6}.markdown-body .border{border:1px solid #e1e4e8!important}.markdown-body .border-0{border:0!important}.markdown-body .border-bottom{border-bottom:1px solid #e1e4e8!important}.markdown-body .rounded-1{border-radius:3px!important}.markdown-body .bg-white{background-color:#fff!important}.markdown-body .bg-gray-light{background-color:#fafbfc!important}.markdown-body .text-gray-light{color:#6a737d!important}.markdown-body .my-2{margin-top:8px!important;margin-bottom:8px!important}.markdown-body .pl-3,.markdown-body .px-3{padding-left:16px!important}.markdown-body .px-3{padding-right:16px!important}.markdown-body .f6{font-size:12px!important}.markdown-body .lh-condensed{line-height:1.25!important}.markdown-body .text-bold{font-weight:600!important}.markdown-body .pl-c{color:#6a737d}.markdown-body .pl-c1,.markdown-body .pl-s .pl-v{color:#005cc5}.markdown-body .pl-e,.markdown-body .pl-en{color:#6f42c1}.markdown-body .pl-s .pl-s1,.markdown-body .pl-smi{color:#24292e}.markdown-body .pl-ent{color:#22863a}.markdown-body .pl-k{color:#d73a49}.markdown-body .pl-pds,.markdown-body .pl-s,.markdown-body .pl-s .pl-pse .pl-s1,.markdown-body .pl-sr,.markdown-body .pl-sr .pl-cce,.markdown-body .pl-sr .pl-sra,.markdown-body .pl-sr .pl-sre{color:#032f62}.markdown-body .pl-smw,.markdown-body .pl-v{color:#e36209}.markdown-body .pl-bu{color:#b31d28}.markdown-body .pl-ii{color:#fafbfc;background-color:#b31d28}.markdown-body .pl-c2{color:#fafbfc;background-color:#d73a49}.markdown-body .pl-c2:before{content:"^M"}.markdown-body .pl-sr .pl-cce{font-weight:700;color:#22863a}.markdown-body .pl-ml{color:#735c0f}.markdown-body .pl-mh,.markdown-body .pl-mh .pl-en,.markdown-body .pl-ms{font-weight:700;color:#005cc5}.markdown-body .pl-mi{font-style:italic;color:#24292e}.markdown-body .pl-mb{font-weight:700;color:#24292e}.markdown-body .pl-md{color:#b31d28;background-color:#ffeef0}.markdown-body .pl-mi1{color:#22863a;background-color:#f0fff4}.markdown-body .pl-mc{color:#e36209;background-color:#ffebda}.markdown-body .pl-mi2{color:#f6f8fa;background-color:#005cc5}.markdown-body .pl-mdr{font-weight:700;color:#6f42c1}.markdown-body .pl-ba{color:#586069}.markdown-body .pl-sg{color:#959da5}.markdown-body .pl-corl{text-decoration:underline;color:#032f62}.markdown-body .mb-0{margin-bottom:0!important}.markdown-body .my-2{margin-bottom:8px!important;margin-top:8px!important}.markdown-body .pl-0{padding-left:0!important}.markdown-body .py-0{padding-top:0!important;padding-bottom:0!important}.markdown-body .pl-1{padding-left:4px!important}.markdown-body .pl-2{padding-left:8px!important}.markdown-body .py-2{padding-top:8px!important;padding-bottom:8px!important}.markdown-body .pl-3{padding-left:16px!important}.markdown-body .pl-4{padding-left:24px!important}.markdown-body .pl-5{padding-left:32px!important}.markdown-body .pl-6{padding-left:40px!important}.markdown-body .pl-7{padding-left:48px!important}.markdown-body .pl-8{padding-left:64px!important}.markdown-body .pl-9{padding-left:80px!important}.markdown-body .pl-10{padding-left:96px!important}.markdown-body .pl-11{padding-left:112px!important}.markdown-body .pl-12{padding-left:128px!important}.markdown-body hr{border-bottom-color:#eee}.markdown-body kbd{display:inline-block;padding:3px 5px;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;line-height:10px;color:#444d56;vertical-align:middle;background-color:#fafbfc;border:1px solid #d1d5da;border-radius:3px;box-shadow:inset 0 -1px #d1d5da}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body blockquote,.markdown-body details,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e1e4e8;border:0}.markdown-body blockquote{padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eaecef}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#6a737d}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li{word-wrap:break-all}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto}.markdown-body table th{font-weight:600}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #dfe2e5}.markdown-body table tr{background-color:#fff;border-top:1px solid #c6cbd1}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body img{max-width:100%;box-sizing:initial;background-color:#fff}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body code{padding:.2em .4em;margin:0;font-size:85%;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:0 0;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px}.markdown-body pre code{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:initial;border:0}.markdown-body .commit-tease-sha{display:inline-block;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:90%;color:#444d56}.markdown-body .full-commit .btn-outline:not(:disabled):hover{color:#005cc5;border-color:#005cc5}.markdown-body .blob-wrapper{overflow-x:auto;overflow-y:hidden}.markdown-body .blob-wrapper-embedded{max-height:240px;overflow-y:auto}.markdown-body .blob-num{width:1%;min-width:50px;padding-right:10px;padding-left:10px;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;line-height:20px;color:rgba(27,31,35,.3);text-align:right;white-space:nowrap;vertical-align:top;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none}.markdown-body .blob-num:hover{color:rgba(27,31,35,.6)}.markdown-body .blob-num:before{content:attr(data-line-number)}.markdown-body .blob-code{position:relative;padding-right:10px;padding-left:10px;line-height:20px;vertical-align:top}.markdown-body .blob-code-inner{overflow:visible;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;color:#24292e;word-wrap:normal;white-space:pre}.markdown-body .pl-token.active,.markdown-body .pl-token:hover{cursor:pointer;background:#ffea7f}.markdown-body .tab-size[data-tab-size="1"]{tab-size:1}.markdown-body .tab-size[data-tab-size="2"]{tab-size:2}.markdown-body .tab-size[data-tab-size="3"]{tab-size:3}.markdown-body .tab-size[data-tab-size="4"]{tab-size:4}.markdown-body .tab-size[data-tab-size="5"]{tab-size:5}.markdown-body .tab-size[data-tab-size="6"]{tab-size:6}.markdown-body .tab-size[data-tab-size="7"]{tab-size:7}.markdown-body .tab-size[data-tab-size="8"]{tab-size:8}.markdown-body .tab-size[data-tab-size="9"]{tab-size:9}.markdown-body .tab-size[data-tab-size="10"]{tab-size:10}.markdown-body .tab-size[data-tab-size="11"]{tab-size:11}.markdown-body .tab-size[data-tab-size="12"]{tab-size:12}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item+.task-list-item{margin-top:3px}.markdown-body .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}ul{list-style:unset!important}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;tab-size:4;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-webkit-input-placeholder,textarea::-webkit-input-placeholder{opacity:1;color:#9ca3af}input:-ms-input-placeholder,textarea:-ms-input-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}.\\!container{width:100%!important}@media (min-width: 640px){.container{max-width:640px}.\\!container{max-width:640px!important}}@media (min-width: 768px){.container{max-width:768px}.\\!container{max-width:768px!important}}@media (min-width: 1024px){.container{max-width:1024px}.\\!container{max-width:1024px!important}}@media (min-width: 1280px){.container{max-width:1280px}.\\!container{max-width:1280px!important}}@media (min-width: 1536px){.container{max-width:1536px}.\\!container{max-width:1536px!important}}.pointer-events-none{pointer-events:none}.visible{visibility:visible}.invisible{visibility:hidden}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:-webkit-sticky;position:sticky}.top-0{top:0px}.-left-0\\.5{left:-.125rem}.-left-0{left:-0px}.-right-0\\.5{right:-.125rem}.-right-0{right:-0px}.top-0\\.5{top:.125rem}.left-10{left:2.5rem}.top-2\\.5{top:.625rem}.-right-1{right:-.25rem}.top-2{top:.5rem}.-right-4{right:-1rem}.left-0{left:0px}.right-0{right:0px}.top-1{top:.25rem}.top-\\[20px\\]{top:20px}.left-3{left:.75rem}.right-6{right:1.5rem}.left-6{left:1.5rem}.-left-1{left:-.25rem}.top-1\\.5{top:.375rem}.right-3{right:.75rem}.bottom-0{bottom:0px}.bottom-4{bottom:1rem}.left-1\\/2{left:50%}.z-10{z-index:10}.z-50{z-index:50}.z-\\[1000\\]{z-index:1000}.z-\\[5\\]{z-index:5}.m-4{margin:1rem}.m-2{margin:.5rem}.mx-auto{margin-left:auto;margin-right:auto}.my-2{margin-top:.5rem;margin-bottom:.5rem}.ml-auto{margin-left:auto}.mt-2{margin-top:.5rem}.ml-1{margin-left:.25rem}.mr-2{margin-right:.5rem}.ml-2{margin-left:.5rem}.mb-2{margin-bottom:.5rem}.ml-24{margin-left:6rem}.mt-10{margin-top:2.5rem}.mt-4{margin-top:1rem}.mb-5{margin-bottom:1.25rem}.mr-1{margin-right:.25rem}.mb-4{margin-bottom:1rem}.box-border{box-sizing:border-box}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.h-8{height:2rem}.h-full{height:100%}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-\\[calc\\(100\\%-100px\\)\\]{height:calc(100% - 100px)}.h-\\[calc\\(100\\%-20px\\)\\]{height:calc(100% - 20px)}.h-1{height:.25rem}.h-10{height:2.5rem}.h-\\[38px\\]{height:38px}.h-screen{height:100vh}.h-\\[34px\\]{height:34px}.h-7{height:1.75rem}.h-max{height:-webkit-max-content;height:max-content}.h-\\[200px\\]{height:200px}.h-3{height:.75rem}.h-2{height:.5rem}.h-\\[1000px\\]{height:1000px}.h-\\[800px\\]{height:800px}.h-\\[750px\\]{height:750px}.h-12{height:3rem}.max-h-full{max-height:100%}.min-h-\\[96px\\]{min-height:96px}.w-full{width:100%}.w-5{width:1.25rem}.w-\\[4px\\]{width:4px}.w-6{width:1.5rem}.w-2{width:.5rem}.w-1{width:.25rem}.w-\\[120px\\]{width:120px}.w-\\[400px\\]{width:400px}.w-10{width:2.5rem}.w-\\[1px\\]{width:1px}.w-\\[9px\\]{width:9px}.w-\\[3px\\]{width:3px}.w-20{width:5rem}.w-\\[600px\\]{width:600px}.w-\\[10000px\\]{width:10000px}.w-3{width:.75rem}.w-96{width:24rem}.min-w-max{min-width:-webkit-max-content;min-width:max-content}.min-w-\\[120px\\]{min-width:120px}.max-w-\\[894px\\]{max-width:894px}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.-translate-x-1\\/2{--tw-translate-x: -50%;-webkit-transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-180{--tw-rotate: 180deg;-webkit-transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{-webkit-transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-pointer{cursor:pointer}.cursor-\\[col-resize\\]{cursor:col-resize}.cursor-\\[row-resize\\]{cursor:row-resize}.resize{resize:both}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-scroll{overflow:scroll}.overflow-y-auto{overflow-y:auto}.overflow-y-scroll{overflow-y:scroll}.whitespace-nowrap{white-space:nowrap}.rounded-full{border-radius:9999px}.rounded{border-radius:.25rem}.rounded-md{border-radius:.375rem}.rounded-sm{border-radius:.125rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.border{border-width:1px}.border-2{border-width:2px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-b-\\[1px\\]{border-bottom-width:1px}.border-none{border-style:none}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity))}.border-black\\/10{border-color:rgba(0,0,0,.1)}.border-gray-400{--tw-border-opacity: 1;border-color:rgb(156 163 175 / var(--tw-border-opacity))}.border-green-300{--tw-border-opacity: 1;border-color:rgb(134 239 172 / var(--tw-border-opacity))}.border-red-400{--tw-border-opacity: 1;border-color:rgb(248 113 113 / var(--tw-border-opacity))}.border-\\[red\\]{--tw-border-opacity: 1;border-color:rgb(255 0 0 / var(--tw-border-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}.bg-green-300{--tw-bg-opacity: 1;background-color:rgb(134 239 172 / var(--tw-bg-opacity))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity))}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}.bg-green-400{--tw-bg-opacity: 1;background-color:rgb(74 222 128 / var(--tw-bg-opacity))}.bg-gray-400{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity))}.bg-black\\/30{background-color:rgba(0,0,0,.3)}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-\\[\\#37352f14\\]{background-color:rgba(55,53,47,.08)}.bg-\\[\\#7f7f7f99\\]{background-color:rgba(127,127,127,.6)}.bg-black\\/70{background-color:rgba(0,0,0,.7)}.bg-transparent{background-color:transparent}.p-1{padding:.25rem}.p-2{padding:.5rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.py-0\\.5{padding-top:.125rem;padding-bottom:.125rem}.py-0{padding-top:0;padding-bottom:0}.py-1\\.5{padding-top:.375rem;padding-bottom:.375rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.px-1{padding-left:.25rem;padding-right:.25rem}.px-1\\.5{padding-left:.375rem;padding-right:.375rem}.px-\\[3px\\]{padding-left:3px;padding-right:3px}.px-5{padding-left:1.25rem;padding-right:1.25rem}.py-10{padding-top:2.5rem;padding-bottom:2.5rem}.px-4{padding-left:1rem;padding-right:1rem}.px-0\\.5{padding-left:.125rem;padding-right:.125rem}.px-0{padding-left:0;padding-right:0}.pb-1{padding-bottom:.25rem}.pl-1{padding-left:.25rem}.pr-1{padding-right:.25rem}.pb-\\[40px\\]{padding-bottom:40px}.pt-2{padding-top:.5rem}.text-center{text-align:center}.text-right{text-align:right}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.text-gray-200{--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity))}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.text-red-400{--tw-text-opacity: 1;color:rgb(248 113 113 / var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}.text-\\[blue\\]{--tw-text-opacity: 1;color:rgb(0 0 255 / var(--tw-text-opacity))}.text-\\[red\\]{--tw-text-opacity: 1;color:rgb(255 0 0 / var(--tw-text-opacity))}.opacity-0{opacity:0}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.blur{--tw-blur: blur(8px);-webkit-filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{-webkit-filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-200{transition-duration:.2s}*{border-color:#d8dee4}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji";-moz-osx-font-smoothing:grayscale;box-sizing:border-box;touch-action:none}code{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace}button{padding:4px}input{border:1px solid black}.cell-hover-highlight{background:rgb(187,247,208)}.drag-hover-highlight{background-color:rgba(176,101,101,.1)}.current-month{color:#000;font-weight:500}.weekdate-hightlight{background-color:rgba(0,255,0,.1)}.weekdate-hightlight-startDate{border-top-left-radius:20px;border-bottom-left-radius:20px;color:#000}.weekdate-hightlight-endDate{border-top-right-radius:20px;border-bottom-right-radius:20px;color:#000}.selected-node{background-color:rgba(229,231,235,.5)}svg{width:1em;height:1em}.hover\\:cursor-col-resize:hover{cursor:col-resize}.hover\\:cursor-move:hover{cursor:move}.hover\\:bg-black:hover{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}.hover\\:bg-gray-200:hover{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}.hover\\:bg-red-100:hover{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.hover\\:bg-white:hover{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.hover\\:bg-opacity-10:hover{--tw-bg-opacity: .1}.focus\\:border-0:focus{border-width:0px}.group:hover .group-hover\\:bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}.group:hover .group-hover\\:opacity-100{opacity:1}\n',document.head.appendChild(t),System.register(["./vendor-legacy.bd64196a.js"],(function(t,r){"use strict";var o,n,i,s,a,l,c,d,b,p,h,u,f,m,x,g,w,y,v,k,j,C,D,L,M,S,E,T,R,N,z,I,F,H,Y,A,$,B,P,X,_;return{setters:[function(e){o=e.r,n=e.l,i=e.c,s=e.j,a=e.M,l=e.a,c=e.i,d=e.v,b=e.B,p=e.d,h=e.b,u=e.e,f=e.f,m=e.t,x=e.g,g=e.s,w=e.u,y=e.h,v=e.F,k=e.k,j=e.m,C=e.n,D=e.o,L=e.A,M=e._,S=e.p,E=e.L,T=e.S,R=e.R,N=e.N,z=e.q,I=e.w,F=e.x,H=e.y,Y=e.z,A=e.C,$=e.D,B=e.E,P=e.G,X=e.H,_=e.I}],execute:function(){var t;window.fn={...null!==(t=window.fn)&&void 0!==t?t:{},arrayMove:function(e,t,r){const o=e.slice();return o.splice(r<0?o.length+r:r,0,o.splice(t,1)[0]),o},arraySwap:function(e,t,r){const o=e[t];return e[t]=e[r],e[r]=o,e},revert:function(e){for(let t=0;t<Math.floor(e.length/2);t++){const r=e[t];e[t]=e[e.length-1-t],e[e.length-t-1]=r}return e},removeRepeat:function(e){if(0===e.length)return 0;let t=0;for(let r=0;r<e.length;r++)e[t]!==e[r]&&(t++,e[t]=e[r]);return t+1}};const q=6048e5,O=6e5;const W=new class{constructor(t=["auth"]){e(this,"cache",void 0),e(this,"remainKeys",void 0),e(this,"clearLength",10),e(this,"timer",void 0),e(this,"liveTime",q),e(this,"checkIntervalTime",O),e(this,"save",((e,t)=>{try{localStorage.setItem(e,t),this.cache.add(e)}catch(r){this.isExceedSize()?(console.groupCollapsed("%c数据太大！超出存储上限！","color: red;"),console.log(JSON.parse(t)),console.groupEnd()):(this.removeSomeKeys(),this.save(e,t))}})),e(this,"checkCacheValidity",(()=>{console.groupCollapsed("%c 清除过期数据","color: blue;");for(const t of this.cache){if(this.remainKeys.has(t))continue;const r=localStorage.getItem(t);if(r)try{const e=JSON.parse(r);if("[object Object]"!==Object.prototype.toString.call(e))continue;Date.now()>e.expires&&(console.log(t),this.remove(t))}catch(e){}}console.groupEnd(),this.timer=setTimeout(this.checkCacheValidity,this.checkIntervalTime)})),this.remainKeys=new Set(t),this.cache=new Set(Object.keys(localStorage)),this.checkCacheValidity()}setItem(e,t){try{var r;t="object"==typeof t&&null!==(r=t)&&void 0!==r&&r.expires?JSON.stringify(t):JSON.stringify({data:t,expires:Date.now()+this.liveTime})}catch(o){throw new Error("参数错误！")}this.save(e,t)}getItem(e){let t;if(t=localStorage.getItem(e),this.updateKeyPos(e),!t)return t;try{t=JSON.parse(t)}catch(r){"undefined"===t&&(t=void 0)}return"object"==typeof t&&null!==t?t.data:t}isExceedSize(){if(this.cache.size>this.remainKeys.size)return!1;for(const e of this.cache)if(!this.remainKeys.has(e))return!1;return!0}removeSomeKeys(){console.groupCollapsed("%c空间不够删除不常用数据","color: green;");let e=0;for(const t of this.cache)if(!this.remainKeys.has(t)&&(console.log(t),this.remove(t),e++,e>=this.clearLength))break;console.groupEnd()}updateKeyPos(e){this.cache.delete(e),this.cache.add(e)}setLiveTime(e){this.liveTime=e}setCheckIntervalTime(e){this.checkIntervalTime=e,this.timer&&clearTimeout(this.timer),this.timer=setTimeout(this.checkCacheValidity,this.checkIntervalTime)}resetTime(){this.liveTime=q,this.checkIntervalTime=O,this.timer&&clearTimeout(this.timer),this.timer=setTimeout(this.checkCacheValidity,this.checkIntervalTime)}destroy(){this.clear(),this.timer&&clearTimeout(this.timer)}remove(e){this.cache.delete(e),localStorage.removeItem(e)}clear(){this.cache.clear(),localStorage.clear()}}(["bigData","expires","exceedSize","dataType"]);let Z,U;const V=(e,t,r=100)=>{const o=t.getBoundingClientRect(),n=()=>{if(e-o.left<r){const i=(r-(e-o.left))/10;t.scrollLeft-=i,Z=requestAnimationFrame(n)}if(o.right-e<r){const i=(r-(o.right-e))/10;t.scrollLeft+=i,Z=requestAnimationFrame(n)}};cancelAnimationFrame(Z),Z=requestAnimationFrame(n)},G=({y:e,container:t,threshold:r=100,offset:o})=>{var n,i;const s=t.getBoundingClientRect(),a=r+(null!==(n=null==o?void 0:o.top)&&void 0!==n?n:0),l=r+(null!==(i=null==o?void 0:o.bottom)&&void 0!==i?i:0),c=()=>{if(e-s.top<a){const r=(a-(e-s.top))/10;t.scrollTop-=r,U=requestAnimationFrame(c)}if(s.bottom-e<l){const o=(r-(s.bottom-e))/10;t.scrollTop+=o,U=requestAnimationFrame(c)}};cancelAnimationFrame(U),U=requestAnimationFrame(c)},J={lunarInfo:[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,92821,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,41680,53584,62034,54560],solarMonth:[31,28,31,30,31,30,31,31,30,31,30,31],Gan:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],Zhi:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],Animals:["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],festival:{"1-1":{title:"元旦节"},"2-14":{title:"情人节"},"5-1":{title:"劳动节"},"5-4":{title:"青年节"},"6-1":{title:"儿童节"},"9-10":{title:"教师节"},"10-1":{title:"国庆节"},"12-25":{title:"圣诞节"},"3-8":{title:"妇女节"},"3-12":{title:"植树节"},"4-1":{title:"愚人节"},"5-12":{title:"护士节"},"7-1":{title:"建党节"},"8-1":{title:"建军节"},"12-24":{title:"平安夜"}},lFestival:{"12-30":{title:"除夕"},"1-1":{title:"春节"},"1-15":{title:"元宵节"},"2-2":{title:"龙抬头"},"5-5":{title:"端午节"},"7-7":{title:"七夕节"},"7-15":{title:"中元节"},"8-15":{title:"中秋节"},"9-9":{title:"重阳节"},"10-1":{title:"寒衣节"},"10-15":{title:"下元节"},"12-8":{title:"腊八节"},"12-23":{title:"北方小年"},"12-24":{title:"南方小年"}},getFestival(){return this.festival},getLunarFestival(){return this.lFestival},setFestival(e={}){this.festival=e},setLunarFestival(e={}){this.lFestival=e},solarTerm:["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],sTermInfo:["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],nStr1:["日","一","二","三","四","五","六","七","八","九","十"],nStr2:["初","十","廿","卅"],nStr3:["正","二","三","四","五","六","七","八","九","十","冬","腊"],lYearDays:function(e){let t,r=348;for(t=32768;t>8;t>>=1)r+=this.lunarInfo[e-1900]&t?1:0;return r+this.leapDays(e)},leapMonth:function(e){return 15&this.lunarInfo[e-1900]},leapDays:function(e){return this.leapMonth(e)?65536&this.lunarInfo[e-1900]?30:29:0},monthDays:function(e,t){return t>12||t<1?-1:this.lunarInfo[e-1900]&65536>>t?30:29},solarDays:function(e,t){if(t>12||t<1)return-1;const r=t-1;return 1===r?e%4==0&&e%100!=0||e%400==0?29:28:this.solarMonth[r]},toGanZhiYear:function(e){var t=(e-3)%10,r=(e-3)%12;return 0===t&&(t=10),0===r&&(r=12),this.Gan[t-1]+this.Zhi[r-1]},toAstro:function(e,t){return"魔羯水瓶双鱼白羊金牛双子巨蟹狮子处女天秤天蝎射手魔羯".substr(2*e-(t<[20,19,21,21,21,22,23,23,23,23,22,22][e-1]?2:0),2)+"座"},toGanZhi:function(e){return this.Gan[e%10]+this.Zhi[e%12]},getTerm:function(e,t){if(e<1900||e>2100||t<1||t>24)return-1;const r=this.sTermInfo[e-1900],o=[];for(let n=0;n<r.length;n+=5){const e=parseInt("0x"+r.substr(n,5)).toString();o.push(e[0],e.substr(1,2),e[3],e.substr(4,2))}return parseInt(o[t-1])},toChinaMonth:function(e){if(e>12||e<1)return-1;let t=this.nStr3[e-1];return t+="月",t},toChinaDay:function(e){let t;switch(e){case 10:t="初十";break;case 20:t="二十";break;case 30:t="三十";break;default:t=this.nStr2[Math.floor(e/10)],t+=this.nStr1[e%10]}return t},getAnimal:function(e){return this.Animals[(e-4)%12]},solar2lunar:function(e,t,r){let o,n=parseInt(e),i=parseInt(t),s=parseInt(r);if(n<1900||n>2100)return-1;if(1900===n&&1===i&&s<31)return-1;o=n?new Date(n,parseInt(i)-1,s):new Date;let a,l=0,c=0;n=o.getFullYear(),i=o.getMonth()+1,s=o.getDate();let d=(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate())-Date.UTC(1900,0,31))/864e5;for(a=1900;a<2101&&d>0;a++)c=this.lYearDays(a),d-=c;d<0&&(d+=c,a--);let b=new Date,p=!1;b.getFullYear()===n&&b.getMonth()+1===i&&b.getDate()===s&&(p=!0);let h=o.getDay(),u=this.nStr1[h];0===h&&(h=7);const f=a;l=this.leapMonth(a);let m=!1;for(a=1;a<13&&d>0;a++)l>0&&a===l+1&&!1===m?(--a,m=!0,c=this.leapDays(f)):c=this.monthDays(f,a),!0===m&&a===l+1&&(m=!1),d-=c;0===d&&l>0&&a===l+1&&(m?m=!1:(m=!0,--a)),d<0&&(d+=c,--a);const x=a,g=d+1,w=i-1,y=this.toGanZhiYear(f),v=this.getTerm(n,2*i-1),k=this.getTerm(n,2*i);let j=this.toGanZhi(12*(n-1900)+i+11);s>=v&&(j=this.toGanZhi(12*(n-1900)+i+12));let C=!1,D=null;v===s&&(C=!0,D=this.solarTerm[2*i-2]),k===s&&(C=!0,D=this.solarTerm[2*i-1]);const L=Date.UTC(n,w,1,0,0,0,0)/864e5+25567+10,M=this.toGanZhi(L+s-1),S=this.toAstro(i,s),E=n+"-"+i+"-"+s,T=f+"-"+x+"-"+g,R=this.festival,N=this.lFestival,z=i+"-"+s;let I=x+"-"+g;return 12===x&&29===g&&29===this.monthDays(f,x)&&(I="12-30"),{date:E,lunarDate:T,festival:R[z]?R[z].title:null,lunarFestival:N[I]?N[I].title:null,lYear:f,lMonth:x,lDay:g,Animal:this.getAnimal(f),IMonthCn:(m?"闰":"")+this.toChinaMonth(x),IDayCn:this.toChinaDay(g),cYear:n,cMonth:i,cDay:s,gzYear:y,gzMonth:j,gzDay:M,isToday:p,isLeap:m,nWeek:h,ncWeek:"星期"+u,isTerm:C,Term:D,astro:S}},lunar2solar:function(e,t,r,o){e=parseInt(e),t=parseInt(t),r=parseInt(r),o=!!o;const n=this.leapMonth(e);if(this.leapDays(e),o&&n!==t)return-1;if(2100===e&&12===t&&r>1||1900===e&&1===t&&r<31)return-1;const i=this.monthDays(e,t);let s=i;if(o&&(s=this.leapDays(e,t)),e<1900||e>2100||r>s)return-1;let a,l=0;for(a=1900;a<e;a++)l+=this.lYearDays(a);let c=0,d=!1;for(a=1;a<t;a++)c=this.leapMonth(e),d||c<=a&&c>0&&(l+=this.leapDays(e),d=!0),l+=this.monthDays(e,a);o&&(l+=i);const b=Date.UTC(1900,1,30,0,0,0),p=new Date(864e5*(l+r-31)+b),h=p.getUTCFullYear(),u=p.getUTCMonth()+1,f=p.getUTCDate();return this.solar2lunar(h,u,f)}},K=(...e)=>n.overrideTailwindClasses(i(e)),Q="一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),ee=864e5;var te=(e=>(e.PREV="prev",e.NEXT="next",e))(te||{}),re=(e=>(e.MONTH="month",e.YEAR="year",e))(re||{});const oe=({base:e=Date.now(),dir:t="next",length:r=100,includeBase:o=!1,showType:n="month"})=>{const i=[],s="next"===t;let a=ie(e),l=ee;if("year"===n){a+=(7-(new Date(a).getDay()||7))*ee,l=6048e5}const c=o?r:r+1;for(let d=0;d<c;d++)if(o||0!==d)if(s){const e=a+d*l;i.push(e)}else{const e=a-d*l;i.unshift(e)}return i},ne=({showType:e,length:t,base:r})=>[...oe({base:r,dir:"prev",showType:e,length:t}),...oe({base:r,dir:"next",showType:e,length:t,includeBase:!0})],ie=e=>new Date(new Date(e).toDateString()).getTime(),se=e=>{const t=new Date(e);return{year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate(),day:t.getDay()+1,monthDesc:Q[t.getMonth()],time:e}},ae=(e,t)=>{const r=Math.max(t.top,e.top),o=Math.max(t.left,e.left),n=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=n-o,a=i-r;if(o<n&&r<i){const e=t.width*t.height;return Number((s*a/e).toFixed(4))}return 0};const le=e=>String((100*e).toFixed(2)).concat("%"),ce=o.exports.createContext(ie(Date.now())),de="YYYY/MM/DD",be="NewRecordPlaceholderId",pe="undefined"!=typeof navigator&&/iPhone/i.test(navigator.userAgent),he=864e5,ue=40,fe=40,me=o.exports.createContext(void 0),xe=()=>{const e=o.exports.useContext(me);if(!e)throw new Error("RecordDataContext 不存在");return e},ge=o.exports.createContext(void 0),we=()=>{const e=o.exports.useContext(ge);if(!e)throw new Error("useBitable");return e},ye=()=>{var e;const{showType:t,timelineDates:r,setTimelineDates:n,container:i,scrollContainer:a,datesContainer:l,timelineHeader:c,monthContainer:d,containerScrollLeft:b,listRef:p,dateStepLength:h}=we(),{records:u}=xe(),[g,w]=o.exports.useState([0,Math.min(window.innerHeight/fe,u.length)]);return o.exports.useLayoutEffect((()=>{i.current&&(i.current.scrollLeft=ue*h.current-i.current.clientWidth/2)}),[i,h]),o.exports.useLayoutEffect((()=>{i.current&&b.current&&(i.current.scrollLeft=b.current,b.current=void 0)}),[r,i,b]),o.exports.useEffect((()=>{i.current&&i.current.scrollWidth<2*i.current.clientWidth&&(h.current=Math.ceil(2*i.current.clientWidth/ue),n(ne({showType:t,length:h.current})),b.current=ue*h.current-i.current.clientWidth/2)}),[null===(e=i.current)||void 0===e?void 0:e.clientWidth]),o.exports.useEffect((()=>{if(!i.current||!l.current)return;const e=i.current,r=()=>{void 0===b.current&&i.current&&(e.scrollWidth-e.scrollLeft-e.clientWidth<300&&(b.current=i.current.scrollLeft-h.current*ue,n((e=>{const r=x(e),o=oe({showType:t,base:r,length:h.current,dir:te.NEXT});return[...e.slice(h.current),...o]}))),e.scrollLeft<300&&(b.current=i.current.scrollLeft+h.current*ue,n((e=>{const r=e[0];return[...oe({showType:t,base:r,length:h.current,dir:te.PREV}),...e.slice(0,e.length-h.current)]}))))},o=pe?f(r):m(r,60);return e.addEventListener("scroll",o),()=>e.removeEventListener("scroll",o)}),[i,b,h,l,n,t]),o.exports.useEffect((()=>{const e=i.current,t=l.current,r=c.current,o=d.current,n=a.current;if(!(e&&t&&r&&o&&n))return;const s=()=>{const i=e.getBoundingClientRect(),s=n.getBoundingClientRect(),a=Math.abs(s.top-i.top);a>0?(r.style.transform=`translate3d(0,${Math.round(a)}px,0)`,o.style.transform=`translate3d(0,${Math.round(a)}px,0)`,t.style.transform=`translate3d(0,${Math.round(a)}px,0)`):(r.style.transform="none",o.style.transform="none",t.style.transform="none")};return n.addEventListener("scroll",s),window.addEventListener("resize",s),()=>{n.removeEventListener("scroll",s),window.removeEventListener("resize",s)}}),[i,l,d,a,c]),o.exports.useEffect((()=>{const e=a.current,t=p.current;if(!e||!t)return;const r=()=>{const r=t.getBoundingClientRect(),o=e.getBoundingClientRect(),n=Math.ceil(e.clientHeight/fe)+10,i=o.top-r.top,s=Math.max(Math.floor(i/fe)-5,0);w([s,s+n])};return r(),e.addEventListener("scroll",r),()=>{e.removeEventListener("scroll",r)}}),[p,a]),s.exports.jsxs("div",{className:"relative w-full timeline-page overflow-scroll",style:{height:"calc(100% - 40px)"},ref:a,children:[s.exports.jsx(ve,{ref:c}),s.exports.jsxs("div",{className:"w-full overflow-auto relative pb-[40px]",ref:i,children:[s.exports.jsx(ke,{ref:d}),s.exports.jsx(je,{}),s.exports.jsx(Ce,{}),s.exports.jsxs("div",{className:"record-line-container relative",ref:p,style:{width:r.length*ue,height:u.length*fe+fe},children:[u.slice(g[0],g[1]).map(((e,t)=>s.exports.jsx(De,{recordIndex:g[0]+t,...e},e.id))),s.exports.jsx(De,{id:be,recordIndex:u.length})]})]})]})},ve=o.exports.memo(o.exports.forwardRef(((e,t)=>{const{timelineDates:r,container:n,setTimelineDates:i,dateStepLength:c,containerScrollLeft:d,showType:b,setShowType:p}=we(),[h,u]=o.exports.useState();return o.exports.useEffect((()=>{const e=n.current;if(!e)return;const t=()=>{if(!n.current)return;const e=Math.ceil(n.current.scrollLeft/ue),t=r[e-1];t&&u((e=>{const r=new Date(t).setDate(1);return r!==e?r:e}))};return t(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}),[n,r]),s.exports.jsxs("div",{className:"absolute left-0 right-0 flex items-center z-50 h-8 top-1",ref:t,children:[s.exports.jsxs("div",{className:"h-full flex",children:[h&&s.exports.jsxs("span",{className:"bg-white h-full inline-flex items-center",children:[se(h).year,"年",se(h).month,"月"]}),s.exports.jsx("span",{className:"w-10 h-full",style:{backgroundImage:"linear-gradient(to right, white 20%, rgba(255, 255, 255, 0) 100%)"}})]}),s.exports.jsxs("div",{className:"ml-auto flex items-center",children:[s.exports.jsx("span",{className:"w-10 h-8 inline-block",style:{backgroundImage:"linear-gradient(to left, white 20%, rgba(255, 255, 255, 0) 100%)"}}),s.exports.jsxs("div",{className:"bg-white flex items-center",children:[s.exports.jsx("button",{onClick:()=>{n.current&&(p(re.YEAR),i(ne({showType:re.YEAR})),d.current=ue*c.current-n.current.clientWidth/2)},children:"年"}),s.exports.jsx("button",{onClick:()=>{n.current&&(p(re.MONTH),i(ne({showType:re.MONTH})),d.current=ue*c.current-n.current.clientWidth/2)},children:"月"}),s.exports.jsx("button",{onClick:()=>{n.current&&(n.current.scrollLeft-=600)},children:s.exports.jsx(a,{className:"w-5 h-5"})}),s.exports.jsx("button",{className:"bg-white px-2 cursor-pointer",onClick:()=>{n.current&&(i(ne({showType:b,length:c.current})),d.current=ue*c.current-n.current.clientWidth/2)},children:"今天"}),s.exports.jsx("button",{onClick:()=>{n.current&&(n.current.scrollLeft+=600)},children:s.exports.jsx(l,{className:"w-5 h-5"})})]})]})]})})),c),ke=o.exports.memo(o.exports.forwardRef(((e,t)=>{const{timelineDates:r,showType:o}=we();return s.exports.jsx("div",{className:"timeline-month relative z-10 h-[38px] bg-white text-t2-medium border-t",style:{width:r.length*ue},ref:t,children:r.map(((e,t)=>{let r=!1;if(o===re.MONTH)r=1===new Date(e).getDate();else if(o===re.YEAR){const t=new Date(new Date(e).setDate(1));r=t.getTime()+(7-t.getDay()||7)*he===e}return r?s.exports.jsxs("div",{style:{left:t*ue},className:"absolute h-full inline-flex items-center justify-center flex-shrink-0",children:[new Date(e).getMonth()+1,"月"]},e):null}))})})),c),je=o.exports.memo((()=>{const{timelineDates:e,datesContainer:t,container:r,showType:n}=we(),i=o.exports.useContext(ce),[a,l]=o.exports.useState([0,Math.max(Math.ceil(window.innerWidth/ue),e.length)]);o.exports.useEffect((()=>{const e=r.current,o=t.current;if(!e||!o)return;const n=()=>{const t=e.getBoundingClientRect(),r=o.getBoundingClientRect(),n=Math.ceil(e.clientWidth/ue)+10,i=t.left-r.left,s=Math.max(Math.floor(i/ue)-5,0);l([s,s+n])};return n(),e.addEventListener("scroll",n),()=>e.removeEventListener("scroll",n)}),[t,r]);const c=a[0],d=a[1],b=[i];if(n===re.YEAR){const e=(new Date).getDay(),t=i+(7-(e||7))*he,r=i-e*he;b.push(r,t)}return s.exports.jsxs("div",{ref:t,className:"timeline-weekdate relative z-10 h-[38px] py-1.5 bg-white border-b font-medium text-grey4 text-t2-medium",style:{width:e.length*ue},children:[e.slice(c,d).map(((e,t)=>b.includes(e)?null:s.exports.jsx("div",{className:"w-10 h-6  border inline-flex items-center justify-center absolute",style:{left:(c+t)*ue},children:se(e).date},e))),(()=>{const t=e[0],r=n===re.MONTH?he:6048e5,o=(i-t)/r;return s.exports.jsxs("div",{className:"w-6 h-6 absolute inline-flex justify-center items-center rounded-full bg-green-400 text-white",style:{left:o*ue+8},children:[(new Date).getDate(),s.exports.jsx("span",{className:"absolute top-[20px] left-3 h-screen w-[1px] bg-green-400"})]})})()]})}),c),Ce=o.exports.memo((()=>{const{timelineDates:e,showType:t}=we();if(t===re.MONTH){let t=0;const r=e[0],o=new Date(r).getDay();return 0===o?t=-40:o&&(t=(6-o)*ue),s.exports.jsx("div",{className:"timeline-weekend absolute top-0 h-full",style:{width:e.length*ue,background:"repeating-linear-gradient(90deg, rgb(229,231,235) 0px,rgb(229,231,235) 80px, transparent 80px,  transparent 280px)",backgroundPositionX:`${t}px`}})}return s.exports.jsx("div",{className:"timeline-weekend absolute top-0 h-full",style:{width:e.length*ue},children:e.map((t=>{const r=new Date(new Date(t).setDate(1));if(r.getTime()+(7-r.getDay()||7)*he===t){const o=e[0],n=6048e5,i=(r.getTime()-o)/n;return s.exports.jsx("div",{style:{left:i*ue+20},className:"absolute h-full bg-gray-400 w-[1px]"},t)}return null}))})}),c),De=o.exports.memo((e=>{const{id:t,recordEndTime:r,recordStartTime:n,recordIndex:i}=e,{setRecords:a}=xe(),{timelineDates:l,container:c,datesContainer:b,draggingRecordId:p}=we(),h=o.exports.useRef(null),[u,f]=o.exports.useState(),m=o.exports.useCallback((e=>{if(n&&r)return;if(p.current)return;if(!c.current)return;const t=c.current.getBoundingClientRect(),o=c.current.scrollLeft+e.clientX-t.x,i=Math.floor(o/ue);f(i),Re(c.current),Te(i,5,b.current)}),[c,b,p,r,n]),x=o.exports.useCallback((()=>{f(void 0),Re(c.current)}),[c]),g=o.exports.useCallback((()=>{if(u){const e=l[u],r=e+3456e5;a(t===be?e=>e.concat({id:d()}):o=>o.map((o=>o.id===t?{id:t,recordStartTime:e,recordEndTime:r}:o))),f(void 0),Re(c.current)}}),[c,t,u,a,l]),w=n&&r;return o.exports.useMemo((()=>s.exports.jsxs("div",{"data-disable-select":!0,"data-record-id":t,onMouseMove:m,onMouseLeave:x,onClick:g,className:K("absolute w-full flex h-10",!w&&"cursor-pointer"),style:{top:i*fe},children:[u&&s.exports.jsx(Se,{recordId:t,initDateRangeLength:5,movingStartDateIndex:u}),w&&s.exports.jsxs(s.exports.Fragment,{children:[s.exports.jsx(Me,{recordId:t,card:h}),s.exports.jsx(Ee,{id:t,recordEndTime:r,recordStartTime:n,card:h})]})]})),[t,m,x,g,w,i,u,r,n])}),c),Le=["left","right"],Me=o.exports.memo((({recordId:e,card:t})=>{var r;const{records:n}=xe(),{showType:i,setTimelineDates:a,container:l,containerScrollLeft:c,dateStepLength:d}=we(),[u,f]=o.exports.useState({left:!1,right:!1}),m=n.find((t=>t.id===e)),x=o.exports.useCallback((()=>{if(!l.current||!t.current)return;const e=t.current.getBoundingClientRect(),r=l.current.getBoundingClientRect();u.left===e.left<r.left&&u.right===e.right>r.right||f({left:e.left<r.left,right:e.right>r.right})}),[t,l,u.left,u.right]);if(o.exports.useEffect((()=>{if(!l.current)return;const e=l.current;return e.addEventListener("scroll",x),()=>e.removeEventListener("scroll",x)}),[l,x]),o.exports.useEffect((()=>{x()}),[x,null===(r=l.current)||void 0===r?void 0:r.clientWidth]),!m)return null;const{recordStartTime:g,recordEndTime:w}=m;if(!g||!w)return null;return s.exports.jsx(s.exports.Fragment,{children:Le.map((e=>{if(!l.current)return null;const t="right"===e,r=t?u.right:u.left;return s.exports.jsxs("button",{onClick:()=>(e=>{if(!l.current)return;const t="left"===e;c.current=t?d.current*ue-100:(d.current+1)*ue-(l.current.clientWidth-100),a(ne({showType:i,base:t?g:w,length:d.current})),f({left:!t&&u.left,right:!!t&&u.right})})(e),className:"sticky h-full rounded cursor-pointer duration-200 transition-all flex items-center group z-[5]",style:{left:t?l.current.clientWidth-32:0,opacity:r?1:0,transform:r?"scale(1)":"scale(0)"},children:[s.exports.jsx(b,{className:K("text-white bg-black/30 rounded",t&&"rotate-180")}),s.exports.jsxs("span",{className:K("absolute px-1 flex items-center text-black bg-white border rounded text-t4 opacity-0 group-hover:opacity-100 pointer-events-none",t?"right-6":"left-6"),children:[p(g).format(de),s.exports.jsx(h,{}),p(Math.max(g,w)).format(de)]})]},e)}))})}),c),Se=({initDateRangeLength:e,movingStartDateIndex:t,recordId:r})=>s.exports.jsxs("div",{className:"absolute h-[34px] top-0.5 bg-green-100 rounded pointer-events-none px-1.5 flex items-center whitespace-nowrap",style:{width:ue*e,left:t*ue},children:[s.exports.jsx("span",{children:"+"}),s.exports.jsx("span",{className:"text-t2 ml-2",children:r===be?"新建":"新建事项"})]}),Ee=o.exports.memo((({id:e,recordEndTime:t,recordStartTime:r,card:n})=>{const{showType:i,container:a,datesContainer:l,timelineDates:c,timelineDatesRef:d,draggingRecordId:b,scrollContainer:h}=we(),{setRecords:f}=xe(),[m,x]=o.exports.useState(),[g,w]=o.exports.useState(),y=o.exports.useRef({x:0,y:0});if(o.exports.useLayoutEffect((()=>{if(m&&n.current){const e=getComputedStyle(n.current),t=parseInt(e.getPropertyValue("left"),10),r=parseInt(e.getPropertyValue("width"),10),o=Math.floor(t/ue);Re(a.current),Te(o,r/ue,l.current)}}),[n,a,l,m]),!r||!t)return null;const v=i===re.MONTH?ue:5.714285714285714;let k=0,j=0;if(r&&t){const e=Math.max(ie(t)-ie(r),0)/he;if(j=(e+1)*v,k=(ie(r)-c[0])/he*v,g&&m){if("left"===g&&m<=t){const e=Math.max(ie(t)-ie(m),0)/he;j=(e+1)*v;k=c.findIndex((e=>e===m))*v}if("right"===g&&m>=r){const e=Math.max(ie(m)-ie(r),0)/he;j=(e+1)*v}}}return s.exports.jsx("div",{className:"absolute overflow-hidden left-0 top-0 w-full h-full flex items-center",children:s.exports.jsxs("div",{ref:n,onMouseDown:t=>{t.preventDefault(),y.current={x:t.clientX,y:t.clientY};const r=a.current,o=n.current,i=h.current;if(!r||!o||!i)return;const s=getComputedStyle(o),c=parseInt(s.getPropertyValue("width"),10),p=t.currentTarget.getBoundingClientRect(),m=t.clientX-p.left;let x,g,w,v={x:t.clientX,y:t.clientY},k=!1;const C=t=>{if(v={x:t.clientX,y:t.clientY},!k){if(Math.abs(t.clientX-y.current.x)<5&&Math.abs(t.clientY-y.current.y)<5)return;k=!0,b.current=e,g=Ne(o)}V(t.clientX,r),G({y:t.clientY,container:i});const n=r.getBoundingClientRect(),s=r.scrollLeft+t.clientX-n.x-m,p=Math.round(s/ue),h=d.current[p];if(x=h,Re(a.current),Te(p,c/ue,l.current),!g)return;g.style.transform=`translate(${t.clientX-y.current.x}px, ${t.clientY-y.current.y}px)`;const u=r.querySelectorAll(".record-line-container [data-record-id]");w=ze(g,u,e)},D=()=>{var t,o;i.removeEventListener("scroll",L),document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",D),cancelAnimationFrame(Z),cancelAnimationFrame(U),Re(r),null===(t=g)||void 0===t||t.remove(),b.current=void 0,w&&null!==(o=w.lastElementChild)&&void 0!==o&&o.classList.contains("indicator")&&w.lastElementChild.remove(),k&&f((t=>{const r=t.findIndex((t=>t.id===e)),o=t.findIndex((e=>{var t;return e.id===(null===(t=w)||void 0===t?void 0:t.dataset.recordId)})),n=t.map((t=>t.id===e?{id:e,recordStartTime:x,recordEndTime:x+(c/ue-1)*he}:t));return u(n,r,o)}))},L=()=>{const t=r.getBoundingClientRect(),o=r.scrollLeft+v.x-t.x-m,n=Math.round(o/ue),i=d.current[n];if(x=i,Re(a.current),Te(n,j/ue,l.current),!g)return;g.style.transform=`translate(${v.x-y.current.x}px, ${v.y-y.current.y}px)`;const s=r.querySelectorAll(".record-line-container [data-record-id]");w=ze(g,s,e)};i.addEventListener("scroll",L),document.addEventListener("mousemove",C),document.addEventListener("mouseup",D)},className:"absolute h-[34px] border border-black/10 rounded cursor-pointer flex items-center whitespace-nowrap bg-white",style:{left:k,width:j,boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.06)"},children:[e,Le.map((o=>s.exports.jsxs("div",{className:K("absolute h-full w-[9px] px-[3px] py-1.5 rounded-full group hover:cursor-col-resize z-10",g&&g!==o&&"pointer-events-none","left"===o?"-left-1":"-right-1"),onMouseDown:n=>((o,n)=>{o.preventDefault(),o.stopPropagation();const i=a.current;if(!i)return;w(n);const s="left"===n;let l,c=o.clientX;const p=e=>{const o=i.getBoundingClientRect(),n=i.scrollLeft+e-o.x,a=s?Math.round(n/ue):Math.round(n/ue)-1,c=d.current[a];c&&(s&&c<=t||!s&&c>=r)&&(l=c,x(c))},h=o=>{t&&r&&(c=o.clientX,b.current=e,V(o.clientX,i),p(o.clientX))},u=()=>{cancelAnimationFrame(Z),w(void 0),x(void 0),Re(i),b.current=void 0,l&&(f((t=>t.map((t=>t.id===e?{id:e,recordStartTime:s?l:t.recordStartTime,recordEndTime:s?t.recordEndTime:l}:t)))),i.removeEventListener("scroll",m),document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",u))},m=()=>p(c);i.addEventListener("scroll",m),document.addEventListener("mousemove",h),document.addEventListener("mouseup",u)})(n,o),children:[s.exports.jsx("span",{className:K("inline-block w-[3px] h-full rounded-full group-hover:bg-black",g===o&&"bg-black")}),g===o&&m&&s.exports.jsx("div",{className:K("absolute top-1.5 bg-white text-black rounded px-1 flex items-center text-t4","left"===o?"right-3":"left-3"),children:p(m).format("MM/DD")})]},o)))]})})}),c),Te=(e,t,r)=>{if(!r)return;const o=r.children;let n=0;for(;n<t;){const r=["weekdate-hightlight"];0===n&&r.push("weekdate-hightlight-startDate"),n===t-1&&r.push("weekdate-hightlight-endDate");const i=o[e+n];i&&i.classList.add(...r),n++}},Re=e=>{if(!e)return;e.querySelectorAll(".weekdate-hightlight").forEach((e=>e.classList.remove("weekdate-hightlight","weekdate-hightlight-startDate","weekdate-hightlight-endDate")))},Ne=e=>{const t=e.getBoundingClientRect(),r=e.cloneNode(!0);r.style.inset="0";const o=document.createElement("div");return o.style.position="fixed",o.style.width=`${t.width}px`,o.style.height=`${t.height}px`,o.style.top=`${t.top}px`,o.style.left=`${t.left}px`,o.style.opacity="0.5",o.style.zIndex="100",o.appendChild(r),document.body.appendChild(o),o},ze=(e,t,r)=>{let o,n=0;const i=e.getBoundingClientRect();t.forEach((e=>{var t;if(e.dataset.recordId===be)return;const r=e.getBoundingClientRect();null!==(t=e.lastElementChild)&&void 0!==t&&t.classList.contains("indicator")&&e.lastElementChild.remove();const s=ae(i,r);s>n&&(n=s,o=e)}));const s=document.createElement("div");return s.classList.add("indicator"),s.style.position="absolute",s.style.zIndex="10",s.style.width="100%",s.style.height="4px",s.style.backgroundColor="rgba(0, 0, 0, 0.3)",o&&o.dataset.recordId!==r&&o.appendChild(s),o};const Ie=["left","right"],Fe=o.exports.createContext(void 0),He=o.exports.createContext(void 0),Ye=()=>{const e=o.exports.useContext(Fe);if(!e)throw new Error("useBitable");return e},Ae=()=>{const e=o.exports.useContext(He);if(!e)throw new Error("useBitable");return e},$e=(e=1)=>8+22*e+4,Be=()=>{const{setTodoList:e}=Ae(),{container:t,calenderDates:r,setCalenderDates:n,showType:i}=Ye(),a=o.exports.useRef(!1),l=o.exports.useRef(i);l.current=i;const[c,d]=o.exports.useState(ie((new Date).setDate(1)));return o.exports.useEffect((()=>{const e=t.current;if(!e)return;const r=()=>{if("SINGLE"===l.current)return;const e=t.current;e&&e.scrollHeight<e.scrollTop+e.clientHeight+200&&!a.current&&(a.current=!0,n((e=>e.concat(We("append",e[e.length-1]+he)))))};return e.addEventListener("scroll",r),()=>e.removeEventListener("scroll",r)}),[t,n,i]),o.exports.useEffect((()=>{if("SINGLE"===i)return;a.current=!1;const e=t.current;e&&e.scrollHeight<=e.clientHeight&&n((e=>e.concat(We("append",e[e.length-1]+he))))}),[r.length,t,n,i]),s.exports.jsxs("div",{className:"max-h-full w-full mx-auto flex items-center flex-col overflow-auto relative",style:{background:"linear-gradient(90deg, #f5f5f5 14.285714285%, transparent 14.285714285%, transparent 85.714285714%, #f5f5f5 85.714285714%)"},ref:t,children:[s.exports.jsx(Pe,{currentMonth:c,setCurrentMonth:d}),s.exports.jsx("div",{className:"w-full border-l min-w-max",children:r.map(((t,o)=>o%7==0?s.exports.jsx(Xe,{dates:r.slice(o,o+7),setCurrentMonth:d,setTodoList:e},t):null))})]})},Pe=({currentMonth:e,setCurrentMonth:t})=>{const{calenderHeader:r,setCalenderDates:n,container:i,calenderDates:c,showType:d,setShowType:b}=Ye();o.exports.useEffect((()=>{const t=i.current;t&&Ue(e,c,t)}),[c,i,e]);const p=r=>{let o=Date.now();if("today"===r){o=(new Date).setDate(1)}else{const t=new Date(e),n=t.getMonth(),i="pre"===r?n-1:n+1;o=t.setMonth(i,1)}if(t(o),"SINGLE"===d)n(Ze(o));else{const e=i.current;if(!e)return;n(We("init",o)),e.scrollTop=0}},h=new Date(e);return s.exports.jsxs("div",{className:"flex flex-col sticky py-2 top-0 border w-full bg-white z-10 justify-between px-2",ref:r,children:[s.exports.jsxs("div",{className:"flex items-center h-8",children:[s.exports.jsx("div",{className:"h-full flex bg-white",children:e&&s.exports.jsxs("span",{className:"h-full inline-flex items-center",children:[h.getFullYear(),"年",h.getMonth()+1,"月"]})}),s.exports.jsxs("div",{className:"ml-auto bg-white flex items-center",children:[s.exports.jsx("button",{onClick:()=>{const e=Date.now();t(e),b("SINGLE"),console.log(Ze(e)),n(Ze(e))},className:K("SINGLE"===d&&"bg-gray-200"),children:"单月"}),s.exports.jsx("button",{onClick:()=>{const e=Date.now();t(e),b("MULTIPLE"),n(We("init",e))},className:K("MULTIPLE"===d&&"bg-gray-200"),children:"多月"}),s.exports.jsx("button",{onClick:()=>p("pre"),children:s.exports.jsx(a,{className:"w-5 h-5"})}),s.exports.jsx("button",{className:"bg-white px-2 cursor-pointer",onClick:()=>p("today"),children:"今天"}),s.exports.jsx("button",{onClick:()=>p("next"),children:s.exports.jsx(l,{className:"w-5 h-5"})})]})]}),s.exports.jsx("div",{className:"flex mt-2",children:"日_一_二_三_四_五_六".split("_").map((e=>s.exports.jsxs("div",{className:"flex-1 text-center",children:["周",e]},e)))})]})},Xe=o.exports.memo((({dates:e,setCurrentMonth:t,setTodoList:r})=>{const{container:n,calenderHeader:i,showType:a}=Ye(),l=o.exports.useRef(null);return o.exports.useEffect((()=>{if("SINGLE"===a)return;const r=n.current;if(!r)return;const o=()=>{var r;if(!l.current||!i.current)return;const o=null===(r=l.current)||void 0===r?void 0:r.getBoundingClientRect(),n=i.current.getBoundingClientRect();n.bottom>o.top&&n.bottom<o.bottom&&t((t=>{const r=e[e.length-1]+he;return r!==t?ie(new Date(r).setDate(1)):t}))};return r.addEventListener("scroll",o),()=>r.removeEventListener("scroll",o)}),[i,n,e,t,a]),s.exports.jsxs("div",{className:"flex w-full relative calender-week min-h-[96px]",ref:l,children:[e.map((e=>s.exports.jsx(Oe,{date:e,setTodoList:r},e))),s.exports.jsx(_e,{firstDay:e[0],lastDay:e[e.length-1],weekRef:l})]})}),c),_e=o.exports.memo((({firstDay:e,lastDay:t,weekRef:r})=>{const n=((e,t)=>{const{todoList:r}=Ae(),o=[];r.forEach((({startTime:r,endTime:n,id:i})=>{if(!r||!n)return;const s=r||n,a=n||r;if(!s||!a)return;const l=ie(s),c=ie(a);if(c<e||l>t)return;const d=l>=e&&l<=t?l:e,b=c>=e&&c<=t?c:t;o.push({id:i,rawStartTime:r,rawEndTime:n,renderStartDate:s,renderEndDate:a,weekStartDate:d,weekEndDate:b,isStartDate:d===l,isEndDate:b===c,order:0})}));const n=g(o,(e=>e.weekStartDate)),i={};return n.forEach((e=>{let t=0;const r=i[e.weekStartDate];r&&(t=Object.entries(g(r)).findIndex((([e,t])=>Number(e)!==t)),t=-1===t?r.length:t);let o=e.weekStartDate;for(;o<=e.weekEndDate;){var n,s;i[o]=null!==(n=i[o])&&void 0!==n?n:[],null===(s=i[o])||void 0===s||s.push(t),o+=he}e.order=t})),n})(e,t);return o.exports.useEffect((()=>{const e=r.current;if(!e)return;if(0===n.length)e.style.height="124px";else{const t={};n.forEach((e=>{let r=e.weekStartDate;for(;r<=e.weekEndDate;)t[r]=(t[r]||0)+1,r+=he}));const r=Math.max(...Object.values(t))*$e()+36;e.style.height=`${Math.max(r,124)}px`}}),[n,r]),0===n.length?null:s.exports.jsx(s.exports.Fragment,{children:n.map((t=>o.exports.createElement(qe,{...t,weekFirstDay:e,key:t.id,__self:globalThis,__source:{fileName:"/Users/hexiang/insist/training/src/components/calender.tsx",lineNumber:470,columnNumber:9}})))})})),qe=o.exports.memo((({id:e,renderStartDate:t,weekStartDate:r,weekEndDate:n,weekFirstDay:i,isStartDate:a,isEndDate:l,order:c})=>{var d;const{container:b,calenderDatesRef:p}=Ye(),{todoListRef:h,setTodoList:u}=Ae(),f=o.exports.useRef({x:0,y:0}),m=(t,r)=>{t.preventDefault(),t.stopPropagation();const o=b.current;if(!o)return;const n="left"===r;let i,s={x:t.clientX,y:t.clientY};const a=e=>{s={x:e.clientX,y:e.clientY},G({y:e.clientY,container:o}),d(e.clientX,e.clientY)},l=()=>{o.removeEventListener("scroll",c),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",l),cancelAnimationFrame(U)},c=()=>d(s.x,s.y),d=(t,r)=>{let s=1/0;if(o.querySelectorAll(".calender-date").forEach(((e,o)=>{const n=e.getBoundingClientRect(),a=(l=(e=>({x:e.left+.5*e.width,y:e.top+.5*e.height}))(n),c={x:t,y:r},Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2)));var l,c;a<s&&(s=a,i=o)})),void 0===i)return;const a=p.current[i],l=h.current.find((t=>t.id===e));l&&(n&&l.startTime!==a||!n&&l.endTime!==a)&&u((t=>t.map((t=>t.id===e&&t.endTime&&t.startTime?{...t,startTime:n&&a<=t.endTime?a:t.startTime,endTime:!n&&a>=t.startTime?a:t.endTime}:t))))};o.addEventListener("scroll",c),document.addEventListener("mousemove",a),document.addEventListener("mouseup",l)},x={top:c*$e()+36,left:le((r-i)/he/7),width:le(((n-r)/he+1)/7),height:$e()};return s.exports.jsx("div",{"data-todo-id":e,className:K("absolute cursor-pointer pb-1",{"pl-1":a,"pr-1":l}),style:x,onMouseDown:r=>{r.preventDefault(),f.current={x:r.clientX,y:r.clientY};const o=b.current;if(!o)return;const n=r.currentTarget,i=n.getBoundingClientRect(),s=i.width/(parseFloat(n.style.width)/100)/7,a=t+Math.floor((r.clientX-i.left)/s)*he;let l,c,d=!1,m={x:r.clientX,y:r.clientY};const x=t=>{if(m={x:t.clientX,y:t.clientY},!(!d&&Math.abs(t.clientX-f.current.x)<5&&Math.abs(t.clientY-f.current.y)<5)){if(!d){d=!0,l=document.createElement("div"),l.style.position="fixed",l.style.inset="0",l.style.zIndex="100";o.querySelectorAll(`[data-todo-id="${e}"]`).forEach((e=>{var t;const r=e.getBoundingClientRect(),o=e.cloneNode(!0);o.style.position="absolute",o.style.width=`${r.width}px`,o.style.height=`${r.height}px`,o.style.top=`${r.top}px`,o.style.left=`${r.left}px`,null===(t=l)||void 0===t||t.appendChild(o)})),document.body.appendChild(l)}G({y:t.clientY,container:o}),g(t.clientX,t.clientY)}},g=(e,t)=>{if(!l)return;l.style.transform=`translate(${e-f.current.x}px, ${t-f.current.y}px)`;const r=o.querySelector(".calender-date.drag-hover-highlight");null==r||r.classList.remove("drag-hover-highlight");const n=o.querySelectorAll(".calender-date");Array.from(n).find(((r,o)=>{const n=r.getBoundingClientRect(),i=e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom;return i&&(c=o,r.classList.add("drag-hover-highlight")),i}))},w=()=>{var t;o.removeEventListener("scroll",y),document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",w),cancelAnimationFrame(U),null===(t=l)||void 0===t||t.remove();const r=o.querySelector(".calender-date.drag-hover-highlight");if(null==r||r.classList.remove("drag-hover-highlight"),!d)return;if(void 0===c)return;const n=h.current.find((t=>t.id===e));if(!n||!n.startTime||!n.endTime)return;const i=p.current[c];if(i===a)return;const s=i-(a-n.startTime),b=s+n.endTime-n.startTime;u((t=>t.map((t=>t.id===e?{...t,startTime:s,endTime:b}:t))))},y=()=>{g(m.x,m.y)};o.addEventListener("scroll",y),document.addEventListener("mousemove",x),document.addEventListener("mouseup",w)},children:s.exports.jsxs("div",{className:K("bg-green-300 border h-full relative p-1",{"rounded-l":a,"rounded-r":l}),children:[s.exports.jsx("span",{children:null===(d=h.current.find((t=>t.id===e)))||void 0===d?void 0:d.title}),Ie.map((e=>"left"===e&&a?s.exports.jsx("div",{className:"absolute h-full top-0 py-0.5 w-[4px] rounded-full hover:bg-black hover:cursor-col-resize z-10 -left-0.5",onMouseDown:t=>m(t,e)},e):"right"===e&&l?s.exports.jsx("div",{className:"absolute h-full top-0 py-0.5 w-[4px] rounded-full hover:bg-black hover:cursor-col-resize z-10 -right-0.5",onMouseDown:t=>m(t,e)},e):void 0))]})},e)})),Oe=o.exports.memo((({date:e,setTodoList:t})=>{const r=e===ie(Date.now());const n=new Date(e),i=J.solar2lunar(n.getFullYear(),n.getMonth()+1,n.getDate());return o.exports.useMemo((()=>s.exports.jsxs("div",{className:"border-r border-b px-2 calender-date flex-1 text-gray-200 text-right flex justify-between group relative",children:[s.exports.jsx("button",{className:"absolute top-0.5 left-10 opacity-0 group-hover:opacity-100 cursor-pointer text-black text-sm w-5 h-5 bg-white border rounded flex items-center text-center",onClick:()=>{t((t=>{var r;return t.concat({id:d(),title:(null!==(r=t[t.length-1].title)&&void 0!==r?r:0)+1,startTime:e,endTime:e})}))},children:"+"}),s.exports.jsx("span",{className:K(r&&"bg-red-500 font-bold inline-block w-6 text-center text-white rounded-full h-6"),children:n.getDate()}),-1!==i&&s.exports.jsx("span",{className:K("ml-1 ",(i.lunarFestival||i.Term)&&"text-red-400"),children:i.lunarFestival||i.Term?i.lunarFestival||i.Term:1===i.lDay?i.IMonthCn:i.IDayCn})]})),[e,n,i,t,r])})),We=(e="init",t)=>{let r=0,o=0;if("init"===e){const e=t?new Date(t):new Date,n=e.getMonth(),i=e.setMonth(n,1),s=e.setMonth(n+2,0);r=ie(i-((new Date(i).getDay()||7)-1)*he)-he;o=ie(s-((new Date(s).getDay()||7)-1)*he)+432e6}if("append"===e&&t){const e=new Date(t),n=e.setMonth(e.getMonth()+2,0);r=t;o=ie(n-((new Date(n).getDay()||7)-1)*he)+432e6}const n=[];let i=r;for(;i<=o;)n.push(i),i+=he;return n},Ze=(e=Date.now())=>{const t=new Date(e),r=t.getMonth(),o=t.setMonth(r,1),n=t.setMonth(r+1,0),i=ie(o-((new Date(o).getDay()||7)-1)*he)-he,s=ie(n-((new Date(n).getDay()||7)-1)*he)+432e6,a=[];let l=i;for(;l<=s;)a.push(l),l+=he;return a},Ue=(e,t,r)=>{const o=ie(new Date(e).setDate(1)),n=ie(new Date(e).setMonth(new Date(e).getMonth()+1,0)),i=t.indexOf(o),s=(n-o)/he+1;r.querySelectorAll(".calender-date.current-month").forEach((e=>{e.classList.remove("current-month")}));const a=r.querySelectorAll(".calender-date");Array.from(a).slice(i,i+s).forEach((e=>{e.classList.add("current-month")}))},Ve=(e,t=0,r=0)=>({x:e.x+t,y:e.y+r}),Ge=()=>window.devicePixelRatio,Je=[];var Ke=Object.freeze(Object.defineProperty({__proto__:null,ArrowForward:({...e})=>s.exports.jsxs("svg",{stroke:"currentColor",fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:[s.exports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.99992 9.99998L14.9999 9.99998V8.99998L4.99992 8.99998V9.99998Z",fill:"black"}),s.exports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.2929 9.65684L9.6967 5.06064L10.4038 4.35354L15.3536 9.30328C15.5488 9.49855 15.5488 9.81513 15.3536 10.0104L10.4038 14.9601L9.6967 14.253L14.2929 9.65684Z",fill:"black"})]}),MenuCopy:({...e})=>s.exports.jsxs("svg",{stroke:"currentColor",fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:[s.exports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.6762 6.83169V3.06812H12.6762V6.33169H15.9398V7.33169H12.1762C11.9 7.33169 11.6762 7.10784 11.6762 6.83169Z",fill:"black"}),s.exports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.2933 6.42383C16.387 6.5176 16.4397 6.64477 16.4397 6.77738L16.4397 14.5558C16.4397 14.832 16.2158 15.0558 15.9397 15.0558H12.7804C12.5042 15.0558 12.2804 14.832 12.2804 14.5558C12.2804 14.2797 12.5042 14.0558 12.7804 14.0558H15.4397L15.4397 6.98449L12.0233 3.56812L7.9194 3.56813V5.26249C7.9194 5.53863 7.69554 5.76249 7.4194 5.76249C7.14326 5.76249 6.9194 5.53863 6.9194 5.26249V3.06813C6.9194 2.79199 7.14326 2.56813 7.4194 2.56813L12.2304 2.56812C12.363 2.56811 12.4902 2.62079 12.584 2.71456L16.2933 6.42383Z",fill:"black"}),s.exports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.27229 9.25275V5.44434H9.27229V8.75275H12.5807V9.75275H8.77229C8.49615 9.75275 8.27229 9.5289 8.27229 9.25275Z",fill:"black"}),s.exports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.9342 8.79999C13.0279 8.89375 13.0806 9.02093 13.0806 9.15354L13.0806 16.932C13.0806 17.2081 12.8567 17.432 12.5806 17.432H4.0603C3.78416 17.432 3.5603 17.2081 3.5603 16.932L3.5603 5.44429C3.5603 5.16815 3.78415 4.94429 4.0603 4.94429L8.87133 4.94427C9.00394 4.94427 9.13112 4.99695 9.22489 5.09072L12.9342 8.79999ZM12.0806 9.36065L8.66423 5.94428L4.5603 5.94429L4.5603 16.432H12.0806L12.0806 9.36065Z",fill:"black"})]}),MenuInsertRight:({...e})=>s.exports.jsx("svg",{stroke:"currentColor",fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:s.exports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1464 5.35356L12.8535 4.64645L18.2071 10L12.8535 15.3536L12.1464 14.6465L16.2929 10.5H2.50005V9.49997H16.2928L12.1464 5.35356Z",fill:"black"})}),MenuItemHide:({...e})=>s.exports.jsx("svg",{stroke:"currentColor",fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:s.exports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.8064 9.6114C17.9377 9.85672 17.9377 10.1434 17.8064 10.3887C17.1353 11.6426 14.6898 15.5 10 15.5C5.31018 15.5 2.86468 11.6426 2.19363 10.3887C2.06235 10.1434 2.06235 9.85672 2.19363 9.6114C2.86469 8.35749 5.31018 4.50005 10 4.50005C14.6898 4.50005 17.1353 8.35749 17.8064 9.6114ZM13.3809 10.0001C13.3809 11.8673 11.8672 13.3809 10 13.3809C8.13281 13.3809 6.61914 11.8673 6.61914 10.0001C6.61914 8.13285 8.13281 6.61919 10 6.61919C11.8672 6.61919 13.3809 8.13285 13.3809 10.0001ZM10.0002 11.251C10.6911 11.251 11.2511 10.6909 11.2511 10C11.2511 9.30914 10.6911 8.74907 10.0002 8.74907C9.3093 8.74907 8.74922 9.30914 8.74922 10C8.74922 10.6909 9.3093 11.251 10.0002 11.251Z",fill:"#828282"})}),MenuItemShow:({...e})=>s.exports.jsx("svg",{stroke:"currentColor",fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:s.exports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.0103 3.28247L3.28235 16.0104L3.98946 16.7175L6.17723 14.5297C6.17724 14.5297 6.17725 14.5297 6.17725 14.5297L7.98894 12.718C7.98894 12.718 7.98893 12.718 7.98892 12.718L12.7179 7.98902C12.7179 7.98902 12.7179 7.98903 12.7179 7.98903L14.6912 6.01582C14.6912 6.01581 14.6912 6.01581 14.6911 6.01581L16.7174 3.98958L16.0103 3.28247ZM9.99992 4.50002C11.0662 4.50002 12.0165 4.69942 12.8563 5.0223L11.0824 6.79616C10.7426 6.68138 10.3785 6.61916 9.99993 6.61916C8.13273 6.61916 6.61906 8.13282 6.61906 10C6.61906 10.3786 6.68129 10.7426 6.79607 11.0825L4.52294 13.3556C3.28111 12.249 2.52322 11.0047 2.19356 10.3887C2.06227 10.1433 2.06227 9.85669 2.19356 9.61137C2.86461 8.35746 5.3101 4.50002 9.99992 4.50002ZM9.99993 13.3809C9.62131 13.3809 9.25723 13.3186 8.91735 13.2038L7.1435 14.9777C7.98329 15.3006 8.9336 15.5 9.99992 15.5C14.6897 15.5 17.1352 11.6426 17.8063 10.3887C17.9376 10.1433 17.9376 9.85669 17.8063 9.61137C17.4766 8.99537 16.7187 7.75102 15.4768 6.64436L13.2038 8.91744C13.3186 9.25732 13.3808 9.6214 13.3808 10C13.3808 11.8672 11.8671 13.3809 9.99993 13.3809Z",fill:"#BDBDBD"})}),NaviDot:({...e})=>s.exports.jsx("svg",{stroke:"currentColor",fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:s.exports.jsx("path",{d:"M9.08333 8C8.51256 8 8.0274 8.19977 7.62785 8.59931C7.19977 8.99886 7 9.51256 7 10.0833C7 10.6541 7.19977 11.1393 7.62785 11.5388C8.0274 11.9384 8.51256 12.1381 9.08333 12.1381C9.65411 12.1381 10.1393 11.9384 10.5388 11.5388C10.9384 11.1393 11.1667 10.6541 11.1667 10.0833C11.1667 9.51256 10.9384 8.99886 10.5388 8.59931C10.1393 8.19977 9.65411 8 9.08333 8Z",fill:"#828282"})}),NaviFold:({...e})=>s.exports.jsx("svg",{stroke:"currentColor",fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:s.exports.jsx("path",{d:"M6.89709 6.88417C6.89709 6.63089 7.19157 6.49159 7.38738 6.65224L11.3644 9.91517C11.5107 10.0352 11.5107 10.259 11.3644 10.379L7.38738 13.642C7.19157 13.8026 6.89709 13.6633 6.89709 13.41L6.89709 6.88417Z",fill:"#828282"})}),NaviUnfold:({...e})=>s.exports.jsx("svg",{stroke:"currentColor",fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:s.exports.jsx("path",{d:"M11.1601 8.66833C11.4134 8.66833 11.5527 8.96281 11.392 9.15862L8.12908 13.1356C8.00906 13.2819 7.78524 13.2819 7.66522 13.1356L4.40228 9.15862C4.24163 8.96281 4.38094 8.66833 4.63421 8.66834L11.1601 8.66833Z",fill:"#828282"})})},Symbol.toStringTag,{value:"Module"}));let Qe;const et=async()=>{switch(Notification.permission){case"default":Qe=await Notification.requestPermission();break;case"granted":Qe="granted";break;case"denied":Qe="denied"}};const tt=()=>s.exports.jsx("div",{className:"w-[10000px] px-4",children:new Array(100).fill(1).map(((e,t)=>s.exports.jsx("div",{className:"h-10 border-b flex items-center",children:t+1},t)))}),rt=({children:e,className:t})=>{const r=o.exports.useRef(null),n=o.exports.useRef(null),i=o.exports.useRef(null),a=o.exports.useRef(null),l=o.exports.useRef(null),c=o.exports.useRef(0),d=o.exports.useRef(0),b=o.exports.useRef({x:0,y:0,top:0,left:0});o.exports.useEffect((()=>{var e;const t=a.current,o=l.current,s=n.current,b=i.current,p=null===(e=r.current)||void 0===e?void 0:e.firstElementChild;if(!(t&&o&&s&&b&&p))return;p.classList.add("scrollbar-hidden");const h=()=>{const e=p.scrollHeight>p.clientHeight,r=p.scrollWidth>p.clientWidth;console.log(e,r);const n=getComputedStyle(p),i=parseInt(n.borderLeftWidth)||0,a=parseInt(n.borderTopWidth)||0;if(s.style.top=`${a}px`,b.style.left=`${i}px`,e&&r?(s.style.height="calc(100% - 12px)",b.style.width="calc(100% - 12px)"):(s.style.height=`${p.clientHeight}px`,b.style.width=`${p.clientWidth}px`),e){const e=s.clientHeight*(s.clientHeight/p.scrollHeight),r=Math.max(e,16),o=p.scrollHeight-p.clientHeight,n=(s.clientHeight-r)*(p.scrollTop/o);c.current=requestAnimationFrame((()=>{c.current&&cancelAnimationFrame(c.current),t.style.display="block",t.style.height=`${r}px`,t.style.top=`${n}px`}))}else t.style.display="none";if(r){const e=b.clientWidth*(b.clientWidth/p.scrollWidth),t=Math.max(e,16),r=p.scrollWidth-p.clientWidth,n=(b.clientWidth-t)*(p.scrollLeft/r);d.current=requestAnimationFrame((()=>{d.current&&cancelAnimationFrame(d.current),o.style.display="block",o.style.width=`${t}px`,o.style.left=`${n}px`}))}else o.style.display="none"},u=new ResizeObserver(h);return h(),p.addEventListener("scroll",h),u.observe(p),()=>{p.removeEventListener("scroll",h),u.unobserve(p)}}),[]);const p=(e,t)=>{var o;e.preventDefault();const s=a.current,c=l.current,d=n.current,p=i.current,h=null===(o=r.current)||void 0===o?void 0:o.firstElementChild;if(!(s&&c&&d&&p&&h))return;b.current={x:e.clientX,y:e.clientY,top:parseInt(s.style.top),left:parseInt(c.style.left)};const u=e=>{if("y"===t){const t=h.scrollHeight-h.clientHeight,r=d.clientHeight-s.offsetWidth,o=e.clientY-b.current.y+b.current.top,n=y(o,0,r);s.style.top=`${n}px`,h.scrollTop=t*(n/r)}if("x"===t){const t=h.scrollWidth-h.clientWidth,r=p.clientWidth-c.offsetWidth,o=e.clientX-b.current.x+b.current.left,n=y(o,0,r);c.style.left=`${n}px`,h.scrollLeft=t*(n/r)}},f=()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",f)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",f)};return s.exports.jsxs("div",{className:K(t,"relative overflow-hidden"),ref:r,children:[e,s.exports.jsx("div",{className:"absolute top-0 right-0 w-3 h-full",ref:n,children:s.exports.jsx("div",{className:"absolute w-2 bg-[#7f7f7f99] rounded-full",ref:a,onMouseDown:e=>p(e,"y")})}),s.exports.jsx("div",{className:"absolute left-0 bottom-0 h-3 w-full",ref:i,children:s.exports.jsx("div",{className:"absolute h-2 bg-[#7f7f7f99] rounded-full",ref:l,onMouseDown:e=>p(e,"x")})})]})},ot=80,nt=o.exports.createContext(void 0),it=()=>{const e=o.exports.useContext(nt);if(!e)throw new Error("SelectedCellContext 不存在");return e},st=o.exports.createContext(void 0),at=()=>{const e=o.exports.useContext(st);if(!e)throw new Error("TableDataContext 不存在");return e},lt=()=>{const{tableData:{tableCol:e,tableRow:t,tableContent:r},setTableData:n,tableRef:i}=at(),a=o.exports.useRef({x:0,y:0});return s.exports.jsxs("div",{className:"relative",children:[s.exports.jsxs("div",{className:"inline-block relative",children:[s.exports.jsxs("table",{className:"border-t border-l",ref:i,children:[s.exports.jsx("colgroup",{children:e.map((e=>s.exports.jsx("col",{width:e.width,"data-col-id":e.id},e.id)))}),s.exports.jsx("tbody",{children:r.map(((e,r)=>s.exports.jsx(ct,{row:t[r],rowData:e},t[r].id)))})]}),s.exports.jsx("div",{onMouseDown:e=>{e.preventDefault(),a.current={x:e.clientX,y:e.clientY};let t=0,r=0;const o=m((e=>{const o=e.clientX-a.current.x,i=e.clientY-a.current.y;let s=0,l=0,c=0,b=0;i>0&&(s=Math.floor(i/80),c=s-r,r=s),o>0&&(l=Math.floor(o/ot),b=l-t,t=l),console.log(c,b),0===c&&0===b||n((e=>{const{tableCol:t,tableContent:r,tableRow:o}=e;let n=[...r];const i=[...o],a=[...t];if(0!==c)if(c>0){const e=d(),t=a.map((t=>({id:d(),colId:t.id,rowId:e,content:String(s),colSpan:1,rowSpan:1,isMerged:!1})));i.push({id:e,height:80}),n.push(t)}else i.pop(),n.pop();if(0!==b){const e=d();n=n.map(((t,r)=>{const o=[...t];return b>0?o.push({id:d(),colId:e,rowId:i[r].id,content:String(l),colSpan:1,rowSpan:1,isMerged:!1}):o.pop(),o})),b>0?a.push({id:e,width:ot}):a.pop()}return{tableCol:a,tableRow:i,tableContent:n}}))}),100),i=()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",o),document.addEventListener("mouseup",i)},className:"absolute -right-4 hover:bg-gray-200 hover:cursor-move",children:s.exports.jsx(k,{})})]}),s.exports.jsxs("div",{children:[e.map(((t,r)=>s.exports.jsx(bt,{col:t,left:j(e.slice(0,r+1).map((e=>e.width)))-2,tableRef:i,setTableData:n},t.id))),t.map(((r,o)=>s.exports.jsx(pt,{row:r,top:j(t.slice(0,o+1).map((e=>e.height)))-2,width:j(e.map((e=>e.width))),tableRef:i,setTableData:n},o)))]})]})},ct=({rowData:e,row:t})=>s.exports.jsx("tr",{style:{height:t.height},"data-row-id":t.id,children:e.map((e=>s.exports.jsx(dt,{cell:e},e.id)))}),dt=({cell:e})=>{const{tableRef:t,setTableData:r}=at(),n=o.exports.useRef({x:0,y:0}),[i,a]=o.exports.useState(),l=o.exports.useRef(null),{selectedCell:c,setSelectedCell:d}=it(),b=c.find((t=>t===e.id));if(e.isMerged)return null;const p=(e,t,r)=>{if(0===e.length)return[];if(1===e.length){const t=e[0];return t.colSpan>1||t.rowSpan>1?e:[]}let o=1/0,n=1/0,i=-1/0,s=-1/0,a=0;if(e.forEach((e=>{const t=r.get(e);t&&(a+=t.width*t.height,o=Math.min(t.left,o),n=Math.min(t.top,n),i=Math.max(t.right,i),s=Math.max(t.bottom,s))})),Math.abs((s-n)*(i-o)-a)>100){const e={left:o,top:n,width:i-o,height:s-n},a=[];return t.forEach((t=>{const o=r.get(t);if(!o)return;ae(e,o)>0&&a.push(t)})),p(a,t,r)}return e};return s.exports.jsxs(s.exports.Fragment,{children:[s.exports.jsx("td",{ref:l,onMouseDown:e=>{e.preventDefault(),(0===e.button||2===e.button&&!b)&&c.length>0&&d([]),n.current={x:e.clientX,y:e.clientY};let r=!1,o=[];const i=e=>{if(!t.current)return;if(!r){if(Math.abs(e.clientX-n.current.x)<5&&Math.abs(e.clientY-n.current.y)<5)return;r=!0}const i={left:Math.min(n.current.x,e.clientX),top:Math.min(n.current.y,e.clientY),width:Math.abs(n.current.x-e.clientX)||1,height:Math.abs(n.current.y-e.clientY)||1};let s=[];const a=t.current.querySelectorAll("td"),l=new Map;a.forEach((e=>{const t=e.getBoundingClientRect();l.set(e,t),e.classList.contains("cell-hover-highlight")&&e.classList.remove("cell-hover-highlight"),ae(i,t)>0&&s.push(e)})),s=p(s,a,l),s.forEach((e=>e.classList.add("cell-hover-highlight"))),o=s},s=()=>{if(document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",s),r&&0===e.button&&o.length>0){const e=o.map((e=>{var t;return null!==(t=e.dataset.cellId)&&void 0!==t?t:""})).filter((e=>!!e));d(e)}};document.addEventListener("mousemove",i),document.addEventListener("mouseup",s)},onContextMenu:e=>{e.preventDefault(),l.current&&b&&a({x:e.clientX,y:e.clientY})},className:K("border-r border-b",b&&"cell-hover-highlight",(e.colSpan>1||e.rowSpan>1)&&"relative z-50"),"data-cell-id":e.id,colSpan:e.colSpan>1?e.colSpan:void 0,rowSpan:e.rowSpan>1?e.rowSpan:void 0,children:e.content}),i&&C.exports.createPortal(s.exports.jsx(ht,{top:i.y,left:i.x,closeModal:()=>a(void 0),setTableData:r}),document.body)]})},bt=({col:e,left:t,tableRef:r,setTableData:n})=>{const i=o.exports.useRef(null),a=o.exports.useRef({x:0,y:0});return s.exports.jsx("div",{ref:i,onMouseDown:o=>{o.preventDefault(),a.current={x:o.clientX,y:o.clientY};let s=0;const l=o=>{var n;if(!i.current)return;const l=null===(n=r.current)||void 0===n?void 0:n.querySelector("colgroup");if(!l)return;const c=l.querySelector(`col[data-col-id="${e.id}"]`);if(!c)return;let d=o.clientX-a.current.x;d=y(d,-(e.width-80),400-e.width),s=e.width+d,c.style.width=`${s}px`,i.current.style.opacity="1",i.current.style.zIndex="100",i.current.style.left=`${t+d}px`},c=()=>{document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",c),i.current&&(i.current.style.opacity="0",i.current.style.zIndex="unset"),n((t=>{const r=t.tableCol.map((t=>t.id===e.id?{...t,width:s}:t));return{...t,tableCol:r}}))};document.addEventListener("mousemove",l),document.addEventListener("mouseup",c)},className:"absolute top-0 w-1 bg-black h-full cursor-[col-resize]",style:{left:t,opacity:0}})},pt=({row:e,top:t,width:r,tableRef:n,setTableData:i})=>{const a=o.exports.useRef(null),l=o.exports.useRef({x:0,y:0});return s.exports.jsx("div",{ref:a,onMouseDown:r=>{r.preventDefault(),l.current={x:r.clientX,y:r.clientY};let o=0;const s=r=>{if(!n.current||!a.current)return;const i=n.current.querySelector(`tbody tr[data-row-id="${e.id}"]`);if(!i)return;let s=r.clientY-l.current.y;s=y(s,-(e.height-80),400-e.height),o=e.height+s,i.style.height=`${o}px`,a.current.style.opacity="1",a.current.style.zIndex="100",a.current.style.top=`${t+s}px`},c=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",c),a.current&&(a.current.style.opacity="0",a.current.style.zIndex="unset"),i((t=>{const r=t.tableRow.map((t=>t.id===e.id?{id:t.id,height:o}:t));return{...t,tableRow:r}}))};document.addEventListener("mousemove",s),document.addEventListener("mouseup",c)},className:"absolute left-0 h-1 bg-black w-full cursor-[row-resize]",style:{top:t,width:r,opacity:0}})},ht=({left:e,top:t,closeModal:r,setTableData:o})=>{const{selectedCell:n,setSelectedCell:i}=it(),a=[{title:"向上插入一行",type:"inset_top"},{title:"向下插入一行",type:"inset_bottom"},{title:"向左插入一行",type:"insert_left"},{title:"向右插入一列",type:"insert_right"},{title:n.length>1?"合并单元格":"取消合并单元格",type:n.length>1?"merge":"split"},{title:"删除列",type:"delete_col"},{title:"删除行",type:"delete_row"}];return s.exports.jsx("div",{className:"fixed w-full h-full top-0 left-0 z-[1000]",onClick:r,children:s.exports.jsx("div",{className:"absolute py-2 bg-white shadow-lg rounded-md w-[120px]",style:{left:e+8,top:t+8},onClick:e=>e.stopPropagation(),children:a.map((e=>s.exports.jsx("div",{className:"text-sm h-10 flex items-center hover:bg-red-100 px-2 cursor-pointer",onClick:()=>(({type:e})=>{o((t=>{const{tableCol:r,tableContent:o,tableRow:s}=t,a=n[0];let l=0,c=0,b=0,p=0;switch(o.forEach(((e,t)=>{e.forEach(((e,r)=>{e.id===n[0]&&(b=t,p=r),n.includes(e.id)&&(l=Math.max(e.colSpan+r-1,l),c=Math.max(e.rowSpan+t-1,c))}))})),e){case"inset_top":case"inset_bottom":{const t="inset_top"===e,n=d(),i=s.slice(0),a=o.slice(),l=r.map((e=>({id:d(),colId:e.id,rowId:n,content:"2",colSpan:1,rowSpan:1,isMerged:!1})));return i.splice(t?b:c+1,0,{id:n,height:100}),a.splice(t?b:c+1,0,l),{tableCol:r,tableRow:i,tableContent:a}}case"insert_left":case"insert_right":{const t="insert_left"===e,n=d(),i=r.slice(0),a=o.map(((e,r)=>{const o=[...e];return o.splice(t?p:l+1,0,{id:d(),colId:n,rowId:s[r].id,content:"3",colSpan:1,rowSpan:1,isMerged:!1}),o}));return i.splice(t?p:l+1,0,{id:n,width:ot}),{tableCol:i,tableRow:s,tableContent:a}}case"merge":{const e=o.map((e=>e.map((e=>a===e.id?{...e,colSpan:l-p+1,rowSpan:c-b+1}:n.includes(e.id)?{...e,isMerged:!0}:e))));return i([a]),{tableCol:r,tableRow:s,tableContent:e}}case"split":{const e=[],t=o.map(((t,r)=>r>=b&&r<=c?t.map(((t,r)=>r>=p&&r<=l?(e.push(t.id),{...t,colSpan:1,rowSpan:1,isMerged:!1}):t)):t));return i(e),{tableCol:r,tableRow:s,tableContent:t}}case"delete_col":{const e=r.filter(((e,t)=>t<p||t>l)),t=o.map((e=>e.filter(((e,t)=>t<p||t>l))));return e.length,{tableCol:e,tableRow:s,tableContent:t}}case"delete_row":{const e=s.filter(((e,t)=>t<b||t>c)),t=o.filter(((e,t)=>t<b||t>c));return{tableCol:r,tableRow:e,tableContent:t}}default:return t}})),r()})(e),children:e.title},e.type)))})})},ut=()=>{const e=[{width:ot,id:d()},{width:ot,id:d()},{width:ot,id:d()}],t=[{height:80,id:d()},{height:80,id:d()}];return{tableCol:e,tableRow:t,tableContent:[[{id:d(),colId:e[0].id,rowId:t[0].id,content:"1",colSpan:1,rowSpan:1,isMerged:!1},{id:d(),colId:e[1].id,rowId:t[0].id,content:"1",colSpan:1,rowSpan:1,isMerged:!1},{id:d(),colId:e[2].id,rowId:t[0].id,content:"1",colSpan:1,rowSpan:1,isMerged:!1}],[{id:d(),colId:e[0].id,rowId:t[1].id,content:"1",colSpan:1,rowSpan:1,isMerged:!1},{id:d(),colId:e[1].id,rowId:t[1].id,content:"1",colSpan:1,rowSpan:1,isMerged:!1},{id:d(),colId:e[2].id,rowId:t[1].id,content:"1",colSpan:1,rowSpan:1,isMerged:!1}]]}},ft=e=>new Array(e).fill(1).map(((e,t)=>({id:d(),index:t+1,content:D.lorem.sentences()}))),mt=40,{idList:xt,dataList:gt,dataMap:wt}=(e=>{const t={},r=[],o=[];return new Array(e).fill(1).map(((e,n)=>{const i=d(),s={id:i,index:n+1,content:D.lorem.sentences()};o.push(s),r.push(i),t[i]=s})),{idList:r,dataList:o,dataMap:t}})(1e3),yt=()=>{const[e]=o.exports.useState(gt),t=o.exports.useRef(null),r=o.exports.useRef(null),n=o.exports.useRef(null),i=o.exports.useRef([]),[a,l]=o.exports.useState([0,Math.min(Math.ceil(window.innerHeight/mt),e.length)]);o.exports.useEffect((()=>{e.forEach(((e,t)=>{const r={id:e.id,bottom:(t+1)*mt,height:mt,diffHeight:0};i.current.push(r)}))}),[]),o.exports.useEffect((()=>{const t=r.current;t&&(t.style.height=e.length*mt+"px")}),[]),o.exports.useEffect((()=>{const e=t.current,o=n.current,s=r.current;if(!e||!o||!s)return;const a=()=>{const t=e.getBoundingClientRect(),r=s.getBoundingClientRect(),o=t.top-r.top,n=Math.ceil(e.clientHeight/mt),a=(e=>{const t=i.current;let r=0,o=t.length-1,n=0;for(;r<=o;){n=Math.floor((r+o)/2);const i=t[n];if(i.bottom===e)break;i.bottom<e&&(r=n+1),i.bottom>e&&(o=n-1)}return i.current[n].bottom<e&&n++,n})(o),c=Math.max(a-5,0);l((e=>e[0]===c?e:[c,c+n+5]))};return e.addEventListener("scroll",a),()=>{e.removeEventListener("scroll",a)}}),[]),o.exports.useEffect((()=>{const e=n.current,t=r.current;if(!e||!t)return;const o=e.childNodes;o.forEach((e=>{const t=Number(e.dataset.index),r=i.current[t].height,o=e.offsetHeight,n=r-o;0!==n&&(i.current[t].height=o,i.current[t].diffHeight=n)}));let s=0;const a=o[0],l=Number(a.dataset.index),c=i.current.length;for(let r=l;r<c;r++){const e=i.current[r];0!==e.diffHeight&&(s+=e.diffHeight,e.diffHeight=0),e.bottom=e.bottom-s}const d=i.current[c-1].bottom;t.style.height=`${d}px`}),[a]);const c=a[0],d=a[1],b=`translate3d(0,${c>=1?i.current[c-1].bottom:0}px,0)`;return s.exports.jsx("div",{ref:t,className:"h-[800px] w-[400px] border overflow-auto",children:s.exports.jsx("div",{ref:r,className:"w-full relative",children:s.exports.jsx("div",{ref:n,className:"absolute top-0 w-full",style:{transform:b},children:(p=c,h=d,s.exports.jsx(s.exports.Fragment,{children:e.slice(p,h).map(((e,t)=>s.exports.jsxs("div",{className:"p-2 border-b","data-index":p+t,"data-uuid":e.id,children:[s.exports.jsx("span",{className:"text-[blue] font-bold",children:e.index})," ",e.content]},p+t)))}))})})});var p,h},vt=()=>{const[e]=o.exports.useState(xt),t=o.exports.useRef(null),r=o.exports.useRef(null),n=o.exports.useRef(null),i=o.exports.useRef({}),[a,l]=o.exports.useState([0,Math.min(Math.ceil(window.innerHeight/mt),e.length)]),c=o.exports.useRef(e);c.current=e,o.exports.useEffect((()=>{const t=r.current;t&&(t.style.height=e.length*mt+"px")}),[]),o.exports.useEffect((()=>{e.forEach(((e,t)=>{i.current[e]={id:e,bottom:(t+1)*mt,height:mt,diffHeight:0}}))}),[]),o.exports.useEffect((()=>{const e=n.current,t=r.current;if(!e||!t)return;e.childNodes.forEach((e=>{const t=e.dataset.uuid;if(!t)return;const r=i.current[t].height,o=e.offsetHeight,n=r-o;0!==n&&(i.current[t].height=o,i.current[t].diffHeight=n)}));let o=0;const s=a[0],l=c.current.length;for(let r=s;r<l;r++){const e=c.current[r],t=i.current[e];0!==t.diffHeight&&(o+=t.diffHeight,t.diffHeight=0),t.bottom=t.bottom-o}const d=c.current[l-1],b=i.current[d].bottom;t.style.height=`${b}px`}),[a]);o.exports.useEffect((()=>{const e=t.current,o=n.current,s=r.current;if(!e||!o||!s)return;const d=()=>{const t=e.getBoundingClientRect(),r=s.getBoundingClientRect(),o=t.top-r.top,n=Math.ceil(e.clientHeight/mt),d=(e=>{const t=i.current;let r=0,o=c.current.length-1,n=0,s="";for(;r<=o;){n=Math.floor((r+o)/2),s=c.current[n];const i=t[s];if(i.bottom===e)break;i.bottom<e&&(r=n+1),i.bottom>e&&(o=n-1)}return s=c.current[n],t[s].bottom<e&&n++,n})(o),b=Math.max(d-5,0);a[0]!==b&&l([b,b+n+5])};return e.addEventListener("scroll",d),()=>{e.removeEventListener("scroll",d)}}),[a]);const d=a[0],b=a[1],p=e[d],h=`translate3d(0,${d>=1?i.current[p].bottom:0}px,0)`;return s.exports.jsx("div",{ref:t,className:"h-[800px] w-[400px] border overflow-auto",children:s.exports.jsx("div",{ref:r,className:"w-full relative",children:s.exports.jsx("div",{ref:n,className:"absolute top-0 w-full",style:{transform:h},children:(u=d,f=b,s.exports.jsx(s.exports.Fragment,{children:e.slice(u,f).map((e=>{const t=wt[e];return s.exports.jsxs("div",{className:"p-2 border-b","data-uuid":e,children:[s.exports.jsx("span",{className:"text-[blue] font-bold",children:t.index})," ",t.content]},e)}))}))})})});var u,f},kt=40,jt=()=>{const[e]=o.exports.useState(ft(1e4)),t=o.exports.useRef(null),r=o.exports.useRef(null),n=o.exports.useRef(0),[i,a]=o.exports.useState([0,Math.min(Math.ceil(window.innerHeight/kt),e.length)]),l=o.exports.useRef(0);l.current=i[0],o.exports.useEffect((()=>{const e=t.current,o=r.current;if(!e||!o)return;const i=()=>{const t=e.getBoundingClientRect(),r=o.getBoundingClientRect(),i=Math.ceil(e.clientHeight/kt),s=t.top-r.top;let c="bottom";s<n.current&&(c="top"),n.current=s;const d=Math.floor(s/kt);let b=0,p=0;"bottom"===c?(b=d,p=d+i+20):(b=Math.max(d-20,0),p=d+i),l.current!==b&&a([b,p])};return e.addEventListener("scroll",i),()=>{e.removeEventListener("scroll",i)}}),[]);const c=i[0],d=i[1];return s.exports.jsx("div",{className:"relative h-[800px] w-96 overflow-y-scroll box-border border",ref:t,children:s.exports.jsx("div",{style:{height:e.length*kt+"px"},ref:r,children:e.slice(c,d).map(((e,t)=>s.exports.jsx("div",{className:"absolute w-full border-b-[1px]",style:{top:(c+t)*kt+"px",height:kt},children:s.exports.jsx("div",{className:"flex items-center h-full px-4",children:e.index})},e.id)))})})},Ct=()=>ft(1e4).map(((e,t)=>({id:e.id,bottom:90*(t+1),height:90,diffHeight:0}))),Dt=()=>(console.log("%c Child","color:#2196f3;"),o.exports.useEffect((()=>{console.log("%c Child useEffect","color:#2196f3;")})),s.exports.jsx("div",{className:"w-20 border border-green-300 px-1 mt-2",children:"Child"})),Lt=()=>(console.log("%c Parent","color:#2196f3;"),o.exports.useEffect((()=>{console.log("%c Parent useEffect","color:#2196f3;")})),s.exports.jsxs("div",{className:"react-lifecycle-container border border-red-400 p-2 w-[600px]",children:[s.exports.jsx("div",{children:"React Lifecycle 打开控制台查看顺序！！！"}),s.exports.jsx(Dt,{})]}));class Mt{constructor({textLayerDiv:e,eventBus:t,pageIndex:r,viewport:o,highlighter:n=null,enhanceTextSelection:i=!1}){this.textLayerDiv=e,this.eventBus=t,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=r+1,this.viewport=o,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=n,this.enhanceTextSelection=i,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const e=document.createElement("div");e.className="endOfContent",this.textLayerDiv.appendChild(e)}}render(e=0){var t;if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,null===(t=this.highlighter)||void 0===t||t.setTextMapping(this.textDivs,this.textContentItemsStr);const r=document.createDocumentFragment();this.textLayerRenderTask=window.pdfjsLib.renderTextLayer({textContent:this.textContent,textContentStream:this.textContentStream,container:r,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:e,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then((()=>{var e;this.textLayerDiv.appendChild(r),this._finishRendering(),null===(e=this.highlighter)||void 0===e||e.enable()}))}cancel(){var e;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),null===(e=this.highlighter)||void 0===e||e.disable()}setTextContentStream(e){this.cancel(),this.textContentStream=e}setTextContent(e){this.cancel(),this.textContent=e}_bindMouse(){const e=this.textLayerDiv;let t=null;e.addEventListener("mousedown",(r=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")||!t||(clearTimeout(t),t=null));const o=e.querySelector(".endOfContent");if(o){if("undefined"==typeof PDFJSDev||!PDFJSDev.test("MOZCENTRAL")){let t=r.target!==e;if(("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&(t=t&&"none"!==window.getComputedStyle(o).getPropertyValue("-moz-user-select")),t){const t=e.getBoundingClientRect(),n=Math.max(0,(r.pageY-t.top)/t.height);o.style.top=(100*n).toFixed(2)+"%"}}o.classList.add("active")}})),e.addEventListener("mouseup",(()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")?this.textLayerRenderTask.expandTextDivs(!1):t=setTimeout((()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),t=null}),300));const r=e.querySelector(".endOfContent");r&&("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")||(r.style.top=""),r.classList.remove("active"))}))}}const St=o.exports.memo((({container:e,pageNum:t,drawPage:r})=>{const n=o.exports.useRef(null);return o.exports.useEffect((()=>{if(!n.current)return;const o=new IntersectionObserver(((e,o)=>{e.forEach((e=>{e.isIntersecting&&(r(Number(t)),o.disconnect())}))}),{root:e,rootMargin:"800px 0px"});return o.observe(n.current),()=>o.disconnect()}),[e,r,t]),s.exports.jsx("div",{ref:n,id:`page-${t}`,className:"relative bg-white mb-4 mx-auto",style:{width:Rt,height:Nt},children:"loading"})})),Et={},Tt=e=>((e,t)=>(Et[e]||(Et[e]=new Promise(((r,o)=>{let n;"script"===t?(n=document.createElement(t),n.src=e):(n=document.createElement(t),n.href=e,n.rel="stylesheet",n.type="text/css"),n.onload=()=>r(),n.onerror=e=>o(e),document.head.appendChild(n)}))),Et[e]))(e,"script"),Rt=800,Nt=1130;class zt{constructor(t){e(this,"disposed",!1),e(this,"pdf",void 0),this.file=t}async load(){return await Tt("/pdf/pdf.js"),window.pdfjsLib.getDocument({url:this.file,cMapUrl:"/pdf/cmaps/",cMapPacked:!0}).promise.then((e=>(this.pdf=e,this.disposed&&e.destroy(),e)))}dispose(){this.disposed=!0,this.pdf&&this.pdf.destroy()}}const It=[{text:"存取的各种类型数据",type:"dataType"},{text:"数据过期清除",type:"expires"},{text:"超大数据无法存入",type:"bigData"},{text:"空间不够删除不常用数据",type:"exceedSize"}],Ft=()=>{const[e,t]=o.exports.useState(!1);return s.exports.jsxs("div",{className:"relative h-screen overflow-hidden",children:[s.exports.jsxs("div",{className:"h-full w-20 absolute z-50 border-r",children:[s.exports.jsx("button",{className:"px-2 text-sm border-none rounded-md w-full h-10",onClick:()=>t(!e)}),e&&s.exports.jsx("div",{className:"flex flex-col pt-2",children:Ht.map((e=>s.exports.jsx(E,{to:`/example/${e.path}`,className:"w-full px-2 h-8 flex items-center mb-2 hover:bg-gray-100",children:e.path},e.path)))})]}),s.exports.jsx("div",{className:"overflow-scroll h-screen m-4 ml-24",children:s.exports.jsxs(T,{children:[Ht.map((e=>s.exports.jsx(R,{path:`/example/${e.path}`,component:e.component},e.path))),s.exports.jsx(R,{path:"/",component:Ht[0].component})]})})]})},Ht=[{path:"storage",component:()=>{const[e,t]=o.exports.useState("dataType"),r=o.exports.useRef();o.exports.useEffect((()=>(n(e),()=>{r.current&&(clearInterval(r.current),clearTimeout(r.current))})),[]);const n=e=>{switch(t(e),W.clear(),W.resetTime(),r.current&&(clearInterval(r.current),clearTimeout(r.current)),e){case"bigData":(()=>{const e=ft(2e4);W.setItem("bigData",e),r.current=setInterval((()=>{W.setItem(d(),e)}),2e3)})();break;case"dataType":(()=>{W.setItem("dataType",1);const e=[[d(),!0],[d(),null],[d(),void 0],[d(),111],[d(),"this is a sentence"],[d(),ft(2)]];e.forEach((([e,t])=>{W.setItem(e,t)})),r.current=setTimeout((()=>{console.groupCollapsed("%c 取出各种类型数据","color: red;"),e.forEach((([e])=>{const t=W.getItem(e);console.log(t,"type:"+typeof t)})),console.groupEnd()}),1e3)})();break;case"exceedSize":(()=>{const e=ft(4e3);W.setItem("exceedSize",e),r.current=setInterval((()=>{W.setItem(d(),e)}),1e3)})();break;case"expires":(()=>{W.setLiveTime(3e3),W.setCheckIntervalTime(5e3);const e=ft(1);W.setItem("expires",e),r.current=setInterval((()=>{W.setItem(d(),e)}),500)})()}};return s.exports.jsx("div",{children:It.map((({text:t,type:r})=>s.exports.jsx("button",{onClick:()=>n(r),className:K("mr-2",r===e&&"bg-gray-200"),children:t},r)))})}},{path:"pdf",component:({fileUrl:e="https://hexiang-images.oss-cn-beijing.aliyuncs.com/rxjs%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3.pdf"})=>{var t;const r=o.exports.useRef(),n=o.exports.useRef(!1),i=o.exports.useRef(null),a=o.exports.useRef(null),l=o.exports.useRef(null),c=o.exports.useRef(null),d=o.exports.useRef(),[b,p]=o.exports.useState(!0),[h,u]=o.exports.useState(!1),[f,x]=o.exports.useState("1");o.exports.useEffect((()=>{const t=new zt(e);return t.load().then((e=>{r.current=e,p(!1)})),()=>{t.dispose(),y()}}),[e]);const g=o.exports.useCallback((e=>{if(!a.current)return;const t=a.current.querySelector(`div[id=page-${e}]`);t&&(t.innerHTML="",r.current.getPage(e).then((e=>{if(!l.current)return;const r=e.getViewport({scale:1.5*(window.devicePixelRatio||1)}),o=document.createElement("canvas"),n=o.getContext("2d");if(!n)return;const i=l.current.clientWidth,s=r.width/Math.min(Rt,i-40);t.appendChild(o),o.height=r.height,o.width=r.width;const a=o.width/s,c=o.height/s;t.style.width=`${a}px`,t.style.height=`${c}px`,o.style.width=`${a}px`,o.style.height=`${c}px`,e.render({canvasContext:n,viewport:r}).promise.then((()=>e.getTextContent())).then((n=>{const i=document.createElement("div");i.setAttribute("class","textLayer"),i.style.transform=`scale(${1/s})`,i.style.width=`${o.width}px`,i.style.height=`${o.height}px`,t.appendChild(i);const a=new Mt({textLayerDiv:i,pageIndex:e.pageIndex,viewport:r});a.setTextContent(n),a.render()}))})))}),[]),w=e=>{if(!l.current)return;const t=document.querySelector(`#page-${e}`);t&&(l.current.scrollTo(0,t.offsetTop),x(e))},y=()=>{d.current&&clearTimeout(d.current)},v=e=>{if(e){var t;if(null!==(t=i.current)&&void 0!==t&&t.contains(e.target))return n.current=!0,u(!0),void y();n.current=!1}if(n.current)return;const r=()=>{d.current=setTimeout((()=>{y(),c.current===document.activeElement?r():u(!1)}),1e3)};h?(y(),r()):(u(!0),r())};return s.exports.jsx("div",{className:"w-full h-[750px] relative",children:s.exports.jsxs("div",{ref:l,className:"w-full h-full overflow-y-auto flex justify-center pt-2 bg-black/70 border",onScroll:m((()=>{var e;c.current===document.activeElement&&(null===(e=c.current)||void 0===e||e.blur());v();const t=l.current;if(!t)return;const r=document.elementFromPoint(t.clientWidth/2,t.clientHeight/2+55);if(!r)return;const o=r.closest("div[id^=page]");if(!o)return;const n=o.id.split("-")[1];n&&x(n)}),300),onMouseMove:m(v,300),children:[s.exports.jsx("div",{ref:a,style:{height:"max-content"},children:(()=>{if(b||!r.current||!l.current)return null;const e=[];for(let t=1;t<r.current.numPages+1;t++)e.push(s.exports.jsx(St,{drawPage:g,pageNum:t,container:l.current},t));return e})()}),s.exports.jsxs("div",{ref:i,className:K("absolute z-50 flex items-center h-12 px-2 text-white transition-all duration-200 -translate-x-1/2 rounded-sm bottom-4 left-1/2 bg-black "),children:[s.exports.jsx("button",{className:"flex items-center justify-center mr-1 rounded animate-hover hover:bg-white hover:bg-opacity-10",children:s.exports.jsx(L,{className:"p-1 w-full",onClick:()=>w(String(Number(f)-1))})}),s.exports.jsxs("div",{className:"relative px-0.5",children:[s.exports.jsx("span",{className:"invisible",children:String(f)}),s.exports.jsx("input",{ref:c,type:"text",className:"absolute left-0 top-0 h-full w-full px-0 bg-transparent border-none focus:border-0 ",style:{backgroundColor:"transparent"},value:f,onKeyDown:e=>{M("enter")(e)&&(()=>{const e=parseInt(f,10);Number.isNaN(e)||e>r.current.numPages?alert("输入页码无效！"):(f!==e.toString()&&x(e.toString()),w(e.toString()))})()},onChange:e=>{x(e.target.value)}})]})," /  ",s.exports.jsxs("span",{children:[" ",null===(t=r.current)||void 0===t?void 0:t.numPages," "]}),s.exports.jsx("button",{className:"flex items-center justify-center ml-1 rounded animate-hover hover:bg-white hover:bg-opacity-10",children:s.exports.jsx(S,{size:"large",className:"p-1 w-full",onClick:()=>w(String(Number(f)+1))})})]}),b&&s.exports.jsx(s.exports.Fragment,{children:"loading..."})]})})}},{path:"memory",component:()=>(o.exports.useEffect((()=>{}),[]),o.exports.useEffect((()=>{setTimeout((()=>{window.f=(()=>{const e=Ct();return()=>e})(),console.log("%c Data generated","color: #f00;",window.f()),setTimeout((()=>{console.log("%c Data recovery","color: #f00;"),window.f=null}),4e3)}),1e3)}),[]),null)},{path:"timeline",component:()=>{const[e,t]=o.exports.useState(re.MONTH),[r,n]=o.exports.useState(ne({showType:e})),i=o.exports.useRef(null),a=o.exports.useRef(null),l=o.exports.useRef(),c=o.exports.useRef(100),d=o.exports.useRef(r),b=o.exports.useRef(),p=o.exports.useRef(null),h=o.exports.useRef(null),u=o.exports.useRef(null),f=o.exports.useRef(null),[m,x]=o.exports.useState(new Array(10).fill(1).map(((e,t)=>({id:String(t+1),recordStartTime:ie(Date.now())+he,recordEndTime:ie(Date.now())+864e6})))),g=o.exports.useMemo((()=>({showType:e,setShowType:t,timelineDatesRef:d,dateStepLength:c,timelineDates:r,setTimelineDates:n,container:i,scrollContainer:a,containerScrollLeft:l,datesContainer:p,timelineHeader:h,monthContainer:u,listRef:f,draggingRecordId:b})),[e,r]),w=o.exports.useMemo((()=>({records:m,setRecords:x})),[m]);return d.current=r,s.exports.jsx(ge.Provider,{value:g,children:s.exports.jsx(me.Provider,{value:w,children:s.exports.jsx(ye,{})})})}},{path:"table",component:()=>{const[e,t]=o.exports.useState([]),[r,n]=o.exports.useState(ut()),i=o.exports.useRef(null),a=o.exports.useMemo((()=>({selectedCell:e,setSelectedCell:t})),[e]),l=o.exports.useMemo((()=>({tableData:r,setTableData:n,tableRef:i})),[r]);return s.exports.jsx(nt.Provider,{value:a,children:s.exports.jsx(st.Provider,{value:l,children:s.exports.jsx(lt,{})})})}},{path:"canvas",component:()=>{const e=o.exports.useRef(null);return o.exports.useEffect((()=>{if(!e.current)return;const t=e.current,r=Ge(),o=getComputedStyle(t);t.width=Math.floor(parseInt(o.getPropertyValue("width"))*r),t.height=Math.floor(parseInt(o.getPropertyValue("height"))*r);const n=e.current.getContext("2d");if(!n)return;n.scale(r,r),n.font='20px -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif, PingFang SC',n.lineWidth=10,n.strokeRect(75,140,150,110),n.fillRect(130,190,40,60),n.beginPath(),n.moveTo(50,140),n.lineTo(150,60),n.lineTo(250,140),n.closePath(),n.stroke();const i=Ve({x:75,y:140},250,0);n.clearRect(i.x,i.y,150,110),n.fillText("this is a house",80,300)}),[]),s.exports.jsx("div",{className:"border",children:s.exports.jsx("canvas",{ref:e,style:{width:600,height:600}})})}},{path:"notice",component:()=>{o.exports.useEffect((()=>{et()}),[]);return s.exports.jsx("div",{children:s.exports.jsx("button",{onClick:()=>{(async(e,t)=>{await et(),"granted"===Qe&&new Notification(e,{dir:"ltr",body:t})})("通知标题","通知描述")},children:"点击发送通知"})})}},{path:"icons",component:()=>s.exports.jsxs("div",{className:"text-gray-900 text-xl flex",children:[s.exports.jsx(v,{className:"mr-2"}),Object.keys(Ke).map((e=>{const t=Ke[e];return s.exports.jsx(t,{className:"mr-2"},e)}))]})},{path:"scrollbar",component:()=>s.exports.jsxs("div",{children:[s.exports.jsx("h1",{className:"mt-4",children:"系统滚动条"}),s.exports.jsx("div",{className:"h-[200px] mt-4 border overflow-auto scrollbar-optimise",children:s.exports.jsx(tt,{})}),s.exports.jsx("h1",{className:"mt-4",children:"自定义滚动条(firefox 和 webkit内核浏览器支持)"}),s.exports.jsx(rt,{className:"mt-4",children:s.exports.jsx("div",{className:"h-[200px] border overflow-auto scrollbar-hidden",children:s.exports.jsx(tt,{})})}),s.exports.jsx("h1",{className:"mt-4",children:"hover 显示滚动条"}),s.exports.jsx("div",{className:"h-[200px] border mt-4 overflow-auto scroll-hover-visible",children:s.exports.jsx(tt,{})})]})},{path:"selector",component:()=>{const e=o.exports.useRef(null),t=o.exports.useRef(new Map),r=o.exports.useRef({x:0,y:0,scrollTop:0}),n=1e5;return s.exports.jsx("div",{className:"w-full h-full overflow-auto",ref:e,children:s.exports.jsx("div",{onMouseDown:o=>{o.preventDefault();const n=e.current;if(!n)return;t.current=new Map,r.current={x:o.clientX,y:o.clientY,scrollTop:n.scrollTop};let i={x:o.clientX,y:o.clientY},s=!1;const a=document.createElement("div");a.style.position="fixed",a.style.background="rgba(0, 250, 0, 0.3)";const l=()=>{var e;const r=null===(e=n.firstElementChild)||void 0===e?void 0:e.getBoundingClientRect();if(!r)return;const o=n.querySelectorAll(".sub-node");for(const n of o){const e=n.dataset.uuid;if(!e)continue;if(t.current.has(e))continue;const o=n.getBoundingClientRect(),i={left:o.left,width:o.width,height:o.height,offsetTop:o.top-r.top,node:n};t.current.set(e,i)}const i={left:parseInt(a.style.left),top:parseInt(a.style.top),width:parseInt(a.style.width),height:parseInt(a.style.height)},s=new Set;for(const[n,a]of t.current){const e={...a,top:a.offsetTop+r.top};ae(e,i)>0&&s.add(n)}for(const t of o){const e=t.dataset.uuid;e&&(s.has(e)?t.classList.add("selected-node"):t.classList.contains("selected-node")&&t.classList.remove("selected-node"))}},c=m((e=>{s||(s=!0,document.body.appendChild(a)),a.style.width=`${Math.max(Math.abs(e.clientX-r.current.x),1)}px`,a.style.left=`${Math.min(e.clientX,r.current.x)}px`;const t=n.scrollTop-r.current.scrollTop,o=r.current.y-t;a.style.top=`${Math.min(e.clientY,o)}px`,a.style.height=`${Math.abs(e.clientY-o)}px`,G({y:e.clientY,container:n}),i={x:e.clientX,y:e.clientY},l()}),60),d=()=>{n.removeEventListener("scroll",b),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",d),cancelAnimationFrame(U),a.remove()},b=()=>{if(!s)return;const e=n.scrollTop-r.current.scrollTop,t=r.current.y-e;a.style.top=`${Math.min(i.y,t)}px`,a.style.height=`${Math.abs(i.y-t)}px`,l()};n.addEventListener("scroll",b),document.addEventListener("mousemove",c),document.addEventListener("mouseup",d)},className:"border border-gray-200",style:{height:n},children:new Array(Math.floor(2500)).fill(1).map(((e,t)=>s.exports.jsx("div",{className:"border-b border-gray-200 sub-node",style:{height:40},"data-uuid":t+1,children:t+1},t)))})})}},{path:"history",component:()=>{const e=o.exports.useRef(null),[t,r]=o.exports.useState("hello world");return s.exports.jsxs("div",{children:[s.exports.jsx("h4",{children:" Type some characters and hit Undo "}),s.exports.jsx("input",{value:t,ref:e,onChange:()=>{e.current&&(Je.push(t),r(e.current.value))}}),s.exports.jsx("button",{onClick:()=>{if(!e.current)return;const t=Je.pop();r(t||e.current.value)},children:"Undo"})]})}},{path:"calender",component:()=>{const[e,t]=o.exports.useState("SINGLE"),[r,n]=o.exports.useState("SINGLE"===e?Ze():We()),i=o.exports.useRef([]),a=o.exports.useRef([]),l=o.exports.useRef(null),c=o.exports.useRef(null),[b,p]=o.exports.useState([{id:d(),title:1,startTime:ie(Date.now())+2592e5,endTime:ie(Date.now())+3456e5},{id:d(),title:2,startTime:ie(Date.now())+432e6,endTime:ie(Date.now())+5184e5}]),h=o.exports.useMemo((()=>({container:l,showType:e,setShowType:t,calenderDates:r,setCalenderDates:n,calenderDatesRef:i,calenderHeader:c})),[e,r]),u=o.exports.useMemo((()=>({todoList:b,setTodoList:p,todoListRef:a})),[b,p,a]);return a.current=b,i.current=r,s.exports.jsx(Fe.Provider,{value:h,children:s.exports.jsx(He.Provider,{value:u,children:s.exports.jsx(Be,{})})})}},{path:"visualList",component:()=>{const[e,t]=o.exports.useState(!0),[r,n]=o.exports.useState("array");return s.exports.jsxs("div",{children:[s.exports.jsxs("div",{className:"mb-5",children:[s.exports.jsx("button",{className:K("mr-2",e&&"bg-gray-200"),onClick:()=>t(!0),children:"固定行高"}),s.exports.jsx("button",{className:K("mr-2",!e&&"array"===r&&"bg-gray-200"),onClick:()=>{t(!1),n("array")},children:"动态行高 Array"}),s.exports.jsx("button",{className:K(!e&&"object"===r&&"bg-gray-200"),onClick:()=>{t(!1),n("object")},children:"动态行高 Object"})]}),e?s.exports.jsx(jt,{}):"array"===r?s.exports.jsx(yt,{}):s.exports.jsx(vt,{})]})}},{path:"gesture",component:()=>{const e=o.exports.useRef(null),t=o.exports.useRef(null),[r,n]=o.exports.useState(200),i=w((({offset:[t]})=>{e.current&&(e.current.style.width=`${y(t,100,600)}px`)}),{from:r});return s.exports.jsx("div",{className:"relative border inline-flex h-[calc(100%-100px)] my-2",style:{width:r},ref:e,children:s.exports.jsx("div",{...i(),ref:t,className:"w-2 bg-black absolute h-[calc(100%-20px)] top-2.5 -right-1"})})}},{path:"lodash",component:()=>(o.exports.useEffect((()=>{[0,-0,1/0,NaN,"",!1,null,void 0].forEach(((e,t)=>{console.log(e,t),e&&console.log("真值",e)}))})),s.exports.jsx("div",{}))},{path:"react",component:()=>s.exports.jsx("div",{children:s.exports.jsx(Lt,{})})}],Yt=({setFileUrl:e})=>{const[t,r]=o.exports.useState([]);o.exports.useEffect((()=>{r(["mongo.md","other.md","regexp.md","responsive.md","serverless.md","swaggeer.md",{dir:"test",files:["test.md"]},"todo.md","vercel.md","免密登录.md"])}),[]);const n=(t,r=1,o="")=>s.exports.jsx("div",{className:"flex flex-col",style:{paddingLeft:20*(r-1)},children:t.map((t=>{if("string"==typeof t){const r=t.split(".md")[0],n=o+"/"+t;return s.exports.jsx(N,{className:"h-7 p-2 flex items-center rounded",to:`/note${n.replace(".md","")}`,activeClassName:"bg-[#37352f14]",onClick:()=>e(n),children:r},t)}return s.exports.jsxs("div",{className:"p-2",children:[s.exports.jsx("span",{className:"h-7 flex items-center rounded",children:t.dir}),n(t.files,r+1,o+"/"+t.dir)]},t.dir)}))},o);return s.exports.jsx("div",{className:"w-[120px] min-w-[120px] border-r text-md p-2 text-sm",children:n(t)})};const At=()=>{const[e,t]=o.exports.useState(""),r=location.pathname.split("/note/"),n=r[r.length-1],[i,a]=o.exports.useState(n?`/${n}.md`:"");o.exports.useEffect((()=>{i&&$t("/docs"+i).then((e=>t(e)))}),[i]);return s.exports.jsxs("div",{className:"flex h-screen",children:[s.exports.jsx(Yt,{setFileUrl:a}),s.exports.jsx("div",{className:"overflow-auto markdown-body flex-1 flex justify-center",children:s.exports.jsx(z,{className:"max-w-[894px] px-5 h-max py-10",remarkPlugins:[I,[F,{heading:"目录"}]],rehypePlugins:[H,Y,A,[$,{properties:{class:"anchor",tabIndex:-1},content:{type:"element",tagName:"span",properties:{className:["octicon","octicon-link"]},children:[]}}]],components:{pre:({children:e})=>s.exports.jsx("div",{className:"overflow-auto",children:s.exports.jsx("pre",{children:e})})},children:e})})]})},$t=async e=>(await Tt("/jschardet.js"),fetch(e).then((e=>e.blob())).then((async e=>{const t=await(e=>new Promise(((t,r)=>{const o=new FileReader;o.readAsDataURL(e),o.onload=()=>{var n;const i=o.result;if("string"!=typeof i)return void r();const s=atob(null!==(n=i.split(";base64,")[1])&&void 0!==n?n:""),{encoding:a}=window.jschardet.detect(s),l=new FileReader;l.readAsText(e,a),l.onload=()=>{"string"!=typeof l.result?r():t(l.result)}}})))(e);return t}))),Bt=B({loader:()=>(()=>r.import("./index-legacy.cb501da1.js"))(),loading:()=>s.exports.jsx("div",{children:"loading"})}),Pt=()=>{const[e,t]=o.exports.useState(ie(Date.now()));return o.exports.useEffect((()=>{setInterval((()=>{e!==ie(Date.now())&&t(ie(Date.now()))}),18e5)}),[e]),s.exports.jsx(ce.Provider,{value:e,children:s.exports.jsxs(T,{children:[s.exports.jsx(R,{path:"/swagger",component:Bt}),s.exports.jsx(R,{path:"/note",component:At}),s.exports.jsx(R,{path:"/",component:Ft})]})})};const Xt=()=>(o.exports.useEffect((()=>{new PerformanceObserver((e=>{for(const t of e.getEntries())console.groupCollapsed(t.name),console.log("entryType",t.entryType),console.log("startTime",t.startTime),console.log("duration",t.duration),console.groupEnd()})).observe({entryTypes:["navigation","resource","mark","measure","paint"]})}),[]),o.exports.useEffect((()=>()=>W.destroy())),s.exports.jsx(X.StrictMode,{children:s.exports.jsx(_,{children:s.exports.jsx(T,{children:s.exports.jsx(R,{path:"/",component:Pt})})})}));P.render(s.exports.jsx(Xt,{}),document.getElementById("root"))}}}))}();
