var Ct=Object.defineProperty,Dt=Object.defineProperties;var Et=Object.getOwnPropertyDescriptors;var ge=Object.getOwnPropertySymbols;var Ye=Object.prototype.hasOwnProperty,We=Object.prototype.propertyIsEnumerable;var Ne=(e,t,n)=>t in e?Ct(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,H=(e,t)=>{for(var n in t||(t={}))Ye.call(t,n)&&Ne(e,n,t[n]);if(ge)for(var n of ge(t))We.call(t,n)&&Ne(e,n,t[n]);return e},O=(e,t)=>Dt(e,Et(t));var K=(e,t)=>{var n={};for(var r in e)Ye.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ge)for(var r of ge(e))t.indexOf(r)<0&&We.call(e,r)&&(n[r]=e[r]);return n};var G=(e,t,n)=>(Ne(e,typeof t!="symbol"?t+"":t,n),n);import{r as l,l as Rt,c as Tt,j as o,M as st,a as ot,i as ne,v as F,B as Mt,d as Be,b as St,e as Lt,f as jt,t as pe,g as Nt,s as ze,u as It,h as xe,F as kt,k as Ft,m as Ie,n as At,o as ct,A as Bt,_ as Pt,p as Ht,L as _t,S as $e,R as ue,N as $t,q as Ot,w as Yt,x as Wt,y as zt,z as Xt,C as Vt,D as Ut,E as qt,G as Zt,H as Gt,I as Jt}from"./vendor.430a9dc8.js";function es(){import("data:text/javascript,")}const Kt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerpolicy&&(c.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?c.credentials="include":s.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}};Kt();function Qt(e){for(let t=0;t<Math.floor(e.length/2);t++){const n=e[t];e[t]=e[e.length-1-t],e[e.length-t-1]=n}return e}function en(e,t,n){const r=e[t];return e[t]=e[n],e[n]=r,e}function tn(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function nn(e){if(e.length===0)return 0;let t=0;for(let n=0;n<e.length;n++)e[t]!==e[n]&&(t++,e[t]=e[n]);return t+1}var rt;window.fn=O(H({},(rt=window.fn)!=null?rt:{}),{arrayMove:tn,arraySwap:en,revert:Qt,removeRepeat:nn});const Xe=7*24*60*60*1e3,Ve=10*60*1e3;class rn{constructor(t=["auth"]){G(this,"cache");G(this,"remainKeys");G(this,"clearLength",10);G(this,"timer");G(this,"liveTime",Xe);G(this,"checkIntervalTime",Ve);G(this,"save",(t,n)=>{try{localStorage.setItem(t,n),this.cache.add(t)}catch{this.isExceedSize()?(console.groupCollapsed("%c\u6570\u636E\u592A\u5927\uFF01\u8D85\u51FA\u5B58\u50A8\u4E0A\u9650\uFF01","color: red;"),console.log(JSON.parse(n)),console.groupEnd()):(this.removeSomeKeys(),this.save(t,n))}});G(this,"checkCacheValidity",()=>{console.groupCollapsed("%c \u6E05\u9664\u8FC7\u671F\u6570\u636E","color: blue;");for(const t of this.cache){if(this.remainKeys.has(t))continue;const n=localStorage.getItem(t);if(!!n)try{const r=JSON.parse(n);if(Object.prototype.toString.call(r)!=="[object Object]")continue;Date.now()>r.expires&&(console.log(t),this.remove(t))}catch{}}console.groupEnd(),this.timer=setTimeout(this.checkCacheValidity,this.checkIntervalTime)});this.remainKeys=new Set(t),this.cache=new Set(Object.keys(localStorage)),this.checkCacheValidity()}setItem(t,n){try{typeof n=="object"&&(n==null?void 0:n.expires)?n=JSON.stringify(n):n=JSON.stringify({data:n,expires:Date.now()+this.liveTime})}catch{throw new Error("\u53C2\u6570\u9519\u8BEF\uFF01")}this.save(t,n)}getItem(t){let n;if(n=localStorage.getItem(t),this.updateKeyPos(t),!n)return n;try{n=JSON.parse(n)}catch{n==="undefined"&&(n=void 0)}return typeof n=="object"&&n!==null?n.data:n}isExceedSize(){if(this.cache.size>this.remainKeys.size)return!1;for(const t of this.cache)if(!this.remainKeys.has(t))return!1;return!0}removeSomeKeys(){console.groupCollapsed("%c\u7A7A\u95F4\u4E0D\u591F\u5220\u9664\u4E0D\u5E38\u7528\u6570\u636E","color: green;");let t=0;for(const n of this.cache)if(!this.remainKeys.has(n)&&(console.log(n),this.remove(n),t++,t>=this.clearLength))break;console.groupEnd()}updateKeyPos(t){this.cache.delete(t),this.cache.add(t)}setLiveTime(t){this.liveTime=t}setCheckIntervalTime(t){this.checkIntervalTime=t,this.timer&&clearTimeout(this.timer),this.timer=setTimeout(this.checkCacheValidity,this.checkIntervalTime)}resetTime(){this.liveTime=Xe,this.checkIntervalTime=Ve,this.timer&&clearTimeout(this.timer),this.timer=setTimeout(this.checkCacheValidity,this.checkIntervalTime)}destroy(){this.clear(),this.timer&&clearTimeout(this.timer)}remove(t){this.cache.delete(t),localStorage.removeItem(t)}clear(){this.cache.clear(),localStorage.clear()}}const U=new rn(["bigData","expires","exceedSize","dataType"]),sn=()=>(l.exports.useEffect(()=>{const e=n=>{for(const r of n.getEntries())console.groupCollapsed(r.name),console.log("entryType",r.entryType),console.log("startTime",r.startTime),console.log("duration",r.duration),console.groupEnd()};new PerformanceObserver(e).observe({entryTypes:["navigation","resource","mark","measure","paint"]})},[]),null),on="modulepreload",Ue={},cn="/",ln=function(t,n){return!n||n.length===0?t():Promise.all(n.map(r=>{if(r=`${cn}${r}`,r in Ue)return;Ue[r]=!0;const s=r.endsWith(".css"),c=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${c}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":on,s||(a.as="script",a.crossOrigin=""),a.href=r,document.head.appendChild(a),s)return new Promise((i,u)=>{a.addEventListener("load",i),a.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())},it=100;let le,te;const qe=(e,t,n=it)=>{const r=t.getBoundingClientRect(),s=()=>{if(e-r.left<n){const a=(n-(e-r.left))/10;t.scrollLeft-=a,le=requestAnimationFrame(s)}if(r.right-e<n){const a=(n-(r.right-e))/10;t.scrollLeft+=a,le=requestAnimationFrame(s)}};cancelAnimationFrame(le),le=requestAnimationFrame(s)},De=({y:e,container:t,threshold:n=it,offset:r})=>{var u,h;const s=t.getBoundingClientRect(),c=n+((u=r==null?void 0:r.top)!=null?u:0),a=n+((h=r==null?void 0:r.bottom)!=null?h:0),i=()=>{if(e-s.top<c){const f=(c-(e-s.top))/10;t.scrollTop-=f,te=requestAnimationFrame(i)}if(s.bottom-e<a){const f=(n-(s.bottom-e))/10;t.scrollTop+=f,te=requestAnimationFrame(i)}};cancelAnimationFrame(te),te=requestAnimationFrame(i)},an={lunarInfo:[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,92821,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,41680,53584,62034,54560],solarMonth:[31,28,31,30,31,30,31,31,30,31,30,31],Gan:["\u7532","\u4E59","\u4E19","\u4E01","\u620A","\u5DF1","\u5E9A","\u8F9B","\u58EC","\u7678"],Zhi:["\u5B50","\u4E11","\u5BC5","\u536F","\u8FB0","\u5DF3","\u5348","\u672A","\u7533","\u9149","\u620C","\u4EA5"],Animals:["\u9F20","\u725B","\u864E","\u5154","\u9F99","\u86C7","\u9A6C","\u7F8A","\u7334","\u9E21","\u72D7","\u732A"],festival:{"1-1":{title:"\u5143\u65E6\u8282"},"2-14":{title:"\u60C5\u4EBA\u8282"},"5-1":{title:"\u52B3\u52A8\u8282"},"5-4":{title:"\u9752\u5E74\u8282"},"6-1":{title:"\u513F\u7AE5\u8282"},"9-10":{title:"\u6559\u5E08\u8282"},"10-1":{title:"\u56FD\u5E86\u8282"},"12-25":{title:"\u5723\u8BDE\u8282"},"3-8":{title:"\u5987\u5973\u8282"},"3-12":{title:"\u690D\u6811\u8282"},"4-1":{title:"\u611A\u4EBA\u8282"},"5-12":{title:"\u62A4\u58EB\u8282"},"7-1":{title:"\u5EFA\u515A\u8282"},"8-1":{title:"\u5EFA\u519B\u8282"},"12-24":{title:"\u5E73\u5B89\u591C"}},lFestival:{"12-30":{title:"\u9664\u5915"},"1-1":{title:"\u6625\u8282"},"1-15":{title:"\u5143\u5BB5\u8282"},"2-2":{title:"\u9F99\u62AC\u5934"},"5-5":{title:"\u7AEF\u5348\u8282"},"7-7":{title:"\u4E03\u5915\u8282"},"7-15":{title:"\u4E2D\u5143\u8282"},"8-15":{title:"\u4E2D\u79CB\u8282"},"9-9":{title:"\u91CD\u9633\u8282"},"10-1":{title:"\u5BD2\u8863\u8282"},"10-15":{title:"\u4E0B\u5143\u8282"},"12-8":{title:"\u814A\u516B\u8282"},"12-23":{title:"\u5317\u65B9\u5C0F\u5E74"},"12-24":{title:"\u5357\u65B9\u5C0F\u5E74"}},getFestival(){return this.festival},getLunarFestival(){return this.lFestival},setFestival(e={}){this.festival=e},setLunarFestival(e={}){this.lFestival=e},solarTerm:["\u5C0F\u5BD2","\u5927\u5BD2","\u7ACB\u6625","\u96E8\u6C34","\u60CA\u86F0","\u6625\u5206","\u6E05\u660E","\u8C37\u96E8","\u7ACB\u590F","\u5C0F\u6EE1","\u8292\u79CD","\u590F\u81F3","\u5C0F\u6691","\u5927\u6691","\u7ACB\u79CB","\u5904\u6691","\u767D\u9732","\u79CB\u5206","\u5BD2\u9732","\u971C\u964D","\u7ACB\u51AC","\u5C0F\u96EA","\u5927\u96EA","\u51AC\u81F3"],sTermInfo:["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],nStr1:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341"],nStr2:["\u521D","\u5341","\u5EFF","\u5345"],nStr3:["\u6B63","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u51AC","\u814A"],lYearDays:function(e){let t,n=348;for(t=32768;t>8;t>>=1)n+=this.lunarInfo[e-1900]&t?1:0;return n+this.leapDays(e)},leapMonth:function(e){return this.lunarInfo[e-1900]&15},leapDays:function(e){return this.leapMonth(e)?this.lunarInfo[e-1900]&65536?30:29:0},monthDays:function(e,t){return t>12||t<1?-1:this.lunarInfo[e-1900]&65536>>t?30:29},solarDays:function(e,t){if(t>12||t<1)return-1;const n=t-1;return n===1?e%4===0&&e%100!==0||e%400===0?29:28:this.solarMonth[n]},toGanZhiYear:function(e){var t=(e-3)%10,n=(e-3)%12;return t===0&&(t=10),n===0&&(n=12),this.Gan[t-1]+this.Zhi[n-1]},toAstro:function(e,t){const n="\u9B54\u7FAF\u6C34\u74F6\u53CC\u9C7C\u767D\u7F8A\u91D1\u725B\u53CC\u5B50\u5DE8\u87F9\u72EE\u5B50\u5904\u5973\u5929\u79E4\u5929\u874E\u5C04\u624B\u9B54\u7FAF",r=[20,19,21,21,21,22,23,23,23,23,22,22];return n.substr(e*2-(t<r[e-1]?2:0),2)+"\u5EA7"},toGanZhi:function(e){return this.Gan[e%10]+this.Zhi[e%12]},getTerm:function(e,t){if(e<1900||e>2100||t<1||t>24)return-1;const n=this.sTermInfo[e-1900],r=[];for(let s=0;s<n.length;s+=5){const c=parseInt("0x"+n.substr(s,5)).toString();r.push(c[0],c.substr(1,2),c[3],c.substr(4,2))}return parseInt(r[t-1])},toChinaMonth:function(e){if(e>12||e<1)return-1;let t=this.nStr3[e-1];return t+="\u6708",t},toChinaDay:function(e){let t;switch(e){case 10:t="\u521D\u5341";break;case 20:t="\u4E8C\u5341";break;case 30:t="\u4E09\u5341";break;default:t=this.nStr2[Math.floor(e/10)],t+=this.nStr1[e%10]}return t},getAnimal:function(e){return this.Animals[(e-4)%12]},solar2lunar:function(e,t,n){let r=parseInt(e),s=parseInt(t),c=parseInt(n);if(r<1900||r>2100||r===1900&&s===1&&c<31)return-1;let a;r?a=new Date(r,parseInt(s)-1,c):a=new Date;let i,u=0,h=0;r=a.getFullYear(),s=a.getMonth()+1,c=a.getDate();let d=(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())-Date.UTC(1900,0,31))/864e5;for(i=1900;i<2101&&d>0;i++)h=this.lYearDays(i),d-=h;d<0&&(d+=h,i--);let f=new Date,m=!1;f.getFullYear()===r&&f.getMonth()+1===s&&f.getDate()===c&&(m=!0);let v=a.getDay(),y=this.nStr1[v];v===0&&(v=7);const w=i;u=this.leapMonth(i);let b=!1;for(i=1;i<13&&d>0;i++)u>0&&i===u+1&&b===!1?(--i,b=!0,h=this.leapDays(w)):h=this.monthDays(w,i),b===!0&&i===u+1&&(b=!1),d-=h;d===0&&u>0&&i===u+1&&(b?b=!1:(b=!0,--i)),d<0&&(d+=h,--i);const p=i,x=d+1,C=s-1,E=this.toGanZhiYear(w),R=this.getTerm(r,s*2-1),g=this.getTerm(r,s*2);let D=this.toGanZhi((r-1900)*12+s+11);c>=R&&(D=this.toGanZhi((r-1900)*12+s+12));let T=!1,M=null;R===c&&(T=!0,M=this.solarTerm[s*2-2]),g===c&&(T=!0,M=this.solarTerm[s*2-1]);const S=Date.UTC(r,C,1,0,0,0,0)/864e5+25567+10,A=this.toGanZhi(S+c-1),_=this.toAstro(s,c),$=r+"-"+s+"-"+c,Y=w+"-"+p+"-"+x,k=this.festival,B=this.lFestival,j=s+"-"+c;let N=p+"-"+x;return p===12&&x===29&&this.monthDays(w,p)===29&&(N="12-30"),{date:$,lunarDate:Y,festival:k[j]?k[j].title:null,lunarFestival:B[N]?B[N].title:null,lYear:w,lMonth:p,lDay:x,Animal:this.getAnimal(w),IMonthCn:(b?"\u95F0":"")+this.toChinaMonth(p),IDayCn:this.toChinaDay(x),cYear:r,cMonth:s,cDay:c,gzYear:E,gzMonth:D,gzDay:A,isToday:m,isLeap:b,nWeek:v,ncWeek:"\u661F\u671F"+y,isTerm:T,Term:M,astro:_}},lunar2solar:function(e,t,n,r){e=parseInt(e),t=parseInt(t),n=parseInt(n),r=!!r;const s=this.leapMonth(e);if(this.leapDays(e),r&&s!==t||e===2100&&t===12&&n>1||e===1900&&t===1&&n<31)return-1;const c=this.monthDays(e,t);let a=c;if(r&&(a=this.leapDays(e,t)),e<1900||e>2100||n>a)return-1;let i=0,u;for(u=1900;u<e;u++)i+=this.lYearDays(u);let h=0,d=!1;for(u=1;u<t;u++)h=this.leapMonth(e),d||h<=u&&h>0&&(i+=this.leapDays(e),d=!0),i+=this.monthDays(e,u);r&&(i+=c);const f=Date.UTC(1900,1,30,0,0,0),m=new Date((i+n-31)*864e5+f),v=m.getUTCFullYear(),y=m.getUTCMonth()+1,w=m.getUTCDate();return this.solar2lunar(v,y,w)}},W=(...e)=>Rt.overrideTailwindClasses(Tt(e)),un="\u4E00\u6708_\u4E8C\u6708_\u4E09\u6708_\u56DB\u6708_\u4E94\u6708_\u516D\u6708_\u4E03\u6708_\u516B\u6708_\u4E5D\u6708_\u5341\u6708_\u5341\u4E00\u6708_\u5341\u4E8C\u6708".split("_"),ke=24*60*60*1e3;var Pe=(e=>(e.PREV="prev",e.NEXT="next",e))(Pe||{}),q=(e=>(e.MONTH="month",e.YEAR="year",e))(q||{});const Ee=({base:e=Date.now(),dir:t="next",length:n=100,includeBase:r=!1,showType:s="month"})=>{const c=[],a=t==="next";let i=P(e),u=ke;if(s==="year"){const d=new Date(i).getDay()||7;i=i+(7-d)*ke,u=ke*7}const h=r?n:n+1;for(let d=0;d<h;d++)if(!(!r&&d===0))if(a){const f=i+d*u;c.push(f)}else{const f=i-d*u;c.unshift(f)}return c},de=({showType:e,length:t,base:n})=>[...Ee({base:n,dir:"prev",showType:e,length:t}),...Ee({base:n,dir:"next",showType:e,length:t,includeBase:!0})],P=e=>new Date(new Date(e).toDateString()).getTime(),He=e=>{const t=new Date(e);return{year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate(),day:t.getDay()+1,monthDesc:un[t.getMonth()],time:e}},dn=e=>e===P(Date.now()),Re=(e,t)=>{const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),c=Math.min(t.top+t.height,e.top+e.height),a=s-r,i=c-n;if(r<s&&n<c){const u=t.width*t.height,d=a*i/u;return Number(d.toFixed(4))}return 0},fn=e=>({x:e.left+e.width*.5,y:e.top+e.height*.5});function hn(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}const Ze=e=>String((e*100).toFixed(2)).concat("%"),lt=l.exports.createContext(P(Date.now())),pn=()=>l.exports.useContext(lt),Ge="YYYY/MM/DD",Se="NewRecordPlaceholderId",xn=typeof navigator!="undefined"&&/iPhone/i.test(navigator.userAgent),I=24*60*60*1e3,L=40,ie=40,Je=300,at=l.exports.createContext(void 0),Le=()=>{const e=l.exports.useContext(at);if(!e)throw new Error("RecordDataContext \u4E0D\u5B58\u5728");return e},ut=l.exports.createContext(void 0),re=()=>{const e=l.exports.useContext(ut);if(!e)throw new Error("useBitable");return e},bn=()=>{const[e,t]=l.exports.useState(q.MONTH),[n,r]=l.exports.useState(de({showType:e})),s=l.exports.useRef(null),c=l.exports.useRef(null),a=l.exports.useRef(),i=l.exports.useRef(100),u=l.exports.useRef(n),h=l.exports.useRef(),d=l.exports.useRef(null),f=l.exports.useRef(null),m=l.exports.useRef(null),v=l.exports.useRef(null),[y,w]=l.exports.useState(new Array(10).fill(1).map((x,C)=>({id:String(C+1),recordStartTime:P(Date.now())+I,recordEndTime:P(Date.now())+I*10}))),b=l.exports.useMemo(()=>({showType:e,setShowType:t,timelineDatesRef:u,dateStepLength:i,timelineDates:n,setTimelineDates:r,container:s,scrollContainer:c,containerScrollLeft:a,datesContainer:d,timelineHeader:f,monthContainer:m,listRef:v,draggingRecordId:h}),[e,n]),p=l.exports.useMemo(()=>({records:y,setRecords:w}),[y]);return u.current=n,o.exports.jsx(ut.Provider,{value:b,children:o.exports.jsx(at.Provider,{value:p,children:o.exports.jsx(mn,{})})})},mn=()=>{var y;const{showType:e,timelineDates:t,setTimelineDates:n,container:r,scrollContainer:s,datesContainer:c,timelineHeader:a,monthContainer:i,containerScrollLeft:u,listRef:h,dateStepLength:d}=re(),{records:f}=Le(),[m,v]=l.exports.useState([0,Math.min(window.innerHeight/ie,f.length)]);return l.exports.useLayoutEffect(()=>{!r.current||(r.current.scrollLeft=L*d.current-r.current.clientWidth/2)},[r,d]),l.exports.useLayoutEffect(()=>{!r.current||!u.current||(r.current.scrollLeft=u.current,u.current=void 0)},[t,r,u]),l.exports.useEffect(()=>{!r.current||r.current.scrollWidth<r.current.clientWidth*2&&(d.current=Math.ceil(r.current.clientWidth*2/L),n(de({showType:e,length:d.current})),u.current=L*d.current-r.current.clientWidth/2)},[(y=r.current)==null?void 0:y.clientWidth]),l.exports.useEffect(()=>{if(!r.current||!c.current)return;const w=r.current,b=()=>{typeof u.current!="undefined"||!r.current||(w.scrollWidth-w.scrollLeft-w.clientWidth<Je&&(u.current=r.current.scrollLeft-d.current*L,n(x=>{const C=Nt(x),E=Ee({showType:e,base:C,length:d.current,dir:Pe.NEXT});return[...x.slice(d.current),...E]})),w.scrollLeft<Je&&(u.current=r.current.scrollLeft+d.current*L,n(x=>{const C=x[0];return[...Ee({showType:e,base:C,length:d.current,dir:Pe.PREV}),...x.slice(0,x.length-d.current)]})))},p=xn?jt(b):pe(b,60);return w.addEventListener("scroll",p),()=>w.removeEventListener("scroll",p)},[r,u,d,c,n,e]),l.exports.useEffect(()=>{const w=r.current,b=c.current,p=a.current,x=i.current,C=s.current;if(!w||!b||!p||!x||!C)return;const E=()=>{const R=w.getBoundingClientRect(),g=C.getBoundingClientRect(),D=Math.abs(g.top-R.top);D>0?(p.style.transform=`translate3d(0,${Math.round(D)}px,0)`,x.style.transform=`translate3d(0,${Math.round(D)}px,0)`,b.style.transform=`translate3d(0,${Math.round(D)}px,0)`):(p.style.transform="none",x.style.transform="none",b.style.transform="none")};return C.addEventListener("scroll",E),window.addEventListener("resize",E),()=>{C.removeEventListener("scroll",E),window.removeEventListener("resize",E)}},[r,c,i,s,a]),l.exports.useEffect(()=>{const w=s.current,b=h.current;if(!w||!b)return;const p=()=>{const x=b.getBoundingClientRect(),C=w.getBoundingClientRect(),E=Math.ceil(w.clientHeight/ie)+10,R=C.top-x.top,g=Math.max(Math.floor(R/ie)-5,0);v([g,g+E])};return p(),w.addEventListener("scroll",p),()=>{w.removeEventListener("scroll",p)}},[h,s]),o.exports.jsxs("div",{className:"relative w-full timeline-page overflow-scroll",style:{height:"calc(100% - 40px)"},ref:s,children:[o.exports.jsx(gn,{ref:a}),o.exports.jsxs("div",{className:"w-full overflow-auto relative pb-[40px]",ref:r,children:[o.exports.jsx(wn,{ref:i}),o.exports.jsx(vn,{}),o.exports.jsx(yn,{}),o.exports.jsxs("div",{className:"record-line-container relative",ref:h,style:{width:t.length*L,height:f.length*ie+ie},children:[f.slice(m[0],m[1]).map((w,b)=>o.exports.jsx(Ke,H({recordIndex:m[0]+b},w),w.id)),o.exports.jsx(Ke,{id:Se,recordIndex:f.length})]})]})]})},gn=l.exports.memo(l.exports.forwardRef((e,t)=>{const{timelineDates:n,container:r,setTimelineDates:s,dateStepLength:c,containerScrollLeft:a,showType:i,setShowType:u}=re(),[h,d]=l.exports.useState();return l.exports.useEffect(()=>{const f=r.current;if(!f)return;const m=()=>{if(!r.current)return;const v=Math.ceil(r.current.scrollLeft/L),y=n[v-1];y&&d(w=>{const b=new Date(y).setDate(1);return b!==w?b:w})};return m(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)},[r,n]),o.exports.jsxs("div",{className:"absolute left-0 right-0 flex items-center z-50 h-8 top-1",ref:t,children:[o.exports.jsxs("div",{className:"h-full flex",children:[h&&o.exports.jsxs("span",{className:"bg-white h-full inline-flex items-center",children:[He(h).year,"\u5E74",He(h).month,"\u6708"]}),o.exports.jsx("span",{className:"w-10 h-full",style:{backgroundImage:"linear-gradient(to right, white 20%, rgba(255, 255, 255, 0) 100%)"}})]}),o.exports.jsxs("div",{className:"ml-auto flex items-center",children:[o.exports.jsx("span",{className:"w-10 h-8 inline-block",style:{backgroundImage:"linear-gradient(to left, white 20%, rgba(255, 255, 255, 0) 100%)"}}),o.exports.jsxs("div",{className:"bg-white flex items-center",children:[o.exports.jsx("button",{onClick:()=>{!r.current||(u(q.YEAR),s(de({showType:q.YEAR})),a.current=L*c.current-r.current.clientWidth/2)},children:"\u5E74"}),o.exports.jsx("button",{onClick:()=>{!r.current||(u(q.MONTH),s(de({showType:q.MONTH})),a.current=L*c.current-r.current.clientWidth/2)},children:"\u6708"}),o.exports.jsx("button",{onClick:()=>{r.current&&(r.current.scrollLeft-=15*L)},children:o.exports.jsx(st,{className:"w-5 h-5"})}),o.exports.jsx("button",{className:"bg-white px-2 cursor-pointer",onClick:()=>{!r.current||(s(de({showType:i,length:c.current})),a.current=L*c.current-r.current.clientWidth/2)},children:"\u4ECA\u5929"}),o.exports.jsx("button",{onClick:()=>{r.current&&(r.current.scrollLeft+=15*L)},children:o.exports.jsx(ot,{className:"w-5 h-5"})})]})]})]})}),ne),wn=l.exports.memo(l.exports.forwardRef((e,t)=>{const{timelineDates:n,showType:r}=re();return o.exports.jsx("div",{className:"timeline-month relative z-10 h-[38px] bg-white text-t2-medium border-t",style:{width:n.length*L},ref:t,children:n.map((s,c)=>{let a=!1;if(r===q.MONTH)a=new Date(s).getDate()===1;else if(r===q.YEAR){const i=new Date(new Date(s).setDate(1));a=i.getTime()+(7-i.getDay()||7)*I===s}return a?o.exports.jsxs("div",{style:{left:c*L},className:"absolute h-full inline-flex items-center justify-center flex-shrink-0",children:[new Date(s).getMonth()+1,"\u6708"]},s):null})})}),ne),vn=l.exports.memo(()=>{const{timelineDates:e,datesContainer:t,container:n,showType:r}=re(),s=pn(),[c,a]=l.exports.useState([0,Math.max(Math.ceil(window.innerWidth/L),e.length)]);l.exports.useEffect(()=>{const f=n.current,m=t.current;if(!f||!m)return;const v=()=>{const y=f.getBoundingClientRect(),w=m.getBoundingClientRect(),b=Math.ceil(f.clientWidth/L)+10,p=y.left-w.left,x=Math.max(Math.floor(p/L)-5,0);a([x,x+b])};return v(),f.addEventListener("scroll",v),()=>f.removeEventListener("scroll",v)},[t,n]);const i=()=>{const f=e[0],m=r===q.MONTH?I:I*7,v=(s-f)/m;return o.exports.jsxs("div",{className:"w-6 h-6 absolute inline-flex justify-center items-center rounded-full bg-green-400 text-white",style:{left:v*L+8},children:[new Date().getDate(),o.exports.jsx("span",{className:"absolute top-[20px] left-3 h-screen w-[1px] bg-green-400"})]})},u=c[0],h=c[1],d=[s];if(r===q.YEAR){const f=new Date().getDay(),m=s+(7-(f||7))*I,v=s-f*I;d.push(v,m)}return o.exports.jsxs("div",{ref:t,className:"timeline-weekdate relative z-10 h-[38px] py-1.5 bg-white border-b font-medium text-grey4 text-t2-medium",style:{width:e.length*L},children:[e.slice(u,h).map((f,m)=>d.includes(f)?null:o.exports.jsx("div",{className:"w-10 h-6  border inline-flex items-center justify-center absolute",style:{left:(u+m)*L},children:He(f).date},f)),i()]})},ne),yn=l.exports.memo(()=>{const{timelineDates:e,showType:t}=re();if(t===q.MONTH){let n=0;const r=e[0],s=new Date(r).getDay();return s===0?n=-L:s&&(n=(6-s)*L),o.exports.jsx("div",{className:"timeline-weekend absolute top-0 h-full",style:{width:e.length*L,background:`repeating-linear-gradient(90deg, rgb(229,231,235) 0px,rgb(229,231,235) ${L*2}px, transparent ${L*2}px,  transparent ${L*7}px)`,backgroundPositionX:`${n}px`}})}else return o.exports.jsx("div",{className:"timeline-weekend absolute top-0 h-full",style:{width:e.length*L},children:e.map(n=>{const r=new Date(new Date(n).setDate(1));if(r.getTime()+(7-r.getDay()||7)*I===n){const a=e[0],i=I*7,u=(r.getTime()-a)/i;return o.exports.jsx("div",{style:{left:u*L+L/2},className:"absolute h-full bg-gray-400 w-[1px]"},n)}return null})})},ne),Ke=l.exports.memo(e=>{const{id:t,recordEndTime:n,recordStartTime:r,recordIndex:s}=e,{setRecords:c}=Le(),{timelineDates:a,container:i,datesContainer:u,draggingRecordId:h}=re(),d=l.exports.useRef(null),[f,m]=l.exports.useState(),v=5,y=l.exports.useCallback(x=>{if(r&&n||h.current||!i.current)return;const C=i.current.getBoundingClientRect(),E=i.current.scrollLeft+x.clientX-C.x,R=Math.floor(E/L);m(R),ee(i.current),ve(R,v,u.current)},[i,u,h,n,r]),w=l.exports.useCallback(()=>{m(void 0),ee(i.current)},[i]),b=l.exports.useCallback(()=>{if(f){const x=a[f],C=x+(v-1)*I;c(t===Se?E=>E.concat({id:F()}):E=>E.map(R=>R.id===t?{id:t,recordStartTime:x,recordEndTime:C}:R)),m(void 0),ee(i.current)}},[i,t,f,c,a]),p=r&&n;return l.exports.useMemo(()=>o.exports.jsxs("div",{"data-disable-select":!0,"data-record-id":t,onMouseMove:y,onMouseLeave:w,onClick:b,className:W("absolute w-full flex h-10",!p&&"cursor-pointer"),style:{top:s*ie},children:[f&&o.exports.jsx(Dn,{recordId:t,initDateRangeLength:v,movingStartDateIndex:f}),p&&o.exports.jsxs(o.exports.Fragment,{children:[o.exports.jsx(Cn,{recordId:t,card:d}),o.exports.jsx(En,{id:t,recordEndTime:n,recordStartTime:r,card:d})]})]}),[t,y,w,b,p,s,f,n,r])},ne),dt=["left","right"],Cn=l.exports.memo(({recordId:e,card:t})=>{var w;const{records:n}=Le(),{showType:r,setTimelineDates:s,container:c,containerScrollLeft:a,dateStepLength:i}=re(),[u,h]=l.exports.useState({left:!1,right:!1}),d=n.find(b=>b.id===e),f=l.exports.useCallback(()=>{if(!c.current||!t.current)return;const b=t.current.getBoundingClientRect(),p=c.current.getBoundingClientRect();(u.left!==b.left<p.left||u.right!==b.right>p.right)&&h({left:b.left<p.left,right:b.right>p.right})},[t,c,u.left,u.right]);if(l.exports.useEffect(()=>{if(!c.current)return;const b=c.current;return b.addEventListener("scroll",f),()=>b.removeEventListener("scroll",f)},[c,f]),l.exports.useEffect(()=>{f()},[f,(w=c.current)==null?void 0:w.clientWidth]),!d)return null;const{recordStartTime:m,recordEndTime:v}=d;if(!m||!v)return null;const y=b=>{if(!c.current)return;const p=100,x=b==="left";x?a.current=i.current*L-p:a.current=(i.current+1)*L-(c.current.clientWidth-p),s(de({showType:r,base:x?m:v,length:i.current})),h({left:x?!1:u.left,right:x?u.right:!1})};return o.exports.jsx(o.exports.Fragment,{children:dt.map(b=>{if(!c.current)return null;const p=b==="right",x=p?u.right:u.left;return o.exports.jsxs("button",{onClick:()=>y(b),className:"sticky h-full rounded cursor-pointer duration-200 transition-all flex items-center group z-[5]",style:{left:p?c.current.clientWidth-32:0,opacity:x?1:0,transform:x?"scale(1)":"scale(0)"},children:[o.exports.jsx(Mt,{className:W("text-white bg-black/30 rounded",p&&"rotate-180")}),o.exports.jsxs("span",{className:W("absolute px-1 flex items-center text-black bg-white border rounded text-t4 opacity-0 group-hover:opacity-100 pointer-events-none",p?"right-6":"left-6"),children:[Be(m).format(Ge),o.exports.jsx(St,{}),Be(Math.max(m,v)).format(Ge)]})]},b)})})},ne),Dn=({initDateRangeLength:e,movingStartDateIndex:t,recordId:n})=>o.exports.jsxs("div",{className:"absolute h-[34px] top-0.5 bg-green-100 rounded pointer-events-none px-1.5 flex items-center whitespace-nowrap",style:{width:L*e,left:t*L},children:[o.exports.jsx("span",{children:"+"}),o.exports.jsx("span",{className:"text-t2 ml-2",children:n===Se?"\u65B0\u5EFA":"\u65B0\u5EFA\u4E8B\u9879"})]}),En=l.exports.memo(({id:e,recordEndTime:t,recordStartTime:n,card:r})=>{const{showType:s,container:c,datesContainer:a,timelineDates:i,timelineDatesRef:u,draggingRecordId:h,scrollContainer:d}=re(),{setRecords:f}=Le(),[m,v]=l.exports.useState(),[y,w]=l.exports.useState(),b=l.exports.useRef({x:0,y:0});if(l.exports.useLayoutEffect(()=>{if(m&&r.current){const g=getComputedStyle(r.current),D=parseInt(g.getPropertyValue("left"),10),T=parseInt(g.getPropertyValue("width"),10),M=Math.floor(D/L);ee(c.current),ve(M,T/L,a.current)}},[r,c,a,m]),!n||!t)return null;const p=g=>{g.preventDefault(),b.current={x:g.clientX,y:g.clientY};const D=c.current,T=r.current,M=d.current;if(!D||!T||!M)return;const S=getComputedStyle(T),A=parseInt(S.getPropertyValue("width"),10),_=g.currentTarget.getBoundingClientRect(),$=g.clientX-_.left;let Y={x:g.clientX,y:g.clientY},k,B=!1,j,N;const z=V=>{if(Y={x:V.clientX,y:V.clientY},!B){if(Math.abs(V.clientX-b.current.x)<5&&Math.abs(V.clientY-b.current.y)<5)return;B=!0,h.current=e,j=Rn(T)}qe(V.clientX,D),De({y:V.clientY,container:M});const se=D.getBoundingClientRect(),oe=D.scrollLeft+V.clientX-se.x-$,he=Math.round(oe/L);if(k=u.current[he],ee(c.current),ve(he,A/L,a.current),!j)return;j.style.transform=`translate(${V.clientX-b.current.x}px, ${V.clientY-b.current.y}px)`;const Q=D.querySelectorAll(".record-line-container [data-record-id]");N=Qe(j,Q,e)},X=()=>{var V;M.removeEventListener("scroll",Z),document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",X),cancelAnimationFrame(le),cancelAnimationFrame(te),ee(D),j==null||j.remove(),h.current=void 0,N&&((V=N.lastElementChild)==null?void 0:V.classList.contains("indicator"))&&N.lastElementChild.remove(),B&&f(se=>{const oe=se.findIndex(Q=>Q.id===e),he=se.findIndex(Q=>Q.id===(N==null?void 0:N.dataset.recordId)),me=se.map(Q=>Q.id===e?{id:e,recordStartTime:k,recordEndTime:k+(A/L-1)*I}:Q);return Lt(me,oe,he)})},Z=()=>{const V=D.getBoundingClientRect(),se=D.scrollLeft+Y.x-V.x-$,oe=Math.round(se/L);if(k=u.current[oe],ee(c.current),ve(oe,R/L,a.current),!j)return;j.style.transform=`translate(${Y.x-b.current.x}px, ${Y.y-b.current.y}px)`;const me=D.querySelectorAll(".record-line-container [data-record-id]");N=Qe(j,me,e)};M.addEventListener("scroll",Z),document.addEventListener("mousemove",z),document.addEventListener("mouseup",X)},x=(g,D)=>{g.preventDefault(),g.stopPropagation();const T=c.current;if(!T)return;w(D);const M=D==="left";let S,A=g.clientX;const _=B=>{const j=T.getBoundingClientRect(),N=T.scrollLeft+B-j.x,z=M?Math.round(N/L):Math.round(N/L)-1,X=u.current[z];!X||(M&&X<=t||!M&&X>=n)&&(S=X,v(X))},$=B=>{!t||!n||(A=B.clientX,h.current=e,qe(B.clientX,T),_(B.clientX))},Y=()=>{cancelAnimationFrame(le),w(void 0),v(void 0),ee(T),h.current=void 0,S&&(f(B=>B.map(j=>j.id===e?{id:e,recordStartTime:M?S:j.recordStartTime,recordEndTime:M?j.recordEndTime:S}:j)),T.removeEventListener("scroll",k),document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",Y))},k=()=>_(A);T.addEventListener("scroll",k),document.addEventListener("mousemove",$),document.addEventListener("mouseup",Y)},C=s===q.MONTH?L:L/7;let E=0,R=0;return n&&t&&(R=(Math.max(P(t)-P(n),0)/I+1)*C,E=(P(n)-i[0])/I*C,y&&m&&(y==="left"&&m<=t&&(R=(Math.max(P(t)-P(m),0)/I+1)*C,E=i.findIndex(M=>M===m)*C),y==="right"&&m>=n&&(R=(Math.max(P(m)-P(n),0)/I+1)*C))),o.exports.jsx("div",{className:"absolute overflow-hidden left-0 top-0 w-full h-full flex items-center",children:o.exports.jsxs("div",{ref:r,onMouseDown:p,className:"absolute h-[34px] border border-black/10 rounded cursor-pointer flex items-center whitespace-nowrap bg-white",style:{left:E,width:R,boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.06)"},children:[e,dt.map(g=>o.exports.jsxs("div",{className:W("absolute h-full w-[9px] px-[3px] py-1.5 rounded-full group hover:cursor-col-resize z-10",y&&y!==g&&"pointer-events-none",g==="left"?"-left-1":"-right-1"),onMouseDown:D=>x(D,g),children:[o.exports.jsx("span",{className:W("inline-block w-[3px] h-full rounded-full group-hover:bg-black",y===g&&"bg-black")}),y===g&&m&&o.exports.jsx("div",{className:W("absolute top-1.5 bg-white text-black rounded px-1 flex items-center text-t4",g==="left"?"right-3":"left-3"),children:Be(m).format("MM/DD")})]},g))]})})},ne),ve=(e,t,n)=>{if(!n)return;const r=n.children;let s=0;for(;s<t;){const c=["weekdate-hightlight"];s===0&&c.push("weekdate-hightlight-startDate"),s===t-1&&c.push("weekdate-hightlight-endDate");const a=r[e+s];a&&a.classList.add(...c),s++}},ee=e=>{if(!e)return;e.querySelectorAll(".weekdate-hightlight").forEach(n=>n.classList.remove("weekdate-hightlight","weekdate-hightlight-startDate","weekdate-hightlight-endDate"))},Rn=e=>{const t=e.getBoundingClientRect(),n=e.cloneNode(!0);n.style.inset="0";const r=document.createElement("div");return r.style.position="fixed",r.style.width=`${t.width}px`,r.style.height=`${t.height}px`,r.style.top=`${t.top}px`,r.style.left=`${t.left}px`,r.style.opacity="0.5",r.style.zIndex="100",r.appendChild(n),document.body.appendChild(r),r},Qe=(e,t,n)=>{let r,s=0;const c=e.getBoundingClientRect();t.forEach(i=>{var d;if(i.dataset.recordId===Se)return;const u=i.getBoundingClientRect();(d=i.lastElementChild)!=null&&d.classList.contains("indicator")&&i.lastElementChild.remove();const h=Re(c,u);h>s&&(s=h,r=i)});const a=document.createElement("div");return a.classList.add("indicator"),a.style.position="absolute",a.style.zIndex="10",a.style.width="100%",a.style.height="4px",a.style.backgroundColor="rgba(0, 0, 0, 0.3)",r&&r.dataset.recordId!==n&&r.appendChild(a),r};var Tn="/Users/hexiang/insist/training/src/components/calender.tsx";const Mn=["left","right"],ft=l.exports.createContext(void 0),ht=l.exports.createContext(void 0),je=()=>{const e=l.exports.useContext(ft);if(!e)throw new Error("useBitable");return e},Oe=()=>{const e=l.exports.useContext(ht);if(!e)throw new Error("useBitable");return e},Sn=(e,t)=>{const{todoList:n}=Oe(),r=[];n.forEach(({startTime:a,endTime:i,id:u})=>{if(!a||!i)return;const h=a||i,d=i||a;if(!h||!d)return;const f=P(h),m=P(d);if(m<e||f>t)return;const v=f>=e&&f<=t?f:e,y=m>=e&&m<=t?m:t;r.push({id:u,rawStartTime:a,rawEndTime:i,renderStartDate:h,renderEndDate:d,weekStartDate:v,weekEndDate:y,isStartDate:v===f,isEndDate:y===m,order:0})});const s=ze(r,a=>a.weekStartDate),c={};return s.forEach(a=>{var d,f;let i=0;const u=c[a.weekStartDate];u&&(i=Object.entries(ze(u)).findIndex(([m,v])=>Number(m)!==v),i=i===-1?u.length:i);let h=a.weekStartDate;for(;h<=a.weekEndDate;)c[h]=(d=c[h])!=null?d:[],(f=c[h])==null||f.push(i),h+=I;a.order=i}),s},Ln=4,jn=4,Nn=22,pt=36,_e=(e=1)=>Ln*2+Nn*e+jn,In=()=>{const[e,t]=l.exports.useState("SINGLE"),[n,r]=l.exports.useState(e==="SINGLE"?ye():be()),s=l.exports.useRef([]),c=l.exports.useRef([]),a=l.exports.useRef(null),i=l.exports.useRef(null),[u,h]=l.exports.useState([{id:F(),title:1,startTime:P(Date.now())+3*I,endTime:P(Date.now())+4*I},{id:F(),title:2,startTime:P(Date.now())+5*I,endTime:P(Date.now())+6*I}]),d=l.exports.useMemo(()=>({container:a,showType:e,setShowType:t,calenderDates:n,setCalenderDates:r,calenderDatesRef:s,calenderHeader:i}),[e,n]),f=l.exports.useMemo(()=>({todoList:u,setTodoList:h,todoListRef:c}),[u,h,c]);return c.current=u,s.current=n,o.exports.jsx(ft.Provider,{value:d,children:o.exports.jsx(ht.Provider,{value:f,children:o.exports.jsx(kn,{})})})},kn=()=>{const{setTodoList:e}=Oe(),{container:t,calenderDates:n,setCalenderDates:r,showType:s}=je(),c=l.exports.useRef(!1),a=l.exports.useRef(s);a.current=s;const[i,u]=l.exports.useState(P(new Date().setDate(1)));return l.exports.useEffect(()=>{const h=t.current;if(!h)return;const d=()=>{if(a.current==="SINGLE")return;const f=t.current;!f||f.scrollHeight<f.scrollTop+f.clientHeight+200&&!c.current&&(c.current=!0,r(m=>m.concat(be("append",m[m.length-1]+I))))};return h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)},[t,r,s]),l.exports.useEffect(()=>{if(s==="SINGLE")return;c.current=!1;const h=t.current;!h||h.scrollHeight<=h.clientHeight&&r(d=>d.concat(be("append",d[d.length-1]+I)))},[n.length,t,r,s]),o.exports.jsxs("div",{className:"max-h-full w-full mx-auto flex items-center flex-col overflow-auto relative",style:{background:"linear-gradient(90deg, #f5f5f5 14.285714285%, transparent 14.285714285%, transparent 85.714285714%, #f5f5f5 85.714285714%)"},ref:t,children:[o.exports.jsx(Fn,{currentMonth:i,setCurrentMonth:u}),o.exports.jsx("div",{className:"w-full border-l min-w-max",children:n.map((h,d)=>d%7===0?o.exports.jsx(An,{dates:n.slice(d,d+7),setCurrentMonth:u,setTodoList:e},h):null)})]})},Fn=({currentMonth:e,setCurrentMonth:t})=>{const{calenderHeader:n,setCalenderDates:r,container:s,calenderDates:c,showType:a,setShowType:i}=je();l.exports.useEffect(()=>{const d=s.current;!d||_n(e,c,d)},[c,s,e]);const u=d=>{let f=Date.now();if(d==="today")f=new Date().setDate(1);else{const m=new Date(e),v=m.getMonth(),y=d==="pre"?v-1:v+1;f=m.setMonth(y,1)}if(t(f),a==="SINGLE")r(ye(f));else{const m=s.current;if(!m)return;r(be("init",f)),m.scrollTop=0}},h=new Date(e);return o.exports.jsxs("div",{className:"flex flex-col sticky py-2 top-0 border w-full bg-white z-10 justify-between px-2",ref:n,children:[o.exports.jsxs("div",{className:"flex items-center h-8",children:[o.exports.jsx("div",{className:"h-full flex bg-white",children:e&&o.exports.jsxs("span",{className:"h-full inline-flex items-center",children:[h.getFullYear(),"\u5E74",h.getMonth()+1,"\u6708"]})}),o.exports.jsxs("div",{className:"ml-auto bg-white flex items-center",children:[o.exports.jsx("button",{onClick:()=>{const d=Date.now();t(d),i("SINGLE"),console.log(ye(d)),r(ye(d))},className:W(a==="SINGLE"&&"bg-gray-200"),children:"\u5355\u6708"}),o.exports.jsx("button",{onClick:()=>{const d=Date.now();t(d),i("MULTIPLE"),r(be("init",d))},className:W(a==="MULTIPLE"&&"bg-gray-200"),children:"\u591A\u6708"}),o.exports.jsx("button",{onClick:()=>u("pre"),children:o.exports.jsx(st,{className:"w-5 h-5"})}),o.exports.jsx("button",{className:"bg-white px-2 cursor-pointer",onClick:()=>u("today"),children:"\u4ECA\u5929"}),o.exports.jsx("button",{onClick:()=>u("next"),children:o.exports.jsx(ot,{className:"w-5 h-5"})})]})]}),o.exports.jsx("div",{className:"flex mt-2",children:"\u65E5_\u4E00_\u4E8C_\u4E09_\u56DB_\u4E94_\u516D".split("_").map(d=>o.exports.jsxs("div",{className:"flex-1 text-center",children:["\u5468",d]},d))})]})},An=l.exports.memo(({dates:e,setCurrentMonth:t,setTodoList:n})=>{const{container:r,calenderHeader:s,showType:c}=je(),a=l.exports.useRef(null);return l.exports.useEffect(()=>{if(c==="SINGLE")return;const i=r.current;if(!i)return;const u=()=>{var f;if(!a.current||!s.current)return;const h=(f=a.current)==null?void 0:f.getBoundingClientRect(),d=s.current.getBoundingClientRect();d.bottom>h.top&&d.bottom<h.bottom&&t(m=>{const v=e[e.length-1]+I;return v!==m?P(new Date(v).setDate(1)):m})};return i.addEventListener("scroll",u),()=>i.removeEventListener("scroll",u)},[s,r,e,t,c]),o.exports.jsxs("div",{className:"flex w-full relative calender-week min-h-[96px]",ref:a,children:[e.map(i=>o.exports.jsx(Hn,{date:i,setTodoList:n},i)),o.exports.jsx(Bn,{firstDay:e[0],lastDay:e[e.length-1],weekRef:a})]})},ne),Bn=l.exports.memo(({firstDay:e,lastDay:t,weekRef:n})=>{const r=Sn(e,t);return l.exports.useEffect(()=>{const s=n.current;if(!s)return;const c=124;if(r.length===0)s.style.height=`${c}px`;else{const a={};r.forEach(h=>{let d=h.weekStartDate;for(;d<=h.weekEndDate;)a[d]=(a[d]||0)+1,d=d+I});const u=Math.max(...Object.values(a))*_e()+pt;s.style.height=`${Math.max(u,c)}px`}},[r,n]),r.length===0?null:o.exports.jsx(o.exports.Fragment,{children:r.map(s=>l.exports.createElement(Pn,O(H({},s),{weekFirstDay:e,key:s.id,__self:globalThis,__source:{fileName:Tn,lineNumber:470,columnNumber:9}})))})}),Pn=l.exports.memo(({id:e,renderStartDate:t,weekStartDate:n,weekEndDate:r,weekFirstDay:s,isStartDate:c,isEndDate:a,order:i})=>{var b;const{container:u,calenderDatesRef:h}=je(),{todoListRef:d,setTodoList:f}=Oe(),m=l.exports.useRef({x:0,y:0}),v=(p,x)=>{p.preventDefault(),p.stopPropagation();const C=u.current;if(!C)return;const E=x==="left";let R,g={x:p.clientX,y:p.clientY};const D=A=>{g={x:A.clientX,y:A.clientY},De({y:A.clientY,container:C}),S(A.clientX,A.clientY)},T=()=>{C.removeEventListener("scroll",M),document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",T),cancelAnimationFrame(te)},M=()=>S(g.x,g.y),S=(A,_)=>{let $=1/0;if(C.querySelectorAll(".calender-date").forEach((j,N)=>{const z=j.getBoundingClientRect(),X=hn(fn(z),{x:A,y:_});X<$&&($=X,R=N)}),typeof R=="undefined")return;const k=h.current[R],B=d.current.find(j=>j.id===e);!B||(E&&B.startTime!==k||!E&&B.endTime!==k)&&f(j=>j.map(N=>N.id===e&&N.endTime&&N.startTime?O(H({},N),{startTime:E&&k<=N.endTime?k:N.startTime,endTime:!E&&k>=N.startTime?k:N.endTime}):N))};C.addEventListener("scroll",M),document.addEventListener("mousemove",D),document.addEventListener("mouseup",T)},y=p=>{p.preventDefault(),m.current={x:p.clientX,y:p.clientY};const x=u.current;if(!x)return;const C=p.currentTarget,E=C.getBoundingClientRect(),R=E.width/(parseFloat(C.style.width)/100)/7,g=t+Math.floor((p.clientX-E.left)/R)*I;let D=!1,T,M,S={x:p.clientX,y:p.clientY};const A=k=>{S={x:k.clientX,y:k.clientY},!(!D&&Math.abs(k.clientX-m.current.x)<5&&Math.abs(k.clientY-m.current.y)<5)&&(D||(D=!0,T=document.createElement("div"),T.style.position="fixed",T.style.inset="0",T.style.zIndex="100",x.querySelectorAll(`[data-todo-id="${e}"]`).forEach(j=>{const N=j.getBoundingClientRect(),z=j.cloneNode(!0);z.style.position="absolute",z.style.width=`${N.width}px`,z.style.height=`${N.height}px`,z.style.top=`${N.top}px`,z.style.left=`${N.left}px`,T==null||T.appendChild(z)}),document.body.appendChild(T)),De({y:k.clientY,container:x}),_(k.clientX,k.clientY))},_=(k,B)=>{if(!T)return;T.style.transform=`translate(${k-m.current.x}px, ${B-m.current.y}px)`;const j=x.querySelector(".calender-date.drag-hover-highlight");j==null||j.classList.remove("drag-hover-highlight");const N=x.querySelectorAll(".calender-date");Array.from(N).find((z,X)=>{const Z=z.getBoundingClientRect(),V=k>=Z.left&&k<=Z.right&&B>=Z.top&&B<=Z.bottom;return V&&(M=X,z.classList.add("drag-hover-highlight")),V})},$=()=>{x.removeEventListener("scroll",Y),document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",$),cancelAnimationFrame(te),T==null||T.remove();const k=x.querySelector(".calender-date.drag-hover-highlight");if(k==null||k.classList.remove("drag-hover-highlight"),!D||typeof M=="undefined")return;const B=d.current.find(X=>X.id===e);if(!B||!B.startTime||!B.endTime)return;const j=h.current[M];if(j===g)return;const N=j-(g-B.startTime),z=N+B.endTime-B.startTime;f(X=>X.map(Z=>Z.id===e?O(H({},Z),{startTime:N,endTime:z}):Z))},Y=()=>{_(S.x,S.y)};x.addEventListener("scroll",Y),document.addEventListener("mousemove",A),document.addEventListener("mouseup",$)},w={top:i*_e()+pt,left:Ze((n-s)/I/7),width:Ze(((r-n)/I+1)/7),height:_e()};return o.exports.jsx("div",{"data-todo-id":e,className:W("absolute cursor-pointer pb-1",{"pl-1":c,"pr-1":a}),style:w,onMouseDown:y,children:o.exports.jsxs("div",{className:W("bg-green-300 border h-full relative p-1",{"rounded-l":c,"rounded-r":a}),children:[o.exports.jsx("span",{children:(b=d.current.find(p=>p.id===e))==null?void 0:b.title}),Mn.map(p=>{if(p==="left"&&c)return o.exports.jsx("div",{className:"absolute h-full top-0 py-0.5 w-[4px] rounded-full hover:bg-black hover:cursor-col-resize z-10 -left-0.5",onMouseDown:x=>v(x,p)},p);if(p==="right"&&a)return o.exports.jsx("div",{className:"absolute h-full top-0 py-0.5 w-[4px] rounded-full hover:bg-black hover:cursor-col-resize z-10 -right-0.5",onMouseDown:x=>v(x,p)},p)})]})},e)}),Hn=l.exports.memo(({date:e,setTodoList:t})=>{const n=dn(e),r=new Date(e),s=an.solar2lunar(r.getFullYear(),r.getMonth()+1,r.getDate());return l.exports.useMemo(()=>o.exports.jsxs("div",{className:"border-r border-b px-2 calender-date flex-1 text-gray-200 text-right flex justify-between group relative",children:[o.exports.jsx("button",{className:"absolute top-0.5 left-10 opacity-0 group-hover:opacity-100 cursor-pointer text-black text-sm w-5 h-5 bg-white border rounded flex items-center text-center",onClick:()=>{t(c=>{var a;return c.concat({id:F(),title:((a=c[c.length-1].title)!=null?a:0)+1,startTime:e,endTime:e})})},children:"+"}),o.exports.jsx("span",{className:W(n&&"bg-red-500 font-bold inline-block w-6 text-center text-white rounded-full h-6"),children:r.getDate()}),s!==-1&&o.exports.jsx("span",{className:W("ml-1 ",(s.lunarFestival||s.Term)&&"text-red-400"),children:s.lunarFestival||s.Term?s.lunarFestival||s.Term:s.lDay===1?s.IMonthCn:s.IDayCn})]}),[e,r,s,t,n])}),be=(e="init",t)=>{let n=0,r=0;if(e==="init"){const a=t?new Date(t):new Date,i=a.getMonth(),u=a.setMonth(i,1),h=a.setMonth(i+2,0);n=P(u-((new Date(u).getDay()||7)-1)*I)-I,r=P(h-((new Date(h).getDay()||7)-1)*I)+I*5}if(e==="append"&&t){const a=new Date(t),i=a.setMonth(a.getMonth()+2,0);n=t,r=P(i-((new Date(i).getDay()||7)-1)*I)+I*5}const s=[];let c=n;for(;c<=r;)s.push(c),c+=I;return s},ye=(e=Date.now())=>{const t=new Date(e),n=t.getMonth(),r=t.setMonth(n,1),s=t.setMonth(n+1,0),a=P(r-((new Date(r).getDay()||7)-1)*I)-I,u=P(s-((new Date(s).getDay()||7)-1)*I)+I*5,h=[];let d=a;for(;d<=u;)h.push(d),d+=I;return h},_n=(e,t,n)=>{const r=P(new Date(e).setDate(1)),s=P(new Date(e).setMonth(new Date(e).getMonth()+1,0)),c=t.indexOf(r),a=(s-r)/I+1;n.querySelectorAll(".calender-date.current-month").forEach(h=>{h.classList.remove("current-month")});const u=n.querySelectorAll(".calender-date");Array.from(u).slice(c,c+a).forEach(h=>{h.classList.add("current-month")})},$n=()=>{const e=l.exports.useRef(null);return l.exports.useEffect(()=>{if(!e.current)return;const t=e.current,n=Yn(),r=getComputedStyle(t);t.width=Math.floor(parseInt(r.getPropertyValue("width"))*n),t.height=Math.floor(parseInt(r.getPropertyValue("height"))*n);const s=e.current.getContext("2d");if(!s)return;s.scale(n,n),s.font='20px -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif, PingFang SC',s.lineWidth=10,s.strokeRect(75,140,150,110),s.fillRect(130,190,40,60),s.beginPath(),s.moveTo(50,140),s.lineTo(150,60),s.lineTo(250,140),s.closePath(),s.stroke();const c=On({x:75,y:140},250,0);s.clearRect(c.x,c.y,150,110),s.fillText("this is a house",80,300)},[]),o.exports.jsx("div",{className:"border",children:o.exports.jsx("canvas",{ref:e,style:{width:600,height:600}})})},On=(e,t=0,n=0)=>({x:e.x+t,y:e.y+n}),Yn=()=>window.devicePixelRatio,Wn=()=>{const e=l.exports.useRef(null),t=l.exports.useRef(null),[n,r]=l.exports.useState(200),s=100,c=600,a=It(({offset:[i]})=>{!e.current||(e.current.style.width=`${xe(i,s,c)}px`)},{from:n});return o.exports.jsx("div",{className:"relative border inline-flex h-[calc(100%-100px)] my-2",style:{width:n},ref:e,children:o.exports.jsx("div",O(H({},a()),{ref:t,className:"w-2 bg-black absolute h-[calc(100%-20px)] top-2.5 -right-1"}))})},et=[],zn=()=>{const e=l.exports.useRef(null),[t,n]=l.exports.useState("hello world"),r=()=>{!e.current||(et.push(t),n(e.current.value))},s=()=>{if(!e.current)return;const c=et.pop();n(c||e.current.value)};return o.exports.jsxs("div",{children:[o.exports.jsx("h4",{children:" Type some characters and hit Undo "}),o.exports.jsx("input",{value:t,ref:e,onChange:r}),o.exports.jsx("button",{onClick:s,children:"Undo"})]})},Xn=t=>{var e=K(t,[]);return o.exports.jsxs("svg",O(H({stroke:"currentColor",fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},e),{children:[o.exports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.99992 9.99998L14.9999 9.99998V8.99998L4.99992 8.99998V9.99998Z",fill:"black"}),o.exports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.2929 9.65684L9.6967 5.06064L10.4038 4.35354L15.3536 9.30328C15.5488 9.49855 15.5488 9.81513 15.3536 10.0104L10.4038 14.9601L9.6967 14.253L14.2929 9.65684Z",fill:"black"})]}))},Vn=t=>{var e=K(t,[]);return o.exports.jsxs("svg",O(H({stroke:"currentColor",fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},e),{children:[o.exports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.6762 6.83169V3.06812H12.6762V6.33169H15.9398V7.33169H12.1762C11.9 7.33169 11.6762 7.10784 11.6762 6.83169Z",fill:"black"}),o.exports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.2933 6.42383C16.387 6.5176 16.4397 6.64477 16.4397 6.77738L16.4397 14.5558C16.4397 14.832 16.2158 15.0558 15.9397 15.0558H12.7804C12.5042 15.0558 12.2804 14.832 12.2804 14.5558C12.2804 14.2797 12.5042 14.0558 12.7804 14.0558H15.4397L15.4397 6.98449L12.0233 3.56812L7.9194 3.56813V5.26249C7.9194 5.53863 7.69554 5.76249 7.4194 5.76249C7.14326 5.76249 6.9194 5.53863 6.9194 5.26249V3.06813C6.9194 2.79199 7.14326 2.56813 7.4194 2.56813L12.2304 2.56812C12.363 2.56811 12.4902 2.62079 12.584 2.71456L16.2933 6.42383Z",fill:"black"}),o.exports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.27229 9.25275V5.44434H9.27229V8.75275H12.5807V9.75275H8.77229C8.49615 9.75275 8.27229 9.5289 8.27229 9.25275Z",fill:"black"}),o.exports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.9342 8.79999C13.0279 8.89375 13.0806 9.02093 13.0806 9.15354L13.0806 16.932C13.0806 17.2081 12.8567 17.432 12.5806 17.432H4.0603C3.78416 17.432 3.5603 17.2081 3.5603 16.932L3.5603 5.44429C3.5603 5.16815 3.78415 4.94429 4.0603 4.94429L8.87133 4.94427C9.00394 4.94427 9.13112 4.99695 9.22489 5.09072L12.9342 8.79999ZM12.0806 9.36065L8.66423 5.94428L4.5603 5.94429L4.5603 16.432H12.0806L12.0806 9.36065Z",fill:"black"})]}))},Un=t=>{var e=K(t,[]);return o.exports.jsx("svg",O(H({stroke:"currentColor",fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},e),{children:o.exports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1464 5.35356L12.8535 4.64645L18.2071 10L12.8535 15.3536L12.1464 14.6465L16.2929 10.5H2.50005V9.49997H16.2928L12.1464 5.35356Z",fill:"black"})}))},qn=t=>{var e=K(t,[]);return o.exports.jsx("svg",O(H({stroke:"currentColor",fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},e),{children:o.exports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.8064 9.6114C17.9377 9.85672 17.9377 10.1434 17.8064 10.3887C17.1353 11.6426 14.6898 15.5 10 15.5C5.31018 15.5 2.86468 11.6426 2.19363 10.3887C2.06235 10.1434 2.06235 9.85672 2.19363 9.6114C2.86469 8.35749 5.31018 4.50005 10 4.50005C14.6898 4.50005 17.1353 8.35749 17.8064 9.6114ZM13.3809 10.0001C13.3809 11.8673 11.8672 13.3809 10 13.3809C8.13281 13.3809 6.61914 11.8673 6.61914 10.0001C6.61914 8.13285 8.13281 6.61919 10 6.61919C11.8672 6.61919 13.3809 8.13285 13.3809 10.0001ZM10.0002 11.251C10.6911 11.251 11.2511 10.6909 11.2511 10C11.2511 9.30914 10.6911 8.74907 10.0002 8.74907C9.3093 8.74907 8.74922 9.30914 8.74922 10C8.74922 10.6909 9.3093 11.251 10.0002 11.251Z",fill:"#828282"})}))},Zn=t=>{var e=K(t,[]);return o.exports.jsx("svg",O(H({stroke:"currentColor",fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},e),{children:o.exports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.0103 3.28247L3.28235 16.0104L3.98946 16.7175L6.17723 14.5297C6.17724 14.5297 6.17725 14.5297 6.17725 14.5297L7.98894 12.718C7.98894 12.718 7.98893 12.718 7.98892 12.718L12.7179 7.98902C12.7179 7.98902 12.7179 7.98903 12.7179 7.98903L14.6912 6.01582C14.6912 6.01581 14.6912 6.01581 14.6911 6.01581L16.7174 3.98958L16.0103 3.28247ZM9.99992 4.50002C11.0662 4.50002 12.0165 4.69942 12.8563 5.0223L11.0824 6.79616C10.7426 6.68138 10.3785 6.61916 9.99993 6.61916C8.13273 6.61916 6.61906 8.13282 6.61906 10C6.61906 10.3786 6.68129 10.7426 6.79607 11.0825L4.52294 13.3556C3.28111 12.249 2.52322 11.0047 2.19356 10.3887C2.06227 10.1433 2.06227 9.85669 2.19356 9.61137C2.86461 8.35746 5.3101 4.50002 9.99992 4.50002ZM9.99993 13.3809C9.62131 13.3809 9.25723 13.3186 8.91735 13.2038L7.1435 14.9777C7.98329 15.3006 8.9336 15.5 9.99992 15.5C14.6897 15.5 17.1352 11.6426 17.8063 10.3887C17.9376 10.1433 17.9376 9.85669 17.8063 9.61137C17.4766 8.99537 16.7187 7.75102 15.4768 6.64436L13.2038 8.91744C13.3186 9.25732 13.3808 9.6214 13.3808 10C13.3808 11.8672 11.8671 13.3809 9.99993 13.3809Z",fill:"#BDBDBD"})}))},Gn=t=>{var e=K(t,[]);return o.exports.jsx("svg",O(H({stroke:"currentColor",fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},e),{children:o.exports.jsx("path",{d:"M9.08333 8C8.51256 8 8.0274 8.19977 7.62785 8.59931C7.19977 8.99886 7 9.51256 7 10.0833C7 10.6541 7.19977 11.1393 7.62785 11.5388C8.0274 11.9384 8.51256 12.1381 9.08333 12.1381C9.65411 12.1381 10.1393 11.9384 10.5388 11.5388C10.9384 11.1393 11.1667 10.6541 11.1667 10.0833C11.1667 9.51256 10.9384 8.99886 10.5388 8.59931C10.1393 8.19977 9.65411 8 9.08333 8Z",fill:"#828282"})}))},Jn=t=>{var e=K(t,[]);return o.exports.jsx("svg",O(H({stroke:"currentColor",fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},e),{children:o.exports.jsx("path",{d:"M6.89709 6.88417C6.89709 6.63089 7.19157 6.49159 7.38738 6.65224L11.3644 9.91517C11.5107 10.0352 11.5107 10.259 11.3644 10.379L7.38738 13.642C7.19157 13.8026 6.89709 13.6633 6.89709 13.41L6.89709 6.88417Z",fill:"#828282"})}))},Kn=t=>{var e=K(t,[]);return o.exports.jsx("svg",O(H({stroke:"currentColor",fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},e),{children:o.exports.jsx("path",{d:"M11.1601 8.66833C11.4134 8.66833 11.5527 8.96281 11.392 9.15862L8.12908 13.1356C8.00906 13.2819 7.78524 13.2819 7.66522 13.1356L4.40228 9.15862C4.24163 8.96281 4.38094 8.66833 4.63421 8.66834L11.1601 8.66833Z",fill:"#828282"})}))};var tt=Object.freeze(Object.defineProperty({__proto__:null,ArrowForward:Xn,MenuCopy:Vn,MenuInsertRight:Un,MenuItemHide:qn,MenuItemShow:Zn,NaviDot:Gn,NaviFold:Jn,NaviUnfold:Kn},Symbol.toStringTag,{value:"Module"}));const Qn=()=>o.exports.jsxs("div",{className:"text-gray-900 text-xl flex",children:[o.exports.jsx(kt,{className:"mr-2"}),Object.keys(tt).map(e=>{const t=tt[e];return o.exports.jsx(t,{className:"mr-2"},e)})]});let Ce;const er=async(e,t)=>{await xt(),Ce==="granted"&&new Notification(e,{dir:"ltr",body:t})},xt=async()=>{switch(Notification.permission){case"default":{Ce=await Notification.requestPermission();break}case"granted":Ce="granted";break;case"denied":Ce="denied";break}},tr=()=>{l.exports.useEffect(()=>{xt()},[]);const e=()=>{er("\u901A\u77E5\u6807\u9898","\u901A\u77E5\u63CF\u8FF0")};return o.exports.jsx("div",{children:o.exports.jsx("button",{onClick:e,children:"\u70B9\u51FB\u53D1\u9001\u901A\u77E5"})})};const nr=()=>o.exports.jsxs("div",{children:[o.exports.jsx("h1",{className:"mt-4",children:"\u7CFB\u7EDF\u6EDA\u52A8\u6761"}),o.exports.jsx("div",{className:"h-[200px] mt-4 border overflow-auto scrollbar-optimise",children:o.exports.jsx(Fe,{})}),o.exports.jsx("h1",{className:"mt-4",children:"\u81EA\u5B9A\u4E49\u6EDA\u52A8\u6761(firefox \u548C webkit\u5185\u6838\u6D4F\u89C8\u5668\u652F\u6301)"}),o.exports.jsx(rr,{className:"mt-4",children:o.exports.jsx("div",{className:"h-[200px] border overflow-auto scrollbar-hidden",children:o.exports.jsx(Fe,{})})}),o.exports.jsx("h1",{className:"mt-4",children:"hover \u663E\u793A\u6EDA\u52A8\u6761"}),o.exports.jsx("div",{className:"h-[200px] border mt-4 overflow-auto scroll-hover-visible",children:o.exports.jsx(Fe,{})})]}),Fe=()=>o.exports.jsx("div",{className:"w-[10000px] px-4",children:new Array(100).fill(1).map((e,t)=>o.exports.jsx("div",{className:"h-10 border-b flex items-center",children:t+1},t))}),rr=({children:e,className:t})=>{const n=l.exports.useRef(null),r=l.exports.useRef(null),s=l.exports.useRef(null),c=l.exports.useRef(null),a=l.exports.useRef(null),i=l.exports.useRef(0),u=l.exports.useRef(0),h=l.exports.useRef({x:0,y:0,top:0,left:0});l.exports.useEffect(()=>{var x;const f=c.current,m=a.current,v=r.current,y=s.current,w=(x=n.current)==null?void 0:x.firstElementChild;if(!f||!m||!v||!y||!w)return;w.classList.add("scrollbar-hidden");const b=()=>{const C=w.scrollHeight>w.clientHeight,E=w.scrollWidth>w.clientWidth;console.log(C,E);const R=getComputedStyle(w),g=parseInt(R.borderLeftWidth)||0,D=parseInt(R.borderTopWidth)||0;if(v.style.top=`${D}px`,y.style.left=`${g}px`,C&&E?(v.style.height="calc(100% - 12px)",y.style.width="calc(100% - 12px)"):(v.style.height=`${w.clientHeight}px`,y.style.width=`${w.clientWidth}px`),C){const T=v.clientHeight*(v.clientHeight/w.scrollHeight),M=Math.max(T,16),S=w.scrollHeight-w.clientHeight,_=(v.clientHeight-M)*(w.scrollTop/S);i.current=requestAnimationFrame(()=>{i.current&&cancelAnimationFrame(i.current),f.style.display="block",f.style.height=`${M}px`,f.style.top=`${_}px`})}else f.style.display="none";if(E){const T=y.clientWidth*(y.clientWidth/w.scrollWidth),M=Math.max(T,16),S=w.scrollWidth-w.clientWidth,_=(y.clientWidth-M)*(w.scrollLeft/S);u.current=requestAnimationFrame(()=>{u.current&&cancelAnimationFrame(u.current),m.style.display="block",m.style.width=`${M}px`,m.style.left=`${_}px`})}else m.style.display="none"},p=new ResizeObserver(b);return b(),w.addEventListener("scroll",b),p.observe(w),()=>{w.removeEventListener("scroll",b),p.unobserve(w)}},[]);const d=(f,m)=>{var E;f.preventDefault();const v=c.current,y=a.current,w=r.current,b=s.current,p=(E=n.current)==null?void 0:E.firstElementChild;if(!v||!y||!w||!b||!p)return;h.current={x:f.clientX,y:f.clientY,top:parseInt(v.style.top),left:parseInt(y.style.left)};const x=R=>{if(m==="y"){const g=p.scrollHeight-p.clientHeight,D=w.clientHeight-v.offsetWidth,M=R.clientY-h.current.y+h.current.top,S=xe(M,0,D);v.style.top=`${S}px`,p.scrollTop=g*(S/D)}if(m==="x"){const g=p.scrollWidth-p.clientWidth,D=b.clientWidth-y.offsetWidth,M=R.clientX-h.current.x+h.current.left,S=xe(M,0,D);y.style.left=`${S}px`,p.scrollLeft=g*(S/D)}},C=()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",C)};document.addEventListener("mousemove",x),document.addEventListener("mouseup",C)};return o.exports.jsxs("div",{className:W(t,"relative overflow-hidden"),ref:n,children:[e,o.exports.jsx("div",{className:"absolute top-0 right-0 w-3 h-full",ref:r,children:o.exports.jsx("div",{className:"absolute w-2 bg-[#7f7f7f99] rounded-full",ref:c,onMouseDown:f=>d(f,"y")})}),o.exports.jsx("div",{className:"absolute left-0 bottom-0 h-3 w-full",ref:s,children:o.exports.jsx("div",{className:"absolute h-2 bg-[#7f7f7f99] rounded-full",ref:a,onMouseDown:f=>d(f,"x")})})]})},sr=()=>{const e=l.exports.useRef(null),t=l.exports.useRef(new Map),n=l.exports.useRef({x:0,y:0,scrollTop:0}),r=a=>{a.preventDefault();const i=e.current;if(!i)return;t.current=new Map,n.current={x:a.clientX,y:a.clientY,scrollTop:i.scrollTop};let u={x:a.clientX,y:a.clientY},h=!1;const d=document.createElement("div");d.style.position="fixed",d.style.background="rgba(0, 250, 0, 0.3)";const f=()=>{var E;const b=(E=i.firstElementChild)==null?void 0:E.getBoundingClientRect();if(!b)return;const p=i.querySelectorAll(".sub-node");for(const R of p){const g=R.dataset.uuid;if(!g||t.current.has(g))continue;const D=R.getBoundingClientRect(),T={left:D.left,width:D.width,height:D.height,offsetTop:D.top-b.top,node:R};t.current.set(g,T)}const x={left:parseInt(d.style.left),top:parseInt(d.style.top),width:parseInt(d.style.width),height:parseInt(d.style.height)},C=new Set;for(const[R,g]of t.current){const D=O(H({},g),{top:g.offsetTop+b.top});Re(D,x)>0&&C.add(R)}for(const R of p){const g=R.dataset.uuid;!g||(C.has(g)?R.classList.add("selected-node"):R.classList.contains("selected-node")&&R.classList.remove("selected-node"))}},v=pe(b=>{h||(h=!0,document.body.appendChild(d)),d.style.width=`${Math.max(Math.abs(b.clientX-n.current.x),1)}px`,d.style.left=`${Math.min(b.clientX,n.current.x)}px`;const p=i.scrollTop-n.current.scrollTop,x=n.current.y-p;d.style.top=`${Math.min(b.clientY,x)}px`,d.style.height=`${Math.abs(b.clientY-x)}px`,De({y:b.clientY,container:i}),u={x:b.clientX,y:b.clientY},f()},60),y=()=>{i.removeEventListener("scroll",w),document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y),cancelAnimationFrame(te),d.remove()},w=()=>{if(!h)return;const b=i.scrollTop-n.current.scrollTop,p=n.current.y-b;d.style.top=`${Math.min(u.y,p)}px`,d.style.height=`${Math.abs(u.y-p)}px`,f()};i.addEventListener("scroll",w),document.addEventListener("mousemove",v),document.addEventListener("mouseup",y)},s=1e5,c=40;return o.exports.jsx("div",{className:"w-full h-full overflow-auto",ref:e,children:o.exports.jsx("div",{onMouseDown:r,className:"border border-gray-200",style:{height:s},children:new Array(Math.floor(s/c)).fill(1).map((a,i)=>o.exports.jsx("div",{className:"border-b border-gray-200 sub-node",style:{height:c},"data-uuid":i+1,children:i+1},i))})})},or=400,cr=80,ir=400,lr=80,fe=80,Te=80,ar=100,bt=l.exports.createContext(void 0),mt=()=>{const e=l.exports.useContext(bt);if(!e)throw new Error("SelectedCellContext \u4E0D\u5B58\u5728");return e},gt=l.exports.createContext(void 0),wt=()=>{const e=l.exports.useContext(gt);if(!e)throw new Error("TableDataContext \u4E0D\u5B58\u5728");return e},ur=()=>{const[e,t]=l.exports.useState([]),[n,r]=l.exports.useState(mr()),s=l.exports.useRef(null),c=l.exports.useMemo(()=>({selectedCell:e,setSelectedCell:t}),[e]),a=l.exports.useMemo(()=>({tableData:n,setTableData:r,tableRef:s}),[n]);return o.exports.jsx(bt.Provider,{value:c,children:o.exports.jsx(gt.Provider,{value:a,children:o.exports.jsx(dr,{})})})},dr=()=>{const{tableData:{tableCol:e,tableRow:t,tableContent:n},setTableData:r,tableRef:s}=wt(),c=l.exports.useRef({x:0,y:0}),a=i=>{i.preventDefault(),c.current={x:i.clientX,y:i.clientY};let u=0,h=0;const f=pe(v=>{const y=v.clientX-c.current.x,w=v.clientY-c.current.y;let b=0,p=0,x=0,C=0;w>0&&(b=Math.floor(w/Te),x=b-h,h=b),y>0&&(p=Math.floor(y/fe),C=p-u,u=p),console.log(x,C),!(x===0&&C===0)&&r(E=>{const{tableCol:R,tableContent:g,tableRow:D}=E;let T=[...g];const M=[...D],S=[...R];if(x!==0)if(x>0){const A=F(),_=S.map($=>({id:F(),colId:$.id,rowId:A,content:String(b),colSpan:1,rowSpan:1,isMerged:!1}));M.push({id:A,height:Te}),T.push(_)}else M.pop(),T.pop();if(C!==0){const A=F();T=T.map((_,$)=>{const Y=[..._];return C>0?Y.push({id:F(),colId:A,rowId:M[$].id,content:String(p),colSpan:1,rowSpan:1,isMerged:!1}):Y.pop(),Y}),C>0?S.push({id:A,width:fe}):S.pop()}return{tableCol:S,tableRow:M,tableContent:T}})},100),m=()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",m)};document.addEventListener("mousemove",f),document.addEventListener("mouseup",m)};return o.exports.jsxs("div",{className:"relative",children:[o.exports.jsxs("div",{className:"inline-block relative",children:[o.exports.jsxs("table",{className:"border-t border-l",ref:s,children:[o.exports.jsx("colgroup",{children:e.map(i=>o.exports.jsx("col",{width:i.width,"data-col-id":i.id},i.id))}),o.exports.jsx("tbody",{children:n.map((i,u)=>o.exports.jsx(fr,{row:t[u],rowData:i},t[u].id))})]}),o.exports.jsx("div",{onMouseDown:a,className:"absolute -right-4 hover:bg-gray-200 hover:cursor-move",children:o.exports.jsx(Ft,{})})]}),o.exports.jsxs("div",{children:[e.map((i,u)=>o.exports.jsx(pr,{col:i,left:Ie(e.slice(0,u+1).map(h=>h.width))-2,tableRef:s,setTableData:r},i.id)),t.map((i,u)=>o.exports.jsx(xr,{row:i,top:Ie(t.slice(0,u+1).map(h=>h.height))-2,width:Ie(e.map(h=>h.width)),tableRef:s,setTableData:r},u))]})]})},fr=({rowData:e,row:t})=>o.exports.jsx("tr",{style:{height:t.height},"data-row-id":t.id,children:e.map(n=>o.exports.jsx(hr,{cell:n},n.id))}),hr=({cell:e})=>{const{tableRef:t,setTableData:n}=wt(),r=l.exports.useRef({x:0,y:0}),[s,c]=l.exports.useState(),a=l.exports.useRef(null),{selectedCell:i,setSelectedCell:u}=mt(),h=i.find(v=>v===e.id);if(e.isMerged)return null;const d=(v,y,w)=>{if(v.length===0)return[];if(v.length===1){const R=v[0];return R.colSpan>1||R.rowSpan>1?v:[]}let b=1/0,p=1/0,x=-1/0,C=-1/0,E=0;if(v.forEach(R=>{const g=w.get(R);!g||(E+=g.width*g.height,b=Math.min(g.left,b),p=Math.min(g.top,p),x=Math.max(g.right,x),C=Math.max(g.bottom,C))}),Math.abs((C-p)*(x-b)-E)>ar){const R={left:b,top:p,width:x-b,height:C-p},g=[];return y.forEach(D=>{const T=w.get(D);if(!T)return;Re(R,T)>0&&g.push(D)}),d(g,y,w)}return v},f=v=>{v.preventDefault(),(v.button===0||v.button===2&&!h)&&i.length>0&&u([]),r.current={x:v.clientX,y:v.clientY};let y=!1,w=[];const b=x=>{if(!t.current)return;if(!y){if(Math.abs(x.clientX-r.current.x)<5&&Math.abs(x.clientY-r.current.y)<5)return;y=!0}const C={left:Math.min(r.current.x,x.clientX),top:Math.min(r.current.y,x.clientY),width:Math.abs(r.current.x-x.clientX)||1,height:Math.abs(r.current.y-x.clientY)||1};let E=[];const R=t.current.querySelectorAll("td"),g=new Map;R.forEach(D=>{const T=D.getBoundingClientRect();g.set(D,T),D.classList.contains("cell-hover-highlight")&&D.classList.remove("cell-hover-highlight"),Re(C,T)>0&&E.push(D)}),E=d(E,R,g),E.forEach(D=>D.classList.add("cell-hover-highlight")),w=E},p=()=>{if(document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",p),!!y&&v.button===0&&w.length>0){const x=w.map(C=>{var E;return(E=C.dataset.cellId)!=null?E:""}).filter(C=>!!C);u(x)}};document.addEventListener("mousemove",b),document.addEventListener("mouseup",p)},m=v=>{v.preventDefault(),!!a.current&&h&&c({x:v.clientX,y:v.clientY})};return o.exports.jsxs(o.exports.Fragment,{children:[o.exports.jsx("td",{ref:a,onMouseDown:f,onContextMenu:m,className:W("border-r border-b",h&&"cell-hover-highlight",(e.colSpan>1||e.rowSpan>1)&&"relative z-50"),"data-cell-id":e.id,colSpan:e.colSpan>1?e.colSpan:void 0,rowSpan:e.rowSpan>1?e.rowSpan:void 0,children:e.content}),s&&At.exports.createPortal(o.exports.jsx(br,{top:s.y,left:s.x,closeModal:()=>c(void 0),setTableData:n}),document.body)]})},pr=({col:e,left:t,tableRef:n,setTableData:r})=>{const s=l.exports.useRef(null),c=l.exports.useRef({x:0,y:0}),a=i=>{i.preventDefault(),c.current={x:i.clientX,y:i.clientY};let u=0;const h=f=>{var w;if(!s.current)return;const m=(w=n.current)==null?void 0:w.querySelector("colgroup");if(!m)return;const v=m.querySelector(`col[data-col-id="${e.id}"]`);if(!v)return;let y=f.clientX-c.current.x;y=xe(y,-(e.width-cr),or-e.width),u=e.width+y,v.style.width=`${u}px`,s.current.style.opacity="1",s.current.style.zIndex="100",s.current.style.left=`${t+y}px`},d=()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",d),s.current&&(s.current.style.opacity="0",s.current.style.zIndex="unset"),r(f=>{const m=f.tableCol.map(v=>v.id===e.id?O(H({},v),{width:u}):v);return O(H({},f),{tableCol:m})})};document.addEventListener("mousemove",h),document.addEventListener("mouseup",d)};return o.exports.jsx("div",{ref:s,onMouseDown:a,className:"absolute top-0 w-1 bg-black h-full cursor-[col-resize]",style:{left:t,opacity:0}})},xr=({row:e,top:t,width:n,tableRef:r,setTableData:s})=>{const c=l.exports.useRef(null),a=l.exports.useRef({x:0,y:0}),i=u=>{u.preventDefault(),a.current={x:u.clientX,y:u.clientY};let h=0;const d=m=>{if(!r.current||!c.current)return;const v=r.current.querySelector(`tbody tr[data-row-id="${e.id}"]`);if(!v)return;let y=m.clientY-a.current.y;y=xe(y,-(e.height-lr),ir-e.height),h=e.height+y,v.style.height=`${h}px`,c.current.style.opacity="1",c.current.style.zIndex="100",c.current.style.top=`${t+y}px`},f=()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",f),c.current&&(c.current.style.opacity="0",c.current.style.zIndex="unset"),s(m=>{const v=m.tableRow.map(y=>y.id===e.id?{id:y.id,height:h}:y);return O(H({},m),{tableRow:v})})};document.addEventListener("mousemove",d),document.addEventListener("mouseup",f)};return o.exports.jsx("div",{ref:c,onMouseDown:i,className:"absolute left-0 h-1 bg-black w-full cursor-[row-resize]",style:{top:t,width:n,opacity:0}})},br=({left:e,top:t,closeModal:n,setTableData:r})=>{const{selectedCell:s,setSelectedCell:c}=mt(),a=[{title:"\u5411\u4E0A\u63D2\u5165\u4E00\u884C",type:"inset_top"},{title:"\u5411\u4E0B\u63D2\u5165\u4E00\u884C",type:"inset_bottom"},{title:"\u5411\u5DE6\u63D2\u5165\u4E00\u884C",type:"insert_left"},{title:"\u5411\u53F3\u63D2\u5165\u4E00\u5217",type:"insert_right"},{title:s.length>1?"\u5408\u5E76\u5355\u5143\u683C":"\u53D6\u6D88\u5408\u5E76\u5355\u5143\u683C",type:s.length>1?"merge":"split"},{title:"\u5220\u9664\u5217",type:"delete_col"},{title:"\u5220\u9664\u884C",type:"delete_row"}],i=({type:u})=>{r(h=>{const{tableCol:d,tableContent:f,tableRow:m}=h,v=s[0];let y=0,w=0,b=0,p=0;switch(f.forEach((x,C)=>{x.forEach((E,R)=>{E.id===s[0]&&(b=C,p=R),s.includes(E.id)&&(y=Math.max(E.colSpan+R-1,y),w=Math.max(E.rowSpan+C-1,w))})}),u){case"inset_top":case"inset_bottom":{const x=u==="inset_top",C=F(),E=m.slice(0),R=f.slice(),g=d.map(D=>({id:F(),colId:D.id,rowId:C,content:"2",colSpan:1,rowSpan:1,isMerged:!1}));return E.splice(x?b:w+1,0,{id:C,height:100}),R.splice(x?b:w+1,0,g),{tableCol:d,tableRow:E,tableContent:R}}case"insert_left":case"insert_right":{const x=u==="insert_left",C=F(),E=d.slice(0),R=f.map((g,D)=>{const T=[...g];return T.splice(x?p:y+1,0,{id:F(),colId:C,rowId:m[D].id,content:"3",colSpan:1,rowSpan:1,isMerged:!1}),T});return E.splice(x?p:y+1,0,{id:C,width:fe}),{tableCol:E,tableRow:m,tableContent:R}}case"merge":{const x=f.map(C=>C.map(E=>v===E.id?O(H({},E),{colSpan:y-p+1,rowSpan:w-b+1}):s.includes(E.id)?O(H({},E),{isMerged:!0}):E));return c([v]),{tableCol:d,tableRow:m,tableContent:x}}case"split":{const x=[],C=f.map((E,R)=>R>=b&&R<=w?E.map((g,D)=>D>=p&&D<=y?(x.push(g.id),O(H({},g),{colSpan:1,rowSpan:1,isMerged:!1})):g):E);return c(x),{tableCol:d,tableRow:m,tableContent:C}}case"delete_col":{const x=d.filter((E,R)=>R<p||R>y),C=f.map(E=>E.filter((R,g)=>g<p||g>y));return x.length,{tableCol:x,tableRow:m,tableContent:C}}case"delete_row":{const x=m.filter((E,R)=>R<b||R>w),C=f.filter((E,R)=>R<b||R>w);return{tableCol:d,tableRow:x,tableContent:C}}default:return h}}),n()};return o.exports.jsx("div",{className:"fixed w-full h-full top-0 left-0 z-[1000]",onClick:n,children:o.exports.jsx("div",{className:"absolute py-2 bg-white shadow-lg rounded-md w-[120px]",style:{left:e+8,top:t+8},onClick:u=>u.stopPropagation(),children:a.map(u=>o.exports.jsx("div",{className:"text-sm h-10 flex items-center hover:bg-red-100 px-2 cursor-pointer",onClick:()=>i(u),children:u.title},u.type))})})},mr=()=>{const e=[{width:fe,id:F()},{width:fe,id:F()},{width:fe,id:F()}],t=[{height:Te,id:F()},{height:Te,id:F()}],n=[[{id:F(),colId:e[0].id,rowId:t[0].id,content:"1",colSpan:1,rowSpan:1,isMerged:!1},{id:F(),colId:e[1].id,rowId:t[0].id,content:"1",colSpan:1,rowSpan:1,isMerged:!1},{id:F(),colId:e[2].id,rowId:t[0].id,content:"1",colSpan:1,rowSpan:1,isMerged:!1}],[{id:F(),colId:e[0].id,rowId:t[1].id,content:"1",colSpan:1,rowSpan:1,isMerged:!1},{id:F(),colId:e[1].id,rowId:t[1].id,content:"1",colSpan:1,rowSpan:1,isMerged:!1},{id:F(),colId:e[2].id,rowId:t[1].id,content:"1",colSpan:1,rowSpan:1,isMerged:!1}]];return{tableCol:e,tableRow:t,tableContent:n}},ae=e=>new Array(e).fill(1).map((t,n)=>({id:F(),index:n+1,content:ct.lorem.sentences()})),gr=e=>{const t={},n=[],r=[];return new Array(e).fill(1).map((s,c)=>{const a=F(),i={id:a,index:c+1,content:ct.lorem.sentences()};r.push(i),n.push(a),t[a]=i}),{idList:n,dataList:r,dataMap:t}},J=40,Me=5,{idList:wr,dataList:vr,dataMap:yr}=gr(1e3),Cr=()=>{const[e]=l.exports.useState(vr),t=l.exports.useRef(null),n=l.exports.useRef(null),r=l.exports.useRef(null),s=l.exports.useRef([]),[c,a]=l.exports.useState([0,Math.min(Math.ceil(window.innerHeight/J),e.length)]);l.exports.useEffect(()=>{e.forEach((f,m)=>{const v={id:f.id,bottom:(m+1)*J,height:J,diffHeight:0};s.current.push(v)})},[]),l.exports.useEffect(()=>{const f=n.current;!f||(f.style.height=`${e.length*J}px`)},[]),l.exports.useEffect(()=>{const f=t.current,m=r.current,v=n.current;if(!f||!m||!v)return;const y=b=>{const p=s.current;let x=0,C=p.length-1,E=0;for(;x<=C;){E=Math.floor((x+C)/2);const g=p[E];if(g.bottom===b)break;g.bottom<b&&(x=E+1),g.bottom>b&&(C=E-1)}return s.current[E].bottom<b&&E++,E},w=()=>{const b=f.getBoundingClientRect(),p=v.getBoundingClientRect(),x=b.top-p.top,C=Math.ceil(f.clientHeight/J),E=y(x),R=Math.max(E-Me,0);a(g=>g[0]===R?g:[R,R+C+Me])};return f.addEventListener("scroll",w),()=>{f.removeEventListener("scroll",w)}},[]),l.exports.useEffect(()=>{const f=r.current,m=n.current;if(!f||!m)return;const v=f.childNodes;v.forEach(C=>{const E=Number(C.dataset.index),R=s.current[E].height,g=C.offsetHeight,D=R-g;D!==0&&(s.current[E].height=g,s.current[E].diffHeight=D)});let y=0;const w=v[0],b=Number(w.dataset.index),p=s.current.length;for(let C=b;C<p;C++){const E=s.current[C];E.diffHeight!==0&&(y+=E.diffHeight,E.diffHeight=0),E.bottom=E.bottom-y}const x=s.current[p-1].bottom;m.style.height=`${x}px`},[c]);const i=(f,m)=>o.exports.jsx(o.exports.Fragment,{children:e.slice(f,m).map((v,y)=>o.exports.jsxs("div",{className:"p-2 border-b","data-index":f+y,"data-uuid":v.id,children:[o.exports.jsx("span",{className:"text-[blue] font-bold",children:v.index})," ",v.content]},f+y))}),u=c[0],h=c[1],d=`translate3d(0,${u>=1?s.current[u-1].bottom:0}px,0)`;return o.exports.jsx("div",{ref:t,className:"h-[800px] w-[400px] border overflow-auto",children:o.exports.jsx("div",{ref:n,className:"w-full relative",children:o.exports.jsx("div",{ref:r,className:"absolute top-0 w-full",style:{transform:d},children:i(u,h)})})})},Dr=()=>{const[e]=l.exports.useState(wr),t=l.exports.useRef(null),n=l.exports.useRef(null),r=l.exports.useRef(null),s=l.exports.useRef({}),[c,a]=l.exports.useState([0,Math.min(Math.ceil(window.innerHeight/J),e.length)]),i=l.exports.useRef(e);i.current=e,l.exports.useEffect(()=>{const y=n.current;!y||(y.style.height=`${e.length*J}px`)},[]),l.exports.useEffect(()=>{e.forEach((y,w)=>{s.current[y]={id:y,bottom:(w+1)*J,height:J,diffHeight:0}})},[]),l.exports.useEffect(()=>{const y=r.current,w=n.current;if(!y||!w)return;y.childNodes.forEach(D=>{const T=D.dataset.uuid;if(!T)return;const M=s.current[T].height,S=D.offsetHeight,A=M-S;A!==0&&(s.current[T].height=S,s.current[T].diffHeight=A)});let p=0;const x=c[0],C=i.current.length;for(let D=x;D<C;D++){const T=i.current[D],M=s.current[T];M.diffHeight!==0&&(p+=M.diffHeight,M.diffHeight=0),M.bottom=M.bottom-p}const E=i.current[C-1],g=s.current[E].bottom;w.style.height=`${g}px`},[c]);const u=y=>{const w=s.current;let b=0,p=i.current.length-1,x=0,C="";for(;b<=p;){x=Math.floor((b+p)/2),C=i.current[x];const R=w[C];if(R.bottom===y)break;R.bottom<y&&(b=x+1),R.bottom>y&&(p=x-1)}return C=i.current[x],w[C].bottom<y&&x++,x};l.exports.useEffect(()=>{const y=t.current,w=r.current,b=n.current;if(!y||!w||!b)return;const p=()=>{const x=y.getBoundingClientRect(),C=b.getBoundingClientRect(),E=x.top-C.top,R=Math.ceil(y.clientHeight/J),g=u(E),D=Math.max(g-Me,0);c[0]!==D&&a([D,D+R+Me])};return y.addEventListener("scroll",p),()=>{y.removeEventListener("scroll",p)}},[c]);const h=(y,w)=>o.exports.jsx(o.exports.Fragment,{children:e.slice(y,w).map(b=>{const p=yr[b];return o.exports.jsxs("div",{className:"p-2 border-b","data-uuid":b,children:[o.exports.jsx("span",{className:"text-[blue] font-bold",children:p.index})," ",p.content]},b)})}),d=c[0],f=c[1],m=e[d],v=`translate3d(0,${d>=1?s.current[m].bottom:0}px,0)`;return o.exports.jsx("div",{ref:t,className:"h-[800px] w-[400px] border overflow-auto",children:o.exports.jsx("div",{ref:n,className:"w-full relative",children:o.exports.jsx("div",{ref:r,className:"absolute top-0 w-full",style:{transform:v},children:h(d,f)})})})},ce=40,nt=20,Er=()=>{const[e]=l.exports.useState(ae(1e4)),t=l.exports.useRef(null),n=l.exports.useRef(null),r=l.exports.useRef(0),[s,c]=l.exports.useState([0,Math.min(Math.ceil(window.innerHeight/ce),e.length)]),a=l.exports.useRef(0);a.current=s[0],l.exports.useEffect(()=>{const h=t.current,d=n.current;if(!h||!d)return;const f=()=>{const m=h.getBoundingClientRect(),v=d.getBoundingClientRect(),y=Math.ceil(h.clientHeight/ce),w=m.top-v.top;let b="bottom";w<r.current&&(b="top"),r.current=w;const p=Math.floor(w/ce);let x=0,C=0;b==="bottom"?(x=p,C=p+y+nt):(x=Math.max(p-nt,0),C=p+y),a.current!==x&&c([x,C])};return h.addEventListener("scroll",f),()=>{h.removeEventListener("scroll",f)}},[]);const i=s[0],u=s[1];return o.exports.jsx("div",{className:"relative h-[800px] w-96 overflow-y-scroll box-border border",ref:t,children:o.exports.jsx("div",{style:{height:`${e.length*ce}px`},ref:n,children:e.slice(i,u).map((h,d)=>o.exports.jsx("div",{className:"absolute w-full border-b-[1px]",style:{top:`${(i+d)*ce}px`,height:ce},children:o.exports.jsx("div",{className:"flex items-center h-full px-4",children:h.index})},h.id))})})},Rr=()=>{const[e,t]=l.exports.useState(!0),[n,r]=l.exports.useState("array");return o.exports.jsxs("div",{children:[o.exports.jsxs("div",{className:"mb-5",children:[o.exports.jsx("button",{className:W("mr-2",e&&"bg-gray-200"),onClick:()=>t(!0),children:"\u56FA\u5B9A\u884C\u9AD8"}),o.exports.jsx("button",{className:W("mr-2",!e&&n==="array"&&"bg-gray-200"),onClick:()=>{t(!1),r("array")},children:"\u52A8\u6001\u884C\u9AD8 Array"}),o.exports.jsx("button",{className:W(!e&&n==="object"&&"bg-gray-200"),onClick:()=>{t(!1),r("object")},children:"\u52A8\u6001\u884C\u9AD8 Object"})]}),e?o.exports.jsx(Er,{}):n==="array"?o.exports.jsx(Cr,{}):o.exports.jsx(Dr,{})]})},Tr=()=>(l.exports.useEffect(()=>{[0,-0,1/0,NaN,"",!1,null,void 0].forEach((t,n)=>{console.log(t,n),t&&console.log("\u771F\u503C",t)})}),o.exports.jsx("div",{})),Mr=()=>{const e=Sr();return()=>e},Sr=()=>ae(1e4).map((t,n)=>({id:t.id,bottom:(n+1)*90,height:90,diffHeight:0})),Lr=()=>(l.exports.useEffect(()=>{},[]),l.exports.useEffect(()=>{setTimeout(()=>{window.f=Mr(),console.log("%c Data generated","color: #f00;",window.f()),setTimeout(()=>{console.log("%c Data recovery","color: #f00;"),window.f=null},4e3)},1e3)},[]),null),jr=()=>o.exports.jsx("div",{children:o.exports.jsx(Ir,{})}),Nr=()=>(console.log("%c Child","color:#2196f3;"),l.exports.useEffect(()=>{console.log("%c Child useEffect","color:#2196f3;")}),o.exports.jsx("div",{className:"w-20 border border-green-300 px-1 mt-2",children:"Child"})),Ir=()=>(console.log("%c Parent","color:#2196f3;"),l.exports.useEffect(()=>{console.log("%c Parent useEffect","color:#2196f3;")}),o.exports.jsxs("div",{className:"react-lifecycle-container border border-red-400 p-2 w-[600px]",children:[o.exports.jsx("div",{children:"React Lifecycle \u6253\u5F00\u63A7\u5236\u53F0\u67E5\u770B\u987A\u5E8F\uFF01\uFF01\uFF01"}),o.exports.jsx(Nr,{})]})),kr=300;class Fr{constructor({textLayerDiv:t,eventBus:n,pageIndex:r,viewport:s,highlighter:c=null,enhanceTextSelection:a=!1}){this.textLayerDiv=t,this.eventBus=n,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=r+1,this.viewport=s,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=c,this.enhanceTextSelection=a,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const t=document.createElement("div");t.className="endOfContent",this.textLayerDiv.appendChild(t)}}render(t=0){var r;if(!(this.textContent||this.textContentStream)||this.renderingDone)return;this.cancel(),this.textDivs.length=0,(r=this.highlighter)==null||r.setTextMapping(this.textDivs,this.textContentItemsStr);const n=document.createDocumentFragment();this.textLayerRenderTask=window.pdfjsLib.renderTextLayer({textContent:this.textContent,textContentStream:this.textContentStream,container:n,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:t,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var s;this.textLayerDiv.appendChild(n),this._finishRendering(),(s=this.highlighter)==null||s.enable()})}cancel(){var t;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),(t=this.highlighter)==null||t.disable()}setTextContentStream(t){this.cancel(),this.textContentStream=t}setTextContent(t){this.cancel(),this.textContent=t}_bindMouse(){const t=this.textLayerDiv;let n=null;t.addEventListener("mousedown",r=>{if(this.enhanceTextSelection&&this.textLayerRenderTask){this.textLayerRenderTask.expandTextDivs(!0),(typeof PDFJSDev=="undefined"||!PDFJSDev.test("MOZCENTRAL"))&&n&&(clearTimeout(n),n=null);return}const s=t.querySelector(".endOfContent");if(!!s){if(typeof PDFJSDev=="undefined"||!PDFJSDev.test("MOZCENTRAL")){let c=r.target!==t;if((typeof PDFJSDev=="undefined"||PDFJSDev.test("GENERIC"))&&(c=c&&window.getComputedStyle(s).getPropertyValue("-moz-user-select")!=="none"),c){const a=t.getBoundingClientRect(),i=Math.max(0,(r.pageY-a.top)/a.height);s.style.top=(i*100).toFixed(2)+"%"}}s.classList.add("active")}}),t.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask){typeof PDFJSDev=="undefined"||!PDFJSDev.test("MOZCENTRAL")?n=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),n=null},kr):this.textLayerRenderTask.expandTextDivs(!1);return}const r=t.querySelector(".endOfContent");!r||((typeof PDFJSDev=="undefined"||!PDFJSDev.test("MOZCENTRAL"))&&(r.style.top=""),r.classList.remove("active"))})}}const Ar=l.exports.memo(({container:e,pageNum:t,drawPage:n})=>{const r=l.exports.useRef(null);return l.exports.useEffect(()=>{if(!r.current)return;const s=new IntersectionObserver((c,a)=>{c.forEach(i=>{i.isIntersecting&&(n(Number(t)),a.disconnect())})},{root:e,rootMargin:"800px 0px"});return s.observe(r.current),()=>s.disconnect()},[e,n,t]),o.exports.jsx("div",{ref:r,id:`page-${t}`,className:"relative bg-white mb-4 mx-auto",style:{width:yt,height:Pr},children:"loading"})}),we={},Br=(e,t)=>(we[e]||(we[e]=new Promise((n,r)=>{let s;t==="script"?(s=document.createElement(t),s.src=e):(s=document.createElement(t),s.href=e,s.rel="stylesheet",s.type="text/css"),s.onload=()=>n(),s.onerror=c=>r(c),document.head.appendChild(s)})),we[e]),vt=e=>Br(e,"script"),yt=800,Pr=1130,Hr=20,_r=55;class $r{constructor(t){G(this,"disposed",!1);G(this,"pdf");this.file=t}async load(){return await vt("/pdf/pdf.js"),window.pdfjsLib.getDocument({url:this.file,cMapUrl:"/pdf/cmaps/",cMapPacked:!0}).promise.then(t=>(this.pdf=t,this.disposed&&t.destroy(),t))}dispose(){this.disposed=!0,this.pdf&&this.pdf.destroy()}}const Or="https://hexiang-images.oss-cn-beijing.aliyuncs.com/rxjs%20%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3.pdf",Yr=({fileUrl:e=Or})=>{var R;const t=l.exports.useRef(),n=l.exports.useRef(!1),r=l.exports.useRef(null),s=l.exports.useRef(null),c=l.exports.useRef(null),a=l.exports.useRef(null),i=l.exports.useRef(),[u,h]=l.exports.useState(!0),[d,f]=l.exports.useState(!1),[m,v]=l.exports.useState("1");l.exports.useEffect(()=>{const g=new $r(e);return g.load().then(D=>{t.current=D,h(!1)}),()=>{g.dispose(),p()}},[e]);const y=l.exports.useCallback(g=>{if(!s.current)return;const D=s.current.querySelector(`div[id=page-${g}]`);!D||(D.innerHTML="",t.current.getPage(g).then(T=>{if(!c.current)return;const M=T.getViewport({scale:(window.devicePixelRatio||1)*1.5}),S=document.createElement("canvas"),A=S.getContext("2d");if(!A)return;const _=c.current.clientWidth,$=M.width/Math.min(yt,_-Hr*2);D.appendChild(S),S.height=M.height,S.width=M.width;const Y=S.width/$,k=S.height/$;D.style.width=`${Y}px`,D.style.height=`${k}px`,S.style.width=`${Y}px`,S.style.height=`${k}px`,T.render({canvasContext:A,viewport:M}).promise.then(()=>T.getTextContent()).then(B=>{const j=document.createElement("div");j.setAttribute("class","textLayer"),j.style.transform=`scale(${1/$})`,j.style.width=`${S.width}px`,j.style.height=`${S.height}px`,D.appendChild(j);const N=new Fr({textLayerDiv:j,pageIndex:T.pageIndex,viewport:M});N.setTextContent(B),N.render()})}))},[]),w=g=>{if(!c.current)return;const D=document.querySelector(`#page-${g}`);!D||(c.current.scrollTo(0,D.offsetTop),v(g))},b=()=>{const g=parseInt(m,10);Number.isNaN(g)||g>t.current.numPages?alert("\u8F93\u5165\u9875\u7801\u65E0\u6548\uFF01"):(m!==g.toString()&&v(g.toString()),w(g.toString()))},p=()=>{i.current&&clearTimeout(i.current)},x=g=>{var T;if(g){if((T=r.current)!=null&&T.contains(g.target)){n.current=!0,f(!0),p();return}n.current=!1}if(n.current)return;const D=()=>{i.current=setTimeout(()=>{p(),a.current===document.activeElement?D():f(!1)},1e3)};d?(p(),D()):(f(!0),D())},C=()=>{var S;a.current===document.activeElement&&((S=a.current)==null||S.blur()),x();const g=c.current;if(!g)return;const D=document.elementFromPoint(g.clientWidth/2,g.clientHeight/2+_r);if(!D)return;const T=D.closest("div[id^=page]");if(!T)return;const M=T.id.split("-")[1];M&&v(M)},E=()=>{if(u||!t.current||!c.current)return null;const g=[];for(let D=1;D<t.current.numPages+1;D++)g.push(o.exports.jsx(Ar,{drawPage:y,pageNum:D,container:c.current},D));return g};return o.exports.jsx("div",{className:"w-full h-[750px] relative",children:o.exports.jsxs("div",{ref:c,className:"w-full h-full overflow-y-auto flex justify-center pt-2 bg-black/70 border",onScroll:pe(C,300),onMouseMove:pe(x,300),children:[o.exports.jsx("div",{ref:s,style:{height:"max-content"},children:E()}),o.exports.jsxs("div",{ref:r,className:W("absolute z-50 flex items-center h-12 px-2 text-white transition-all duration-200 -translate-x-1/2 rounded-sm bottom-4 left-1/2 bg-black "),children:[o.exports.jsx("button",{className:"flex items-center justify-center mr-1 rounded animate-hover hover:bg-white hover:bg-opacity-10",children:o.exports.jsx(Bt,{className:"p-1 w-full",onClick:()=>w(String(Number(m)-1))})}),o.exports.jsxs("div",{className:"relative px-0.5",children:[o.exports.jsx("span",{className:"invisible",children:String(m)}),o.exports.jsx("input",{ref:a,type:"text",className:"absolute left-0 top-0 h-full w-full px-0 bg-transparent border-none focus:border-0 ",style:{backgroundColor:"transparent"},value:m,onKeyDown:g=>{Pt("enter")(g)&&b()},onChange:g=>{v(g.target.value)}})]}),"\xA0/\xA0\xA0",o.exports.jsxs("span",{children:[" ",(R=t.current)==null?void 0:R.numPages," "]}),o.exports.jsx("button",{className:"flex items-center justify-center ml-1 rounded animate-hover hover:bg-white hover:bg-opacity-10",children:o.exports.jsx(Ht,{size:"large",className:"p-1 w-full",onClick:()=>w(String(Number(m)+1))})})]}),u&&o.exports.jsx(o.exports.Fragment,{children:"loading..."})]})})},Wr=[{text:"\u5B58\u53D6\u7684\u5404\u79CD\u7C7B\u578B\u6570\u636E",type:"dataType"},{text:"\u6570\u636E\u8FC7\u671F\u6E05\u9664",type:"expires"},{text:"\u8D85\u5927\u6570\u636E\u65E0\u6CD5\u5B58\u5165",type:"bigData"},{text:"\u7A7A\u95F4\u4E0D\u591F\u5220\u9664\u4E0D\u5E38\u7528\u6570\u636E",type:"exceedSize"}],zr=()=>{const[e,t]=l.exports.useState("dataType"),n=l.exports.useRef();l.exports.useEffect(()=>(i(e),()=>{n.current&&(clearInterval(n.current),clearTimeout(n.current))}),[]);const r=()=>{U.setItem("dataType",1);const u=[[F(),!0],[F(),null],[F(),void 0],[F(),111],[F(),"this is a sentence"],[F(),ae(2)]];u.forEach(([h,d])=>{U.setItem(h,d)}),n.current=setTimeout(()=>{console.groupCollapsed("%c \u53D6\u51FA\u5404\u79CD\u7C7B\u578B\u6570\u636E","color: red;"),u.forEach(([h])=>{const d=U.getItem(h);console.log(d,"type:"+typeof d)}),console.groupEnd()},1e3)},s=()=>{U.setLiveTime(3*1e3),U.setCheckIntervalTime(5*1e3);const u=ae(1);U.setItem("expires",u),n.current=setInterval(()=>{U.setItem(F(),u)},500)},c=()=>{const u=ae(2e4);U.setItem("bigData",u),n.current=setInterval(()=>{U.setItem(F(),u)},2e3)},a=()=>{const u=ae(4e3);U.setItem("exceedSize",u),n.current=setInterval(()=>{U.setItem(F(),u)},1e3)},i=u=>{switch(t(u),U.clear(),U.resetTime(),n.current&&(clearInterval(n.current),clearTimeout(n.current)),u){case"bigData":c();break;case"dataType":r();break;case"exceedSize":a();break;case"expires":s();break}};return o.exports.jsx("div",{children:Wr.map(({text:u,type:h})=>o.exports.jsx("button",{onClick:()=>i(h),className:W("mr-2",h===e&&"bg-gray-200"),children:u},h))})},Xr=()=>{const[e,t]=l.exports.useState(!1);return o.exports.jsxs("div",{className:"relative h-screen overflow-hidden",children:[o.exports.jsxs("div",{className:"h-full w-20 absolute z-50 border-r",children:[o.exports.jsx("button",{className:"px-2 text-sm border-none rounded-md w-full h-10",onClick:()=>t(!e)}),e&&o.exports.jsx("div",{className:"flex flex-col pt-2",children:Ae.map(n=>o.exports.jsx(_t,{to:`/example/${n.path}`,className:"w-full px-2 h-8 flex items-center mb-2 hover:bg-gray-100",children:n.path},n.path))})]}),o.exports.jsx("div",{className:"overflow-scroll h-screen m-4 ml-24",children:o.exports.jsxs($e,{children:[Ae.map(n=>o.exports.jsx(ue,{path:`/example/${n.path}`,component:n.component},n.path)),o.exports.jsx(ue,{path:"/",component:Ae[0].component})]})})]})},Ae=[{path:"storage",component:zr},{path:"pdf",component:Yr},{path:"memory",component:Lr},{path:"timeline",component:bn},{path:"table",component:ur},{path:"canvas",component:$n},{path:"notice",component:tr},{path:"icons",component:Qn},{path:"scrollbar",component:nr},{path:"selector",component:sr},{path:"history",component:zn},{path:"calender",component:In},{path:"visualList",component:Rr},{path:"gesture",component:Wn},{path:"lodash",component:Tr},{path:"react",component:jr}],Vr=e=>new Promise((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>{var u;const s=r.result;if(typeof s!="string"){n();return}const c=atob((u=s.split(";base64,")[1])!=null?u:""),{encoding:a}=window.jschardet.detect(c),i=new FileReader;i.readAsText(e,a),i.onload=()=>{if(typeof i.result=="string"){t(i.result);return}n()}}}),Ur=({setFileUrl:e})=>{const[t,n]=l.exports.useState([]);l.exports.useEffect(()=>{n(["mongo.md","other.md","regexp.md","responsive.md","serverless.md","swaggeer.md",{dir:"test",files:["test.md"]},"todo.md","vercel.md","\u514D\u5BC6\u767B\u5F55.md"])},[]);const r=(s,c=1,a="")=>o.exports.jsx("div",{className:"flex flex-col",style:{paddingLeft:(c-1)*20},children:s.map(i=>{if(typeof i=="string"){const u=i.split(".md")[0],h=a+"/"+i;return o.exports.jsx($t,{className:"h-7 p-2 flex items-center rounded",to:`/note${h.replace(".md","")}`,activeClassName:"bg-[#37352f14]",onClick:()=>e(h),children:u},i)}else return o.exports.jsxs("div",{className:"p-2",children:[o.exports.jsx("span",{className:"h-7 flex items-center rounded",children:i.dir}),r(i.files,c+1,a+"/"+i.dir)]},i.dir)})},a);return o.exports.jsx("div",{className:"w-[120px] min-w-[120px] border-r text-md p-2 text-sm",children:r(t)})};const qr=()=>{const[e,t]=l.exports.useState(""),n=location.pathname.split("/note/"),r=n[n.length-1],[s,c]=l.exports.useState(r?`/${r}.md`:"");l.exports.useEffect(()=>{s&&Zr("/docs"+s).then(i=>t(i))},[s]);const a={properties:{class:"anchor",tabIndex:-1},content:{type:"element",tagName:"span",properties:{className:["octicon","octicon-link"]},children:[]}};return o.exports.jsxs("div",{className:"flex h-screen",children:[o.exports.jsx(Ur,{setFileUrl:c}),o.exports.jsx("div",{className:"overflow-auto markdown-body flex-1 flex justify-center",children:o.exports.jsx(Ot,{className:"max-w-[894px] px-5 h-max py-10",remarkPlugins:[Yt,[Wt,{heading:"\u76EE\u5F55"}]],rehypePlugins:[zt,Xt,Vt,[Ut,a]],components:{pre({children:i}){return o.exports.jsx("div",{className:"overflow-auto",children:o.exports.jsx("pre",{children:i})})}},children:e})})]})},Zr=async e=>(await vt("/jschardet.js"),fetch(e).then(t=>t.blob()).then(async t=>await Vr(t))),Gr=qt({loader:()=>ln(()=>import("./index.3241a0ef.js"),["assets/index.3241a0ef.js","assets/index.2b827467.css","assets/vendor.430a9dc8.js"]),loading:()=>o.exports.jsx("div",{children:"loading"})}),Jr=()=>{const[e,t]=l.exports.useState(P(Date.now()));return l.exports.useEffect(()=>{setInterval(()=>{e!==P(Date.now())&&t(P(Date.now()))},30*60*1e3)},[e]),o.exports.jsx(lt.Provider,{value:e,children:o.exports.jsxs($e,{children:[o.exports.jsx(ue,{path:"/swagger",component:Gr}),o.exports.jsx(ue,{path:"/note",component:qr}),o.exports.jsx(ue,{path:"/",component:Xr})]})})};const Kr=()=>(sn(),l.exports.useEffect(()=>()=>U.destroy()),o.exports.jsx(Gt.StrictMode,{children:o.exports.jsx(Jt,{children:o.exports.jsx($e,{children:o.exports.jsx(ue,{path:"/",component:Jr})})})}));Zt.render(o.exports.jsx(Kr,{}),document.getElementById("root"));export{es as __vite_legacy_guard};
